<?xml version="1.0"?>
<!DOCTYPE TranscendenceExtension
	[
	;1000-MSVanillaOverride
	;NOTE:
	;any entities here are overridden from Vanilla Trans
		; any entities in this indent are new items that use my UNID
	;vtOverrideOverseer
	<!ENTITY unidMSVanillaOverride		"0xE1281000">
	
	<!ENTITY svRogueFleet				"0x0000100B">
	
	<!ENTITY stTinkerGathering			"0x08040080">
	
	
	<!--I am missing one of the next ~50 stations so yeah if you have time please tell me so I can add the background plane and stuff.-->
	
	<!--
	<!ENTITY stPrimordialStar			"0x00020014">
	;found a way not to rewrite them
	<!ENTITY stPrimordialPlanetoidSizeF	"0x0002001E">
	<!ENTITY stPrimordialPlanetoidSizeF2	"0x0002001F">
	<!ENTITY stPrimordialTerrestrialSizeH	"0x00020020">
	<!ENTITY stPrimordialTerrestrialSizeH2	"0x00020021">
	<!ENTITY stPrimordialTerrestrialSizeJ	"0x00020022">
	<!ENTITY stPrimordialGasGiantSizeK	"0x00020023">
	
	<!ENTITY stRockyPlanetoidSizeE		"0x00020030">
	<!ENTITY stRockyPlanetoidSizeF		"0x00020031">
	<!ENTITY stRockyPlanetoidSizeG		"0x00020032">
	
	<!ENTITY stIcePlanetoidSizeE		"0x00020037">
	<!ENTITY stIcePlanetoidSizeF		"0x00020038">
	<!ENTITY stIcePlanetoidSizeG		"0x00020039">
	
	<!ENTITY stMetallicPlanetoidSizeE	"0x0002003E">
	<!ENTITY stMetallicPlanetoidSizeF	"0x0002003F">
	<!ENTITY stMetallicPlanetoidSizeG	"0x00020040">
	
	<!ENTITY stPrimordialPlanetoidSizeE	"0x00020043">
	<!ENTITY stPrimordialPlanetoidSizeG	"0x00020044">
	
	<!ENTITY stVolcanicPlanetoidSizeE	"0x00020049">
	<!ENTITY stVolcanicPlanetoidSizeF	"0x0002004A">
	<!ENTITY stVolcanicPlanetoidSizeG	"0x0002004B">
	<!ENTITY stVolcanicTerrestrialSizeH	"0x0002004C">
	<!ENTITY stBiosphereTerrestrialSizeI	"0x00020053">
	<!ENTITY stDesertTerrestrialSizeH	"0x00020055">
	<!ENTITY stGreenhouseTerrestrialSizeI	"0x00020057">
	<!ENTITY stHydrogenGasGiantSizeM	"0x00020059">
	<!ENTITY stMethaneGasGiantSizeK		"0x0002005D">
	
	<!ENTITY stPlanetoid				"0x00002205">
	<!ENTITY stCrateredPlanet			"0x00002206">
	<!ENTITY stIcePlanet				"0x00002207">
	<!ENTITY stGreenhousePlanet			"0x00002208">
	<!ENTITY stBiospherePlanet			"0x00002209">
	<!ENTITY stDesertPlanet				"0x0000220A">
	<!ENTITY stHydrogenGasGiant			"0x0000220B">
	<!ENTITY stRingedGasGiant			"0x0000220C">
	<!ENTITY stMethaneGasGiant			"0x0000220D">

	<!ENTITY stVolcanicPlanet			"0x00002210">
	
	-->
		<!ENTITY itSunDamageYellowSmall			"0xE1281100">
		<!ENTITY itSunDamageYellowMedium		"0xE1281101">
		<!ENTITY itSunDamageYellowLarge			"0xE1281102">
		<!ENTITY itSunDamageBlueSmall			"0xE1281103">
		<!ENTITY itSunDamageBlueMedium			"0xE1281104">
		<!ENTITY itSunDamageBlueLarge			"0xE1281105">
		<!ENTITY itSunDamageRedSmall			"0xE1281106">
		<!ENTITY itSunDamageRedMedium			"0xE1281107">
		<!ENTITY itSunDamageRedLarge			"0xE1281108">
		<!ENTITY svSun							"0xE1281109">
		<!ENTITY itRotoLooter1					"0xE1281110">
		<!ENTITY itRotoLooter2					"0xE1281111">
		<!ENTITY itRotoLooter3					"0xE1281112">
		<!ENTITY itSunDamageOrangeSmall			"0xE1281113">
		<!ENTITY itSunDamageOrangeMedium		"0xE1281114">
		<!ENTITY itSunDamageOrangeLarge			"0xE1281115">
		<!ENTITY itSunDamagePurpleSmall			"0xE1281116">
		<!ENTITY itSunDamagePurpleMedium		"0xE1281117">
		<!ENTITY itSunDamagePurpleLarge			"0xE1281118">
		<!ENTITY vtOverrideOverseer				"0xE1281119">
		<!ENTITY itSunDamageWhiteSmall			"0xE1281A20">
		<!ENTITY itSunDamageWhiteMedium			"0xE1281A21">
		<!ENTITY itSunDamageWhiteLarge			"0xE1281A22">
	
	<!ENTITY itUrakMassDriverAdvanced	"0x0803014A">
	<!ENTITY itUrakHowitzer				"0x08030149">
	
	<!ENTITY svDwargRaiders				"0x08020140">
		<!ENTITY itDwargHowitzer			"0xE1281A00">
	<!ENTITY scDwargMaster				"0x08020144">
	<!ENTITY scDwargBehemoth			"0x08020145">
	
		<!--
		<!ENTITY svRanxEmpire				"0xE1281B00">
		-->
	
	<!ENTITY tbRanxEncounters			"0x080400C4">
		<!ENTITY itRanxBeamRifle			"0xE1281B01">
		<!ENTITY scRanxBomber				"0xE1281B02">
		<!ENTITY scRanxFrigate				"0xE1281B03">
		<!ENTITY scRanxTurret				"0xE1281B04">
	<!ENTITY scRanxDreadnought			"0x080400C3">
	<!ENTITY stRanxFortress				"0x080400C1">	
	<!ENTITY stRanxOutpost				"0x080400C0">
	
		<!ENTITY itLAM						"0xE1281014">
	<!ENTITY scCenturion				"0x00103001">
	<!ENTITY scCenturionX				"0x00103004">
	<!ENTITY scAquilaCruiser			"0x001A3003">
	<!--
	<!ENTITY scCSCHospital				"0x001A3001">
	<!ENTITY scCSCTaskForce				"0x001A3002">
	-->
	;scCSCAntarctica
	<!--
	<!ENTITY svCSCAntarctica			"0x001A1001">
	<!ENTITY scCSCTerra					"0x001A3004">
	-->
	;rewrite baCSCBase to add the LAM and the damage control parties for compatibility w/ PSD.
	<!ENTITY scRogueMineLayer			"0x080300C2">
	
	<!ENTITY itMicronukeCannon			"0x001B4004">
		<!ENTITY itAresMicroTurret			"0xE1281010">
	<!ENTITY scAresCannon				"0x001B3002">
	<!ENTITY scDeimos					"0x001B3007">
	<!ENTITY scPhobos					"0x001B3008">
	<!ENTITY stAresShipyard				"0x001B2004">
	
	<!ENTITY scXenophobeDefender		"0x08010083">
	<!ENTITY scXenophobeWorldship		"0x08010084">
	

	<!ENTITY itMorningStarCannon		"0x000040FC">
	<!ENTITY itSolarArmor				"0x0000407C">
	<!ENTITY itSolarPanelArray			"0x0000407F">
	<!ENTITY stCommonwealthTurret		"0x00102009">
	<!ENTITY scCorporateCruiser			"0x00153001">
		<!ENTITY itCorporateRailgun			"0xE1281011">
	<!--Resources-->
	
	<!ENTITY rsRanxBomber					"0xE1281C00">
	<!ENTITY rsRanxFrigate					"0xE1281C01">
	<!ENTITY rsRanxTurret					"0xE1281C02">
]>
<TranscendenceExtension UNID="&unidMSVanillaOverride;" version="0.95" name="Dynamic Systems V4 Vanilla Override" credit="RPC">


<image UNID="&rsRanxBomber;"	bitmap="DySys Resources\RanxBomber.jpg" 	bitmask="DySys Resources\RanxBomberMask.bmp"				loadOnUse="true"/>
<image UNID="&rsRanxFrigate;"	bitmap="DySys Resources\RanxFrigate.jpg" 	bitmask="DySys Resources\RanxFrigateMask.bmp"				loadOnUse="true"/>
<image UNID="&rsRanxTurret;"	bitmap="DySys Resources\RanxTurret.jpg" 	bitmask="DySys Resources\RanxTurretMask.bmp"				loadOnUse="true"/>

	<Sovereign UNID="&svRogueFleet;"
		name="rogue fleet"
		alignment="destructive chaos"
		>
		<Relationships>
			<Relationship sovereign="&svAres;" disposition="enemy" mutual="true"/>
		</Relationships>
	</Sovereign>

;Ok, I just realized you don't need to redefine UNIDs to override Vanilla, but I'm going to do that just to give a modder the heads up of what I overwrote
;Overrode all asteroids with
;     mobile=				"true"
;so that they can be moved [because I want the Suns to push them away to reduce lag]
<!--
sun weapon effects before taming:
small:
damage=			"plasma:6d8; WMD1; momentum5; EMP3;"
medium:
damage=			"plasma:6d8; WMD1; momentum5; EMP1; radiation1;"
large:
damage=			"plasma:6d8; WMD1; momentum5; radiation2;"
-->

<!--
useScreen=			"Main"
			useKey=				"X"
			useInstalledOnly=	"true"
-->

	<ItemType UNID="&itRotoLooter1;"
			name=				"Dash Merc's Roto-Looter"
			level=				"1"
			value=				"500"
			mass=				"2000"
			frequency=			"notrandom"
			attributes=			"MajorItem;"

			description=		"This device holds down a ship-it could fire a graviton beam at the ship, or encase the ship inside an electromagnetic field."
			
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="192" imageWidth="96" imageHeight="96"/>

		<MiscellaneousDevice
				powerUse=		"50"
				/>
			<Invoke>
				;if the playership has no target, 
					;target nearest wreck
					;neutralize its position
					;(objSetVel obj velVector) goes to 0
					
					;another option is to add something incredibly heavy
			</Invoke>
		</Itemtype>

	<StationType UNID="&vtOverrideOverseer;"
        name=               "Virtual Station"
        virtual=            "True"
        >
       <Events>
			<OnGlobalSystemCreated>
				(block Nil
					(sysCreateStation &vtOverrideOverseer; nil)
					)
			</OnGlobalSystemCreated>
			
			<OnCreate>
				(block Nil
					;add recurring timer event that checks for suns and does their weaponsfire eff
					(sysAddObjRecurringTimerEvent 30 gSource "Sun")
					;set all planets to be uninteractable
					(enum (sysFindObject Nil "t") PlanetCandidate (block Nil
						(switch
							(eq (ObjGetProperty PlanetCandidate 'scale) "world")
								(block Nil
									(ObjSetProperty PlanetCandidate 'Parallax 101)
									)
							)
						))
					;set gates to be uninteractable
					(enum (sysFindObject Nil "G") Stargate (block Nil
						(ObjSetProperty Stargate 'Parallax 101)
						))
					)
			</OnCreate>
			
			<Sun>
				(block Nil
				<!--
				(enum (SysFindObject Nil "tB:star;") test (block Nil
					(PrintTo 'log "what's the name")
					(PrintTo 'log (SysGetNode))
					(PrintTo 'log (ObjGetProperty test 'name))
					
					))
				
					-->
					(enum (SysFindObject Nil "tB:star;") sunObj	(block Nil
						(switch
							(eq (ObjGetType sunObj) &stStarClassM8;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									;(sysCreateWeaponFire weaponID          objSource posVector             dir speed objTarget [detonateNow])
									(sysCreateWeaponFire &itSunDamageRedSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassM5;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageRedSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassM0;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageBlueSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassK5;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageOrangeSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageOrangeMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageOrangeLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassK0;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageOrangeSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageOrangeMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageOrangeLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassG5;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageYellowSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassG2;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageYellowSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassG0;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageYellowSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageYellowLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassF5;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageWhiteSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassF0;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageWhiteSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassA5;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageBlueSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stStarClassA0;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageBlueSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stNebulaStar;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageBlueSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageBlueLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stRedGiantStar;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageRedSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageRedLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							(eq (ObjGetType sunObj) &stWhiteDwarfStar;)
								(block Nil
									(objSetProperty sunObj 'Parallax 101)
									(sysCreateWeaponFire &itSunDamageWhiteSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 5)) (random 0 359)(typGetDataField &itSunDamageBlueSmall; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageBlueMedium; 'speed) gSource)
									(sysCreateWeaponFire &itSunDamageWhiteLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageBlueLarge; 'speed) gSource)
									)
							Nil
							)
						))
					)
			</Sun>
       </Events>
    </StationType>	
		
		
	<Sovereign UNID="&svSun;"
			name="Stars"
			alignment="constructive chaos"
			>
		<Relationships>
			<Relationship sovereign="&svCommonwealth;" disposition="enemy" mutual="true"/>
			<Relationship sovereign="&svCorporate;" disposition="enemy" mutual="true"/>
		</Relationships>
	</Sovereign>

	<!-- Sun Damage [Yellow-Small] -->

	<ItemType UNID="&itSunDamageYellowSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
			<!--
			accelerationFactor="125"
			-->
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor="0xFF, 0x80, 0x00"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"0xFF, 0x80, 0x00"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0x80, 0x00"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Yellow-Medium] -->

	<ItemType UNID="&itSunDamageYellowMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"10-35"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"0xFF, 0xb3, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0xb3, 0x00"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Yellow-Large] -->

	<ItemType UNID="&itSunDamageYellowLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"0xff, 0xff, 0x80"
							secondaryColor=	"0xff, 0xff, 0x80"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"0xFF, 0xE1, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xff, 0xff, 0x80"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>

	<!-- Sun Damage [Blue-Small] -->

	<ItemType UNID="&itSunDamageBlueSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
									<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor=	"0x33, 0xCC, 0xCC"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"0x33, 0xFF, 0xFF"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0x33, 0xCC, 0xCC"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Blue-Medium] -->

	<ItemType UNID="&itSunDamageBlueMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"15"						
						accelerationFactor="125"
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"0x33, 0x99, 0xFF"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0x00, 0x66, 0xCC"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Blue-Large] -->

	<ItemType UNID="&itSunDamageBlueLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"0x00, 0x99, 0x99"
							SecondaryColor=	"0x00, 0x99, 0x99"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"0x00, 0x33, 0x66"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0x00, 0x99, 0x99"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Red-Small] -->

	<ItemType UNID="&itSunDamageRedSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor="0xFF, 0xCC, 0x33"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"0xCC, 0x99, 0x00"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0xCC, 0x33"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Red-Medium] -->

	<ItemType UNID="&itSunDamageRedMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"10-35"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"0x99, 0x33, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0x66, 0x33"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Red-Large] -->

	<ItemType UNID="&itSunDamageRedLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"0xFF, 0x33, 0x00"
							SecondaryColor=	"0xFF, 0x33, 0x00"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"0x99, 0x33, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0x33, 0x00"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Orange-Small] -->

	<ItemType UNID="&itSunDamageOrangeSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor="0xFF, 0xCC, 0x33"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"0xFF, 0x66, 0x33"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0xCC, 0x33"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Orange-Medium] -->

	<ItemType UNID="&itSunDamageOrangeMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"10-35"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"0xCC, 0x33, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0x66, 0x00"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Orange-Large] -->

	<ItemType UNID="&itSunDamageOrangeLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"0xFF, 0x33, 0x00"
							SecondaryColor=	"0xFF, 0x33, 0x00"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"0xCC, 0x66, 0x00"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xCC, 0x66, 0x33"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Purple-Small] -->

	<ItemType UNID="&itSunDamagePurpleSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor="0x99, 0xCC, 0xFF"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"0x00, 0x33, 0x99"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0xCC, 0x33"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Purple-Medium] -->

	<ItemType UNID="&itSunDamagePurpleMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"10-35"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"0x33, 0x00, 0x99"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0x33, 0x00, 0x66"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [Purple-Large] -->

	<ItemType UNID="&itSunDamagePurpleLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"0xCC, 0xCC, 0xFF"
							SecondaryColor=	"0x66, 0x33, 0x99"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"0x99, 0x66, 0xFF"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0x00, 0xFF"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [White-Small] -->

	<ItemType UNID="&itSunDamageWhiteSmall;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5; EMP3;"
						missileSpeed=	"9-25"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"
						
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="25"
						vaporTrailColor="0x99, 0xCC, 0xFF"
						
						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"10"
							primaryColor=	"#bfbfbf"
							
						/>
						<!--
						<ParticleComet
								particleCount=	"200"
								primaryColor=	"0xFF, 0xCC, 0x33"

								width=			"10"
								length=			"80"
								/>
								-->
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [White-Medium] -->

	<ItemType UNID="&itSunDamageWhiteMedium;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"10-35"						
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Flare
							style=			"fadingBlast"
							radius=			"20"
							primaryColor=	"#bfbfbf"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"#404040"
								width=			"20"
								length=			"120"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>
	
	<!-- Sun Damage [White-Large] -->

	<ItemType UNID="&itSunDamageWhiteLarge;"
			name=				"Sun Damage"
			level=				"13"
			value=				"4000000"
			mass=				"15000"
			frequency=			"notrandom"
			virtual=			"true"

			description=		"The powers of the sun flow through here."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"50"
				powerUse=			"8000"
				>

			<Missiles>
				<Missile
						type=			"missile"

						damage=			"plasma:6d8; WMD7; momentum5;"
						missileSpeed=	"20-45"
						accelerationFactor="110"
						
						maxMissileSpeed="30"
						maneuverability="6"
						lifetime=		"180"
						
						noFriendlyFire=	"true"

						sound=			"&snRecoillessCannon;"
						>

					<Effect>
						<Starburst
							style=			"flare"
							spikeCount=		"8"
							spikeLength=	"15-25"
							primaryColor=	"#f2f2f2"
							SecondaryColor=	"#ffff99"
							/>
						<Flare
							style=			"fadingBlast"
							radius=			"40"
							primaryColor=	"#ffffcc"
							
						/>

						<ParticleComet
								particleCount=	"200"
								primaryColor=	"#ffff1a"

								width=			"40"
								length=			"200"
								/>
					</Effect>
				</Missile>
			</Missiles>

		</Weapon>

	</ItemType>	
	
	<!-- Primordial Star 

	<StationType UNID="&stPrimordialStar;"
		name=				"(primordial star)"
		scale=				"star"
		sovereign=			"&svIndependent;"
		spaceColor=			"0x4d, 0x41, 0x0f"
		maxLightRadius=		"400"
		backgroundPlane = 	"101"

		attributes=			"generic, primordial, star"
		>

		<Image>
			<FilterColorize hue="49" saturation="60">
				<Image imageID="&rsStar1;" imageX="0" imageY="0" imageWidth="512" imageHeight="512"/>
			</FilterColorize>
		</Image>
		<Events>
			<OnCreate>
				(block Nil
					(sysAddObjRecurringTimerEvent 30 gSource "Sun")
					;(sysAddObjRecurringTimerEvent 30 gSource "Gravity")
					)
			</OnCreate>
			<Sun>
				(block Nil
				;(sysCreateWeaponFire weaponID          objSource posVector             dir speed objTarget [detonateNow])
				(sysCreateWeaponFire &itSunDamageYellowSmall; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 10)) (random 0 359)(typGetDataField &itSunDamageYellowSmall; 'speed) gSource)
				(sysCreateWeaponFire &itSunDamageYellowMedium; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 15)) (random 0 359)(typGetDataField &itSunDamageYellowMedium; 'speed) gSource)
				(sysCreateWeaponFire &itSunDamageYellowLarge; Nil (sysVectorPolarOffset (objGetPos gSource) (random 0 360) (random 0 20)) (random 0 359)(typGetDataField &itSunDamageYellowLarge; 'speed) gSource)
				)
			</Sun>
		</Events>
	</StationType>
	-->
	

	<!-- Planetoid 

	<StationType UNID="&stPlanetoid;"
		name=				"(rocky planetoid)"
		scale=				"world"
		size=				"1150"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planetoid, rocky"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType>
	-->
	<!-- Cratered Planet
	
	

	<StationType UNID="&stCrateredPlanet;"
		name=				"(rocky terrestrial)"
		scale=				"world"
		size=				"1150"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"rocky, terrestrial"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType> -->
	
	<!-- Ice Planet 

	<StationType UNID="&stIcePlanet;"
		name=				"(ice terrestrial)"
		scale=				"world"
		size=				"4700"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"ice, terrestrial"
		>
		<ImageVariants>
			<Image			imageID="&rsWorldsIcePlanet1;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet2;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet3;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet4;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
		</ImageVariants>
	</StationType>-->
	
	<!-- Volcanic Planet 

	<StationType UNID="&stVolcanicPlanet;"
		name=				"(volcanic terrestrial)"
		scale=				"world"
		size=				"5000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"terrestrial, volcanic"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="512" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="640" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="768" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="896" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>
	-->
	
	<!-- Biosphere 

	<StationType UNID="&stBiospherePlanet;"
		name=				"(biosphere terrestrial)"
		scale=				"world"
		size=				"10000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"biosphere, terrestrial"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="0"   imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="128" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="256" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="384" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>-->

	<!-- Desert Planet 

	<StationType UNID="&stDesertPlanet;"
		name=				"(desert terrestrial)"
		scale=				"world"
		size=				"7000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"desert, terrestrial"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="0" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="128" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="256" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="384" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>-->

	<!-- Greenhouse Planet 

	<StationType UNID="&stGreenhousePlanet;"
		name=				"(greenhouse terrestrial)"
		scale=				"world"
		size=				"5000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"co2planet, terrestrial"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType>-->

	<!-- Hydrogen Gas Giant 

	<StationType UNID="&stHydrogenGasGiant;"
		name=				"(hydrogen gas giant)"
		scale=				"world"
		size=				"140000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"gasGiant"
		>
		<Image imageID="&rsWorlds1;" imageX="0" imageY="512" imageWidth="256" imageHeight="256" imageFrameCount="0" imageTicksPerFrame="0"/>
	</StationType>-->

	<!-- Methane Gas Giant 

	<StationType UNID="&stMethaneGasGiant;"
		name=				"(methane gas giant)"
		scale=				"world"
		size=				"50000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"gasGiant"
		>
		<Image imageID="&rsWorlds1;" imageX="0" imageY="768" imageWidth="192" imageHeight="192" imageFrameCount="0" imageTicksPerFrame="0"/>
	</StationType>-->
	
	<!--NEW IN 1.2 beta 2-->
	
	<!-- ASTEROIDS & PLANETS -->

	<!-- Size E Primordial Planetoid 

	<StationType UNID="&stPrimordialPlanetoidSizeE;"
		name=				"(primordial planetoid)"
		scale=				"world"
		size=				"1150"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, primordial"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="370" imageY="0"		imageWidth="130"  imageHeight="130"/>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="370" imageY="130"	imageWidth="130"  imageHeight="130"/>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="370" imageY="260"	imageWidth="130"  imageHeight="130"/>
		</ImageVariants>
	</StationType>-->

	<!-- Size F Primordial Planetoid 

	<StationType UNID="&stPrimordialPlanetoidSizeF;"
		name=				"(primordial planetoid)"
		scale=				"world"
		size=				"1640"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, primordial"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="500" imageY="0"     imageWidth="160"  imageHeight="160"/>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="500" imageY="160"   imageWidth="160"  imageHeight="160"/>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="500" imageY="320"   imageWidth="160"  imageHeight="160"/>
		</ImageVariants>
	</StationType>-->

	<!-- Size G Primordial Planetoid 

	<StationType UNID="&stPrimordialPlanetoidSizeG;"
		name=				"(primordial planetoid)"
		scale=				"world"
		size=				"4000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, primordial"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="660" imageY="0"     imageWidth="180"  imageHeight="180"/>
			<Image	imageID="&rsPrimordialAsteroids;"	imageX="660" imageY="180"   imageWidth="180"  imageHeight="180"/>
		</ImageVariants>
	</StationType>-->

	<!-- Size H Primordial Terrestrial 

	<StationType UNID="&stPrimordialTerrestrialSizeH;"
		name=				"(primordial terrestrial)"
		scale=				"world"
		size=				"4285"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, primordial, terrestrial"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialWorlds;"	imageX="0"   imageY="580"   imageWidth="182"  imageHeight="182"/>
		</ImageVariants>
	</StationType>-->

	<!-- Size J Primordial Terrestrial

	<StationType UNID="&stPrimordialTerrestrialSizeJ;"
		name=				"(primordial terrestrial)"
		scale=				"world"
		size=				"22000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, primordial, terrestrial"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialWorlds;"	imageX="340" imageY="0"     imageWidth="270"  imageHeight="270"/>
		</ImageVariants>
	</StationType> -->

	<!-- Size K Primordial Gas Giant

	<StationType UNID="&stPrimordialGasGiantSizeK;"
		name=				"(primordial gas giant)"
		scale=				"world"
		size=				"48200"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"atmosphere, denseAtmosphere, gasGiant, generic, inner, lifeZone, outer, primordial"
		>
		<ImageVariants>
			<Image	imageID="&rsPrimordialWorlds;"	imageX="0"   imageY="0"     imageWidth="340"  imageHeight="340"/>
		</ImageVariants>
	</StationType>	 -->
	
	<!-- Rocky Planetoid Size E 

	<StationType UNID="&stRockyPlanetoidSizeE;"
		name=				"(rocky planetoid)"
		scale=				"world"
		size=				"1150"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, rocky"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsRockyAsteroids;" imageX="400" imageY="0"   imageWidth="130" imageHeight="130"/>
			<Image	imageID="&rsRockyAsteroids;" imageX="400" imageY="130" imageWidth="130" imageHeight="130"/>
			<Image	imageID="&rsRockyAsteroids;" imageX="400" imageY="260" imageWidth="130" imageHeight="130"/>
		</ImageVariants>
	</StationType>-->

	<!-- Rocky Planetoid Size F 

	<StationType UNID="&stRockyPlanetoidSizeF;"
		name=				"(rocky planetoid)"
		scale=				"world"
		size=				"2050"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, rocky"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsRockyAsteroids;" imageX="660" imageY="0"   imageWidth="160" imageHeight="160"/>
			<Image	imageID="&rsRockyAsteroids;" imageX="660" imageY="160" imageWidth="160" imageHeight="160"/>
			<Image	imageID="&rsRockyAsteroids;" imageX="660" imageY="320" imageWidth="160" imageHeight="160"/>
		</ImageVariants>
	</StationType>-->

	<!-- Rocky Planetoid Size G 

	<StationType UNID="&stRockyPlanetoidSizeG;"
		name=				"(rocky planetoid)"
		scale=				"world"
		size=				"4000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, rocky"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsRockyAsteroids;" imageX="980" imageY="0"   imageWidth="175" imageHeight="175"/>
			<Image	imageID="&rsRockyAsteroids;" imageX="980" imageY="175" imageWidth="175" imageHeight="175"/>
		</ImageVariants>
	</StationType>-->
	
	<!-- Ice Planetoid Size E 

	<StationType UNID="&stIcePlanetoidSizeE;"
		name=				"(ice planetoid)"
		scale=				"world"
		size=				"1250"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, ice, inner, lifeZone, outer, planetoid"

		ejectaType=			"&vtIceAsteroidEjecta;"
		>
		<ImageVariants>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="0"   imageWidth="140" imageHeight="140"/>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="140" imageWidth="140" imageHeight="140"/>
		</ImageVariants>
	</StationType>-->

	<!-- Ice Planetoid Size F 

	<StationType UNID="&stIcePlanetoidSizeF;"
		name=				"(ice planetoid)"
		scale=				"world"
		size=				"2450"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, ice, inner, lifeZone, outer, planetoid"

		ejectaType=			"&vtIceAsteroidEjecta;"
		>
		<ImageVariants>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="280" imageWidth="160" imageHeight="160"/>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="440" imageWidth="160" imageHeight="160"/>
		</ImageVariants>
	</StationType>-->

	<!-- Ice Planetoid Size G 

	<StationType UNID="&stIcePlanetoidSizeG;"
		name=				"(ice planetoid)"
		scale=				"world"
		size=				"4000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, ice, inner, lifeZone, outer, planetoid"

		ejectaType=			"&vtIceAsteroidEjecta;"
		>
		<ImageVariants>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="600" imageWidth="180" imageHeight="180"/>
			<Image			imageID="&rsIceAsteroids;" imageX="200" imageY="780" imageWidth="180" imageHeight="180"/>
		</ImageVariants>
	</StationType>-->
	
	<!-- Metallic Planetoid Size E 

	<StationType UNID="&stMetallicPlanetoidSizeE;"
		name=				"(metallic planetoid)"
		scale=				"world"
		size=				"1150"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone,  metallic, outer, planetoid"

		ejectaType=			"&vtMetallicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="210"  imageY="0"		imageWidth="140" imageHeight="140"/>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="210"  imageY="140"		imageWidth="140" imageHeight="140"/>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="210"  imageY="280"		imageWidth="140" imageHeight="140"/>
		</ImageVariants>
	</StationType>-->

	<!-- Metallic Planetoid Size F 

	<StationType UNID="&stMetallicPlanetoidSizeF;"
		name=				"(metallic planetoid)"
		scale=				"world"
		size=				"2050"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, metallic, outer, planetoid"

		ejectaType=			"&vtMetallicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="350"  imageY="0"		imageWidth="150" imageHeight="150"/>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="350"  imageY="150"		imageWidth="150" imageHeight="150"/>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="350"  imageY="300"		imageWidth="150" imageHeight="150"/>
		</ImageVariants>
	</StationType>-->

	<!-- Metallic Planetoid Size G 

	<StationType UNID="&stMetallicPlanetoidSizeG;"
		name=				"(metallic planetoid)"
		scale=				"world"
		size=				"4000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, metallic, outer, planetoid"

		ejectaType=			"&vtMetallicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="210"  imageY="450"		imageWidth="180" imageHeight="180"/>
			<Image	imageID="&rsMetallicAsteroids2;" imageX="390"  imageY="450"		imageWidth="180" imageHeight="180"/>
		</ImageVariants>
	</StationType>-->

	<!-- Volcanic Planetoid Size E 

	<StationType UNID="&stVolcanicPlanetoidSizeE;"
		name=				"(volcanic planetoid)"
		scale=				"world"
		size=				"1000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, volcanic"

		ejectaType=			"&vtVolcanicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="200"  imageY="0"   imageWidth="130" imageHeight="130"/>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="200"  imageY="130" imageWidth="130" imageHeight="130"/>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="200"  imageY="260" imageWidth="130" imageHeight="130"/>
		</ImageVariants>
	</StationType>-->

	<!-- Volcanic Planetoid Size F 

	<StationType UNID="&stVolcanicPlanetoidSizeF;"
		name=				"(volcanic planetoid)"
		scale=				"world"
		size=				"2450"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, volcanic"

		ejectaType=			"&vtVolcanicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="330"  imageY="0"   imageWidth="160" imageHeight="160"/>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="330"  imageY="160" imageWidth="160" imageHeight="160"/>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="330"  imageY="320" imageWidth="160" imageHeight="160"/>
		</ImageVariants>
	</StationType>-->

	<!-- Volcanic Planetoid Size G 

	<StationType UNID="&stVolcanicPlanetoidSizeG;"
		name=				"(volcanic planetoid)"
		scale=				"world"
		size=				"3750"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, inner, lifeZone, outer, planetoid, volcanic"

		ejectaType=			"&vtVolcanicAsteroidEjecta;"
		>
		<ImageVariants>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="490"  imageY="0"   imageWidth="180" imageHeight="180"/>
			<Image	imageID="&rsVolcanicAsteroids;" imageX="490"  imageY="180" imageWidth="180" imageHeight="180"/>
		</ImageVariants>
	</StationType>-->

	<!-- Size H Volcanic Terrestrial 

	<StationType UNID="&stVolcanicTerrestrialSizeH;"
		name=				"(volcanic terrestrial)"
		scale=				"world"
		size=				"5250"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, terrestrial, volcanic"
		>
		<ImageVariants>
			<Image	imageID="&rsVolcanicTerrestrials;" imageX="0"   imageY="0"   imageWidth="200" imageHeight="200"/>
			<Image	imageID="&rsVolcanicTerrestrials;" imageX="0"   imageY="200" imageWidth="200" imageHeight="200"/>
			<Image	imageID="&rsVolcanicTerrestrials;" imageX="0"   imageY="400" imageWidth="200" imageHeight="200"/>
			<Image	imageID="&rsVolcanicTerrestrials;" imageX="0"   imageY="600" imageWidth="200" imageHeight="200"/>
		</ImageVariants>
	</StationType>-->
	
	<!-- Biosphere 

	<StationType UNID="&stBiosphereTerrestrialSizeI;"
		name=				"(biosphere terrestrial)"
		scale=				"world"
		size=				"10000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"biosphere, generic, terrestrial"
		>
		<ImageVariants>
			<Image	imageID="&rsBiosphereTerrestrials;" imageX="0"   imageY="0"   imageWidth="230" imageHeight="230"/>
			<Image	imageID="&rsBiosphereTerrestrials;" imageX="0"   imageY="230" imageWidth="230" imageHeight="230"/>
			<Image	imageID="&rsBiosphereTerrestrials;" imageX="0"   imageY="460" imageWidth="230" imageHeight="230"/>
		</ImageVariants>
	</StationType>-->

	<!-- Desert Planet 

	<StationType UNID="&stDesertTerrestrialSizeH;"
		name=				"(desert terrestrial)"
		scale=				"world"
		size=				"8300"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"desert, generic, terrestrial"
		>
		<ImageVariants>
			<Image	imageID="&rsDesertTerrestrials;" imageX="0"   imageY="0"   imageWidth="220" imageHeight="220"/>
			<Image	imageID="&rsDesertTerrestrials;" imageX="0"   imageY="220" imageWidth="220" imageHeight="220"/>
			<Image	imageID="&rsDesertTerrestrials;" imageX="0"   imageY="440" imageWidth="220" imageHeight="220"/>
		</ImageVariants>
	</StationType>-->

	<!-- Greenhouse Planet 

	<StationType UNID="&stGreenhouseTerrestrialSizeI;"
		name=				"(greenhouse terrestrial)"
		scale=				"world"
		size=				"13250"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"generic, greenhouse, terrestrial"
		>
		<ImageVariants>
			<Image	imageID="&rsGreenhouseTerrestrials;" imageX="0"   imageY="0"   imageWidth="250" imageHeight="250"/>
			<Image	imageID="&rsGreenhouseTerrestrials;" imageX="0"   imageY="250" imageWidth="250" imageHeight="250"/>
			<Image	imageID="&rsGreenhouseTerrestrials;" imageX="0"   imageY="500" imageWidth="250" imageHeight="250"/>
		</ImageVariants>
	</StationType>-->

	<!-- Hydrogen Gas Giant 

	<StationType UNID="&stHydrogenGasGiantSizeM;"
		name=				"(hydrogen gas giant)"
		scale=				"world"
		size=				"151500"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"gasGiant, generic"
		>
		<ImageVariants>
			<Image	imageID="&rsHydrogenGasGiant01;" imageX="0"   imageY="0"   imageWidth="450" imageHeight="450"/>
			<Image	imageID="&rsHydrogenGasGiant02;" imageX="0"   imageY="0"   imageWidth="450" imageHeight="450"/>
			<Image	imageID="&rsHydrogenGasGiant03;" imageX="0"   imageY="0"   imageWidth="450" imageHeight="450"/>
		</ImageVariants>
	</StationType>-->

	<!-- Methane Gas Giant 

	<StationType UNID="&stMethaneGasGiantSizeK;"
		name=				"(methane gas giant)"
		scale=				"world"
		size=				"49500"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"gasGiant, generic"
		>
		<ImageVariants>
			<Image	imageID="&rsMethaneGasGiant01;" imageX="0"   imageY="0"   imageWidth="340" imageHeight="340"/>
		</ImageVariants>
	</StationType>-->

	<!-- Ringed Gas Giant
	
		LATER: This image is out-of-scale. Scale should be based on the size of
		the planet, not the full size of the rings. 

	<StationType UNID="&stRingedGasGiant;"
		name=				"(ringed gas giant)"
		scale=				"world"
		size=				"100000"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"gasGiant, generic, ringSystem"
		>

		<ImageVariants>
			<Image			imageID="&rsWorldsRingedGiant1;" imageX="0" imageY="0" imageWidth="512" imageHeight="256"/>
			<Image			imageID="&rsWorldsRingedGiant2;" imageX="0" imageY="0" imageWidth="512" imageHeight="256"/>
			<Image			imageID="&rsWorldsRingedGiant3;" imageX="0" imageY="0" imageWidth="512" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant4;" imageX="0" imageY="0" imageWidth="462" imageHeight="400"/>
			<Image			imageID="&rsWorldsRingedGiant5;" imageX="0" imageY="0" imageWidth="412" imageHeight="400"/>
			<Image			imageID="&rsWorldsRingedGiant6;" imageX="0" imageY="0" imageWidth="412" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant7;" imageX="0" imageY="0" imageWidth="448" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant8;" imageX="0" imageY="0" imageWidth="432" imageHeight="380"/>
		</ImageVariants>
	</StationType>-->
	
	<!--/NEW IN 1.2 beta 2-->

	<!-- Planetoid 

	<StationType UNID="&stPlanetoid;"
		name=				"(asteroid)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planet, rockyPlanet, smallPlanetoid"

		ejectaType=			"&vtStoneAsteroidEjecta;"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType>
	-->
	
	<!-- Cratered Planet 

	<StationType UNID="&stCrateredPlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planet, rockyPlanet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType>
	-->
	<!-- Ice Planet 

	<StationType UNID="&stIcePlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"icePlanet, planet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorldsIcePlanet1;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet2;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet3;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
			<Image			imageID="&rsWorldsIcePlanet4;" imageX="0" imageY="0"   imageWidth="182" imageHeight="182" />
		</ImageVariants>
	</StationType>
	-->
	
	<!-- Volcanic Planet 

	<StationType UNID="&stVolcanicPlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planet, volcanicPlanet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="512" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="640" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="768" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="896" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>
	-->

	<!-- Greenhouse Planet 

	<StationType UNID="&stGreenhousePlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"co2planet, planet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="0"   imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="128" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="256" imageWidth="128" imageHeight="128" />
			<Image			imageID="&rsWorlds1;" imageX="0" imageY="384" imageWidth="128" imageHeight="128" />
		</ImageVariants>
	</StationType>
	-->
	<!-- Biosphere 

	<StationType UNID="&stBiospherePlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"biospherePlanet, planet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="0"   imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="128" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="256" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="128" imageY="384" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>
	-->
	<!-- Desert Planet 

	<StationType UNID="&stDesertPlanet;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"desertPlanet, planet"
		>
		<ImageVariants>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="0" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="128" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="256" imageWidth="128" imageHeight="128"/>
			<Image			imageID="&rsWorlds2;" imageX="0" imageY="384" imageWidth="128" imageHeight="128"/>
		</ImageVariants>
	</StationType>-->

	<!-- Hydrogen Gas Giant 

	<StationType UNID="&stHydrogenGasGiant;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"hydrogenGiant, planet"
		>
		<Image imageID="&rsWorlds1;" imageX="0" imageY="512" imageWidth="256" imageHeight="256" imageFrameCount="0" imageTicksPerFrame="0"/>
	</StationType>-->

	<!-- Ringed Gas Giant 

	<StationType UNID="&stRingedGasGiant;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planet, ringedGiant"
		>

		<ImageVariants>
			<Image			imageID="&rsWorldsRingedGiant1;" imageX="0" imageY="0" imageWidth="512" imageHeight="256"/>
			<Image			imageID="&rsWorldsRingedGiant2;" imageX="0" imageY="0" imageWidth="512" imageHeight="256"/>
			<Image			imageID="&rsWorldsRingedGiant3;" imageX="0" imageY="0" imageWidth="512" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant4;" imageX="0" imageY="0" imageWidth="462" imageHeight="400"/>
			<Image			imageID="&rsWorldsRingedGiant5;" imageX="0" imageY="0" imageWidth="412" imageHeight="400"/>
			<Image			imageID="&rsWorldsRingedGiant6;" imageX="0" imageY="0" imageWidth="412" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant7;" imageX="0" imageY="0" imageWidth="448" imageHeight="340"/>
			<Image			imageID="&rsWorldsRingedGiant8;" imageX="0" imageY="0" imageWidth="432" imageHeight="380"/>
		</ImageVariants>
	</StationType>-->

	<!-- Methane Gas Giant 

	<StationType UNID="&stMethaneGasGiant;"
		name=				"(planet)"
		scale=				"world"
		sovereign=			"&svIndependent;"
		backgroundPlane = 	"101"
		mobile=				"true"

		attributes=			"planet, methaneGiant"
		>
		<Image imageID="&rsWorlds1;" imageX="0" imageY="768" imageWidth="192" imageHeight="192" imageFrameCount="0" imageTicksPerFrame="0"/>
	</StationType>-->

	<!-- Urak Mass Driver, Advanced -->

	<ItemType UNID="&itUrakMassDriverAdvanced;"
			name=				"advanced Urak mass driver"
			level=				"4"
			value=				"4600"
			mass=				"4500"
			frequency=			"rare"
			attributes=			"MajorItem; NotForSale; Urak"

			description=		"The advanced version of the Urak mass driver fires high-explosive shells."

			sortName=			"Urak.1.20"
			>

		<Image imageID="&rsItems4;" imageX="0" imageY="192" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				damage=				"blast:1d6+1; momentum:1; WMD:4"
				fireRate=			"14"
				missileSpeed=		"35"
				lifetime=			"70"
				powerUse=			"100"

				effect=				"&efBlastShellDefault;"
				sound=				"&snRecoillessCannon;"
				>

			<Configuration aimTolerance="5">
				<Shot posAngle="90" posRadius="12" angle="3d5-9"/>
				<Shot posAngle="270" posRadius="12" angle="3d5-9"/>
			</Configuration>
		</Weapon>
	</ItemType>

	<!-- Urak Howitzer -->

	<ItemType UNID="&itUrakHowitzer;"
			name=				"Urak howitzer"
			level=				"5"
			value=				"7000"
			mass=				"4500"
			frequency=			"veryrare"
			numberAppearing=	"1"
			attributes=			"Howitzer; MajorItem; NotForSale; Urak"

			description=		"Urak howitzers fire high-explosive shells that explode on proximity to their target."

			sortName=			"Urak.1.10"
			>

		<Image imageID="&rsItems5;" imageX="0" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				minFireArc=			"340"
				maxFireArc=			"20"
				fireRate=			"36"
				missileSpeed=		"50"
				hitPoints=			"10"
				lifetime=			"90"
				powerUse=			"200"
				recoil=				"2"

				effect=				"&efBlastShellDefault;"
				sound=				"&snRecoillessCannon;"
				>

			<Fragment 
					count=			"30-36"
					type=			"missile"
					lifetime=		"10"
					damage=			"blast:1d6; momentum:1; WMD:4"
					missileSpeed=	"32-48"
					>

				<Effect>
					<ImageAndTail 
							imageID=			"&rsMissiles;" 
							imageX=				"96" 
							imageY=				"0" 
							imageWidth=			"16" 
							imageHeight=		"16"
							imageFrameCount=	"2"
							imageTicksPerFrame=	"2"

							length=				"48"
							width=				"3"
							primaryColor=		"0xff, 0xff, 0xff"
							secondaryColor=		"0xc0, 0xc2, 0x85"
							/>
				</Effect>
			</Fragment>
		</Weapon>
	</ItemType>
*****************************************************************************************************	
;not going to be in the override until I figure out the best way to give the player the GN particle
<!-- Dwarg Xiphon Cannon 

	<ItemType UNID="&itDwargXiphonCannon;"
			name=				"Dwarg xiphon cannon"
			level=				"4"
			value=				"4500"
			mass=				"3000"
			frequency=			"rare"
			numberAppearing=	"1"
			modifiers=			"Dwarg; MajorItem; NotForSale;"

			description=		"This blast weapon is mounted on a small swivelling platform, enabling it to fire in a 20 degree arc."
			sortName=			"Dwarg.1.30"
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				repeating=			"1"
				minFireArc=			"350"
				maxFireArc=			"10"
				damage=				"blast:3d6; momentum2; WMD1"
				fireRate=			"20"
				missileSpeed=		"50"
				lifetime=			"50"
				powerUse=			"120"

				directional=		"true"
				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Image imageID="&rsMissiles3;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>
			</Effect>

		</Weapon>

	</ItemType>
-->	

	<Sovereign UNID="&svDwargRaiders;"
			name="Dwarg Raiders"
			alignment="destructive order"
			>
			<Relationships>
				<Relationship sovereign="&svSung;" disposition="enemy" mutual="true"/>
			</Relationships>
	</Sovereign>
			
<!-- Dwarg Howitzer -->

	<ItemType UNID="&itDwargHowitzer;"
			name=				"Dwarg howitzer"
			level=				"6"
			value=				"15000"
			mass=				"5000"
			frequency=			"common"
			numberAppearing=	"1"
			modifiers=			"Dwarg; MajorItem; NotForSale;"

			description=		"The Dwarg began equipping their Masters and Behemoths with this howitzer once Domina pilgrims became a threat."
			sortName=			"howitzer, mark 3"
			>
		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
		<Weapon
				type=				"missile"

				damage=				"blast:4d16; momentum3; WMD5"
				fireRate=			"25"
				missileSpeed=		"50"
				lifetime=			"120"
				hitPoints=			"6"
				powerUse=			"300"
				recoil=				"2"

				directional=		"true"
				fireEffect=			"&efMediumCannonFlash;"
				sound=				"&snRecoillessCannon;"
				>
			<Effect>
				<MoltenBolt
						width=				"3"
						length=				"12"
						growth=				"3"
						primaryColor=		"0xea, 0xed, 0xae"
						secondaryColor=		"0xc0, 0xc2, 0x85"
						/>
			</Effect>
			<HitEffect
					sound="&snArmorHit1;"
					>
				<Image imageID="&rsMediumExplosions;" 
						imageX="0" 
						imageY="0" 
						imageWidth="64" 
						imageHeight="64"
						imageFrameCount="16"
						imageTicksPerFrame="2"/>
			</HitEffect>
		</Weapon>
	</ItemType>
		
	<!-- Dwarg Master -->

	<ShipClass UNID="&scDwargMaster;"
			manufacturer=		""
			class=				"Dwarg master"
			type=				""
			defaultSovereign=	"&svDwargRaiders;"

			size=				"77"
			mass=				"1900"
			cargoSpace=			"25"
			thrustRatio=		"5"
			maxSpeed=			"22"

			attributes=			"dwarg,genericClass"
			>

		<Armor>
			<ArmorSection start="315" span="90" armorID="&itDwargCatoptricArmor;" />
			<ArmorSection start="225" span="90" armorID="&itDwargCatoptricArmor;" />
			<ArmorSection start="135" span="90" armorID="&itDwargCatoptricArmor;" />
			<ArmorSection start="45"  span="90" armorID="&itDwargCatoptricArmor;" />
		</Armor>

		<Devices>
			<Device deviceID="&itDwargCnidocystCannon;" omnidirectional="true"/>
			<Device deviceID="&itDwargXiphonCannon;" secondaryWeapon="true" omnidirectional="true"/>
			<Device deviceID="&itDwargHowitzer;" secondaryWeapon="true" omnidirectional="true"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"7.0"
			rotationAccel=		"1.0"
			/>

		<Items>
			<Item count="4d20" item="&itDwargCnidocystNodule;"/>
			<Item count="5d6" item="&itHeliumAssembly;"/>
		</Items>

		<Image imageID="&rsMediumShips3;" imageX="672" imageY="0" imageWidth="96" imageHeight="96"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="180"	posRadius="43"	posZ="0"	rotation="180"/>
		</Effects>
		
		<AISettings
			aggressor=			"true"
			combatStyle=		"standOff"
			fireRateAdj=		"20"
			fireAccuracy=		"95"
			perception=			"4"
			/>

	</ShipClass>

	<!-- Dwarg Behemoth -->

	<ShipClass UNID="&scDwargBehemoth;"
			manufacturer=		""
			class=				"Zoanthrope behemoth"
			type=				""
			defaultSovereign=	"&svDwargRaiders;"

			size=				"90"
			mass=				"10000"
			cargoSpace=			"100"
			thrustRatio=		"0.2"
			maxSpeed=			"12"

			explosionType=		"&vtBlastExplosion3;"

			attributes=			"dwarg, genericClass, zoanthrope"
			>

		<Armor>
			<ArmorSection start="345" span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="315" span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="285" span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="255" span="30" armorID="&itDwargHolochroalArmor;" nonCritical="general" />
			<ArmorSection start="225" span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="195" span="30" armorID="&itDwargHolochroalArmor;" nonCritical="drive" />
			<ArmorSection start="165" span="30" armorID="&itDwargHolochroalArmor;" nonCritical="drive" />
			<ArmorSection start="135" span="30" armorID="&itDwargHolochroalArmor;" nonCritical="drive" />
			<ArmorSection start="105" span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="75"  span="30" armorID="&itDwargHolochroalArmor;" nonCritical="general" />
			<ArmorSection start="45"  span="30" armorID="&itDwargHolochroalArmor;" />
			<ArmorSection start="15"  span="30" armorID="&itDwargHolochroalArmor;" nonCritical="dev0" />
		</Armor>

		<Devices>
			<Device deviceID="&itDwargBehemothCannon;"/>
			<Device deviceID="&itDwargXiphonCannon;" secondaryWeapon="true" minFireArc="350" maxFireArc="190" posAngle="90" posRadius="30"/>
			<Device deviceID="&itDwargXiphonCannon;" secondaryWeapon="true" minFireArc="170" maxFireArc="10" posAngle="270" posRadius="30"/>
			<Device deviceID="&itDwargHowitzer;" secondaryWeapon="true" minFireArc="350" maxFireArc="190" posAngle="90" posRadius="15"/>
			<Device deviceID="&itDwargHowitzer;" secondaryWeapon="true" minFireArc="170" maxFireArc="10" posAngle="270" posRadius="15"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"5"
			rotationAccel=		"0.5"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"180"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"80"

					posX=		"-41"
					posY=		"0"
					sizeX=		"29"
					sizeY=		"45"
					/>
		</Interior>
		
		<Items>
			<Item				  count="2d6"	item="&itXenotiteFuelRod;"/>
			<Table>
				<Lookup chance="40" count="1" table="&trConsumables6;"/>
				<Lookup chance="40" count="1" table="&trMinorItem6;"/>
				<Lookup chance="20" count="1" table="&trMajorItem6;"/>
			</Table>
		</Items>

		<Image imageID="&rsMediumShips4;" imageX="896" imageY="0" imageWidth="128" imageHeight="128"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="176"	posRadius="57"	posZ="-7"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-176"	posRadius="57"	posZ="-7"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="172"	posRadius="57"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="56"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-172"	posRadius="57"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="176"	posRadius="57"	posZ="7"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-176"	posRadius="57"	posZ="7"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>
			
		<Events>
			<OnObjDestroyed>
				(intZoanthropeOnObjDestroyed)
			</OnObjDestroyed>

			<OnOrderChanged>
				(intZoanthropeOnOrderChanged)
			</OnOrderChanged>
		</Events>

		<AISettings
			aggressor=			"true"
			fireRateAdj=		"20"
			fireAccuracy=		"95"
			perception=			"4"
			/>

	</ShipClass>
*****************************************************************************************************
	<Sovereign 
		UNID="&svRanxEmpire;"
		name="Ranx Empire"
		alignment="destructive order"
			
		>
		<Relationships>
			<Relationship sovereign="&svAres;" disposition="enemy" mutual="true"/>
			<Relationship sovereign="&svGaianTerraformers;" disposition="enemy" mutual="true"/>
		</Relationships>
	</Sovereign>
		<!--
		<Sovereign UNID="&svRanxEmpire;"
				name="Ranx Empire"
				alignment="destructive chaos"
				>		

			<Relationships>
				<Relationship sovereign="&svAres;" disposition="enemy" mutual="true"/>
				<Relationship sovereign="&svGaianTerraformers;" disposition="enemy" mutual="true"/>
			</Relationships>
		</Sovereign>
		-->
	<!-- Ranx Encounter Table -->
	
	<ShipTable unid="&tbRanxEncounters;">
		<LevelTable>
			<Ship levelFrequency="----- ccurr" count="1"	class="&scRanxGunship;" eventHandler="&evStdPatrolEncounterBehavior;">
				<Escorts>
					<Ship					   count="1d3"	class="&scRanxGunship;" orders="escort"/>
				</Escorts>
			</Ship>

			<Ship levelFrequency="----- -ucur" count="1"	class="&scRanxDreadnought;" eventHandler="&evStdPatrolEncounterBehavior;">
				<Escorts>
					<Ship					   count="1d6"	class="&scRanxGunship;" orders="escort"/>
				</Escorts>
			</Ship>
			
			<Ship levelFrequency="----- -rrrr" count="1"	class="&scRanxDreadnought;"	orders="wander"	maxShips="4">
				<Escorts>
					<Ship					   count="1d4"	class="&scRanxGunship;"	orders="escort"/>
				</Escorts>
			</Ship>
			
			<Ship levelFrequency="----- ccurr" count="1"	class="&scRanxGunship;"	orders="wander"	maxShips="4">
				<Escorts>
					<Ship					   count="1d4"	class="&scRanxBomber;"	orders="escort"/>
				</Escorts>
			</Ship>
			
			<Ship levelFrequency="----- -ucur" count="1"	class="&scRanxFrigate;"	orders="wander"	maxShips="4">
				<Escorts>
					<Ship					   count="1d4"	class="&scRanxBomber;"	orders="escort"/>
				</Escorts>
			</Ship>
		</LevelTable>
	</ShipTable>

	<!-- Ranx Beam Rifle-->
		<ItemType UNID="&itRanxBeamRifle;"
				name=				"Ranx Beam Rifle"
				level=				"7"
				value=				"50000"
				mass=				"4000"
				frequency=			"uncommon"
				modifiers=			"MajorItem; NotForSale; Military"

				description=		"The Ranx beam rifle is the latest in long range fighter defense, but is no match against capital ships."
				>
			<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
			<!--removed mining5-->
			<Weapon
					type=				"missile"
					
					damage=				"ion:1d2+5; momentum1;"
					passthrough= 		"5"
					fireRate=			"5"
					missileSpeed=		"100"
					interaction=		"15"
					lifetime=			"60"
					powerUse=			"1000"
					fireEffect=			"&efMediumCannonFlash;"
					sound=				"&snRecoillessCannon;"
					>
				<Configuration aimTolerance="10">
					<Shot angle="3d5-9"/>
				</Configuration>
				<Effect>
					<Bolt
						length=				"12"
						width=				"2"
						primaryColor=	"0xff, 0xff, 0x80"
						secondaryColor=	"0xff, 0xff, 0x80"
						/>
				</Effect>
			</Weapon>
		</ItemType>
	
	<!-- Ranx Bomber -->

	<ShipClass UNID="&scRanxBomber;"
			manufacturer=		"Ranx"
			class=				""
			type=				"bomber"
			defaultSovereign=	"&svRanxEmpire;"

			level=				"7"
			mass=				"75"
			cargoSpace=			"150"
			thrustRatio=		"12"
			maxSpeed=			"15"

			attributes=			"genericClass,ranx"
			>

		<Armor
			armorID=			"&itDepletedUraniumArmor;"
			count=				"8"
			/>

		<Devices>
			<Device deviceID="&itTritiumCannon;"						omnidirectional="true"				posAngle="180" posRadius="20" posZ="20"/>
			<Device deviceID="&itRanxBeamRifle;"	 secondaryWeapon="true" omnidirectional="true"				posAngle="0" posRadius="20" posZ="0"/>
			<Device deviceID="&itMonopoleDeflector;"/>
			<Device deviceID="&itPatchSpider;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"12.0"
			rotationAccel=		"5.0"
			/>
		
		<Interior>
			<Compartment name="interior"
					hitPoints=	"50"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"100"

					posX=		"-20"
					posY=		"0"
					sizeX=		"44"
					sizeY=		"44"
					/>
		</Interior>

		
		<Items>
			<Table>
				<Item chance="60" count="2d6" item="&itHeliumAssembly;"/>
				<Item chance="30" count="1d2" item="&itLightArmorRepair;"/>
				<Item chance="10" count="1" item="&itMediumArmorRepair;"/>
			</Table>
		</Items>

		<Image imageID="&rsRanxBomber;" imageX="0" imageY="0" imageWidth="96" imageHeight="96" rotationOffset="0" rotationCount="40"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="130"	posRadius="12"	posZ="8"	rotation="180"	bringToFront="*"/>
			<Effect type="thrustMain"		posAngle="-130"	posRadius="12"	posZ="8"	rotation="180"	bringToFront="*"/>
		</Effects>
		
		<AISettings
			fireRateAdj=		"25"
			fireRangeAdj=		"60"
			fireAccuracy=		"90"
			perception=			"4"
			
			combatStyle=		"advanced"
			/>

	</ShipClass>

	<!-- Ranx Frigate -->

	<ShipClass UNID="&scRanxFrigate;"
			manufacturer=		"Ranx"
			class=				""
			type=				"frigate"
			defaultSovereign=	"&svRanxEmpire;"

			attributes=			"capitalShip, genericClass, majorShip, ranx"
			   
			size=				"200"
			mass=				"20000"
			cargoSpace=			"1500"
			thrustRatio=		"0.5"
			maxSpeed=			"10"

			cyberDefenseLevel=	"6"

			explosionType=		"&vtThermoExplosion3;"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itTransuranicPlate;"
			count=				"24"
			/>
		
		<Devices>
			<Device deviceID="&itKilotonCannon;"						omnidirectional="true"				posAngle="180" posRadius="25" posZ="20"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="350" maxFireArc="200" posAngle="72" posRadius="30"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="200" maxFireArc="10" posAngle="288" posRadius="30"/>
			<Device deviceID="&itArmorRepairDevice;"/>
			<Device deviceID="&itPatchSpider;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"4.0"
			rotationAccel=		"0.2"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"150"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"100"

					posX=		"-115"
					posY=		"0"
					sizeX=		"44"
					sizeY=		"44"
					/>
		</Interior>

		<Items>
			<Item	count="80-160"		item="&itKilotonCannonShell;"/>
			<Item	count="2d12"		item="&itPteracniumFuelRod;"/>
			<Table>
				<Lookup	chance="40"	count="1d4"		table="&trConsumables8;"/>
				<Lookup	chance="30"	count="1d2"		table="&trMinorItem8;"/>
				<Lookup	chance="30"	count="1"		table="&trMajorItem7;"/>
			</Table>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsRanxFrigate;" imageX="0" imageY="0" imageWidth="128" imageHeight="128" rotationCount="40"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="175"	posRadius="50"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="50"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-175"	posRadius="50"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>
		
		<!-- AI and Behavior -->

		<AISettings
			aggressor=			"true"
			fireRateAdj=		"35"
			fireAccuracy=		"90"
			perception=			"6"
			
			combatStyle=		"standOff"
			/>

	</ShipClass>
	<!-- Ranx Autoturret -->

	<ShipClass UNID="&scRanxTurret;"
			manufacturer=		"Ranx"
			class=				"Ranx autoturret"
			type=				""

			attributes=			"Ranx, genericClass"
			   
			mass=				"400"
			thrustRatio=		"0"
			maneuver=			"1"
			maxSpeed=			"0"
			cargoSpace=			"0"

			leavesWreck=		"50"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itTransuranicPlate;"
			count=				"2"
			/>
		
		<Devices>
			<Device deviceID="&itKilotonCannon;" omnidirectional="true" secondaryWeapon="true"  />
			<Device deviceID="&itRanxBeamRifle;" omnidirectional="true" secondaryWeapon="true"  secondary="true" />
			<Device deviceID="&itArmorRepairDevice;"/>
		</Devices>
		
		<Items>
			<Item	count="80-160"		item="&itKilotonCannonShell;"/>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsRanxTurret;" imageX="0" imageY="0" imageWidth="64" imageHeight="64" rotationCount="1"/>

		<!-- AI and Behavior -->

		<AISettings
			fireRateAdj=		"40"
			fireAccuracy=		"90"
			perception=			"4"

			noFriendlyFire=		"true"
			/>
	</ShipClass>
		
	<!-- Ranx Dreadnought -->

	<ShipClass UNID="&scRanxDreadnought;"
			manufacturer=		"Ranx"
			class=				""
			type=				"dreadnought"
			defaultSovereign=	"&svRanxEmpire;"

			attributes=			"capitalShip, genericClass, majorShip, ranx"
			   
			size=				"350"
			mass=				"60000"
			cargoSpace=			"15000"
			thrustRatio=		"0.5"
			maxSpeed=			"8"

			cyberDefenseLevel=	"6"

			explosionType=		"&vtThermoExplosion3;"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itTransuranicPlate;"
			count=				"16"
			/>
		
		<Devices>
			<Device deviceID="&itKilotonCannon;"						omnidirectional="true"				posAngle="180" posRadius="61" posZ="20"/>
			<Device deviceID="&itAkan30Cannon;"	 secondaryWeapon="true" minFireArc="225" maxFireArc="340"	posAngle="270" posRadius="20" posZ="0"/>
			<Device deviceID="&itAkan30Cannon;"	 secondaryWeapon="true" minFireArc="20"  maxFireArc="135"	posAngle="90"  posRadius="20" posZ="0"/>
			<Device deviceID="&itAkan30Cannon;"	 secondaryWeapon="true" minFireArc="100" maxFireArc="260"	posAngle="180" posRadius="90" posZ="10"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="340" maxFireArc="160" posAngle="18" posRadius="60"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="200" maxFireArc="20" posAngle="342" posRadius="60"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="350" maxFireArc="200" posAngle="72" posRadius="30"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="200" maxFireArc="10" posAngle="288" posRadius="30"/>
			<Device deviceID="&itPatchSpider;"/>
			<Device deviceID="&itPatchSpider;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"2.0"
			rotationAccel=		"0.2"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"300"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"100"

					posX=		"-115"
					posY=		"0"
					sizeX=		"44"
					sizeY=		"44"
					/>
		</Interior>

		<Items>
			<Item	count="80-160"		item="&itKilotonCannonShell;"/>
			<Item	count="1000-1200"	item="&itAkan30CannonShell;" />
			<Item	count="2d12"		item="&itPteracniumFuelRod;"/>
			<Table>
				<Lookup	chance="40"	count="1d4"		table="&trConsumables8;"/>
				<Lookup	chance="30"	count="1d2"		table="&trMinorItem8;"/>
				<Lookup	chance="30"	count="1"		table="&trMajorItem7;"/>
			</Table>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsRanxDreadnought;" imageX="0" imageY="0" imageWidth="280" imageHeight="280"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="175"	posRadius="136"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="136"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-175"	posRadius="136"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>
		
		<!-- AI and Behavior -->

		<AISettings
			aggressor=			"true"
			fireRateAdj=		"35"
			fireAccuracy=		"90"
			perception=			"6"
			
			combatStyle=		"standOff"
			/>
		<Events>
			 <OnCreate>
				(block Nil
					(sysAddObjRecurringTimerEvent 90 gSource "EscortCheck")
					(sysAddObjRecurringTimerEvent (random 500 1000) gSource "EscortCheck2")
					(sysAddObjRecurringTimerEvent (random 500 1000) gSource "Reserves")
					(objSetData gSource "Reserves" 0)
					)
			 </OnCreate>
			 <OnObjDestroyed>
				(block (escortnumber prevnumber)
					(setq prevnumber (objGetData gSource "headcount"))
					(setq escortnumber (subtract (objGetData gSource "headcount") 1))
					(ObjSetData gSource "headcount" escortnumber)
					<!--
					(plyMessage gPlayer "Count from "prevnumber" to "escortnumber"!")
					-->
					)
			</OnObjDestroyed>
				;this check is to make the escorts stay close to the DN
			 <EscortCheck>
				(block Nil
					
					(enum (SysFindObject gSource "sO:escort;") gunship
						(if 
							;the ships is not accounted for, account for it and increase headcount Data
							(not (objGetData gunship "accounted"))
								(block Nil
									;registerforevents [to decrease headcount when it dies]
									(objRegisterForEvents gSource gunship)
									;account for it
									(objSetData gunship "accounted" True)
									;increase headcount
									(objIncData gSource "headcount" 1)
									
									)
							)
						)
					
					(block Nil
						(enum (SysFindObject gSource "sO:escort;") gunship
							(if 
								;distance between the two is gr than 50 ls,
								(gr (sysVectorDistance gunship gSource) 50)
								(block Nil
									;cancel orders
									(shpCancelOrders gunship)
									;tell the gunship to escort the DN
									(shpOrder gunship 'escort gSource)
									
									)
								)
							)
						)
					)
			</EscortCheck>
				<!--
					(count prevCount)
					-->
				<!--
									(plyMessage gPlayer "Finally!")
									-->
				<!--
					(setq count (objGetData gSource "headcount"))
					(plyMessage gPlayer "Count is "count"!")
					-->
									<!--
									(plyMessage gPlayer "Get back here!")
									-->
			;create a special event so I can have a proper condition to check for a dead escort
				;this check spawns new gunships that come from the gate
				;limit the amount of gunships spawned so that they don't spam!
			<EscortCheck2>
				(block (arg)
					<!--
					(setq arg (eq (objGetData gSource "headcount") 0))
					(plyMessage gPlayer "What is "arg"?")
					-->
					(if
						(and
						;if all the ships are dead
						(eq (objGetData gSource "headcount") 0)
						;and the DN has reserves
						(geq (objGetData gSource "reserves") 1)
							)
							;gate in a new set of gunships
							(block (newsquad)
								;gate in as many gunships as there are reserves
								(setq newsquad (objGetData gSource "Reserves"))
								(objSetData gSource "Reserves" 0)
								
								;(plyMessage gPlayer "A new squad gates in!")
								
								(for i 1 newsquad
									(block (ship)
										(setq ship (sysCreateShip 
											(randomTable 
												20
													&scRanxFrigate;
												35
													&scRanxBomber;
												45
													&scRanxGunship;
												)
											 (SysFindObject nil "GN") (objGetSovereign gSource)))
										(shpOrder ship 'escort gSource)
										)
									)
								)
						)
					)
			</EscortCheck2>
			<Reserves>
				(block (check)
					(if 
						(ls (objGetData gSource "Reserves") 4 )
							(block Nil
							(setq check (objIncData gSource "Reserves" 1))
							;(plyMessage gPlayer "Reserves are "check", sir!")
							)
						)
					)
			</Reserves>
		</Events>
	</ShipClass>
	<!-- Ranx Dreadnought 
	<ShipClass UNID="&scRanxDreadnought;"
			manufacturer=		"Ranx"
			class=				""
			type=				"dreadnought"
			score=				"1350"

			mass=				"25000"
			cargoSpace=			"15000"
			thrust=				"10000"
			maneuver=			"16"
			maxSpeed=			"8"

			cyberDefenseLevel=	"6"

			explosionType=		"&vtThermoExplosion2;"
			leavesWreck=		"100"

			attributes=			"genericClass,ranx"
			>
		<Armor>
			<ArmorSection start="345" span="15" armorID="&itTransuranicPlate;" />
			<ArmorSection start="330" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="315" span="15" armorID="&itTransuranicPlate;" />
			<ArmorSection start="300" span="15" armorID="&itTransuranicPlate;" />
			<ArmorSection start="285" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="270" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="255" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="240" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="225" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="210" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="195" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="180" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>

			<ArmorSection start="165" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="150" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="135" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="120" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="105" span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="90"  span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="75"  span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="60"  span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="45"  span="15" armorID="&itTransuranicPlate;" />
			<ArmorSection start="30"  span="15" armorID="&itTransuranicPlate;" />
			<ArmorSection start="15"  span="15" armorID="&itTransuranicPlate;" nonCritical="general"/>
			<ArmorSection start="0"   span="15" armorID="&itTransuranicPlate;" />
		</Armor>
		<Devices>
			<Device deviceID="&itKilotonCannon;" omnidirectional="true" posAngle="0" posRadius="24"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="340" maxFireArc="160" posAngle="18" posRadius="60"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="200" maxFireArc="20" posAngle="342" posRadius="60"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="350" maxFireArc="200" posAngle="72" posRadius="30"/>
			<Device deviceID="&itRanxBeamRifle;" secondaryWeapon="true" minFireArc="200" maxFireArc="10" posAngle="288" posRadius="30"/>
					
			<Device deviceID="&itPatchSpider;"/>
			<Device deviceID="&itPatchSpider;"/>
		</Devices>
		<Items>
			<Item				count="1"		item="&itKilotonCannon;"/>
			<Item				count="12d20"	item="&itKilotonCannonShell;"/>
			<Item				count="2d12"	item="&itPteracniumFuelRod;"/>
			<Table>
				<Lookup	chance="40"	count="1d4"		table="&trConsumables8;"/>
				<Lookup	chance="30"	count="1d2"		table="&trMinorItem8;"/>
				<Lookup	chance="30"	count="1"		table="&trMajorItem7;"/>
			</Table>
		</Items>
		<Image imageID="&rsLargeShips1;" imageX="960" imageY="0" imageWidth="192" imageHeight="192" imageFrameCount="0" imageTicksPerFrame="0"/>
		<AISettings
			aggressor=			"true"
			fireRateAdj=		"20"
			fireAccuracy=		"90"
			perception=			"16"
			combatStyle=		"standOff"
			/>
	
	</ShipClass>
		-->
	
	<!-- Ranx Outpost -->

	<StationType UNID="&stRanxOutpost;"
			name=				"Ranx outpost"
			sovereign=			"&svRanxEmpire;"
			dockScreen=			"&dsAbandonedStation;"
			abandonedScreen=	"&dsAbandonedStation;"
			dockingPorts=		"8"
			canAttack=			"true"

			multiHull=			"true"
			armorID=			"&itLightOrthoSteel;"
			hitPoints=			"370"
            regen=              "1.1"
			explosionType=		"&vtThermoExplosion2;"
			ejectaType=			"&vtWreckEjecta;"

			attributes=			"enemy, envEarth, envAvoidsAir, generic, human, populated, ranx"
			levelFrequency=		"----- ucur- ----- ----- -----"
			locationCriteria=	"-outerSystem, +planetary|+50"
			enemyExclusionRadius="60"
			>

		<Image			imageID="&rsStations7;" imageX="0" imageY="256" imageWidth="192" imageHeight="192"/>

		<Devices>
		</Devices>

		<Items>
			<Item count="8d100"	item="&itAkan30CannonShell;" />
			<Table chance="50">
				<Lookup chance="40" count="1" table="&trConsumables8;"/>
				<Lookup chance="40" count="1" table="&trMinorItem8;"/>
				<Lookup chance="20" count="1" table="&trMajorItem8;"/>
			</Table>
		</Items>

		<Ships>
			<Ship			count="2d4"	class="&scRanxGunship;"	orders="patrol" patrolDist="5"/>
			<Ship			count="1"	class="&scRanxFrigate;"	orders="patrol" patrolDist="50"/>
			<Table>
				<Ship chance="25"  count="1d4"	class="&scRanxFrigate;" orders="patrol" patrolDist="25">
					<Escorts>
						<Ship			count="1d4"	class="&scRanxGunship;"	orders="escort"/>
					</Escorts>
				</Ship>
				<Ship chance="75"  count="1"	class="&scRanxBomber;"	orders="patrol" patrolDist="25">
					<Escorts>
						<Ship			count="1d4"	class="&scRanxGunship;"	orders="escort"/>
					</Escorts>
				</Ship>
			</Table>
		</Ships>

		<Reinforcements minShips="4">
			<Ship		count="1d4"		class="&scRanxGunship;" orders="patrol" patrolDist="5"/>
			<Ship		count="1d4"		class="&scRanxBomber;" orders="guard" patrolDist="15"/>
			<Ship		count="1d4"		class="&scRanxFrigate;" orders="patrol" patrolDist="15"/>
		</Reinforcements>

		<Satellites>
			<Orbitals count="1d4" distance="12" angle="equidistant">
				<Ship class="&scRanxTurret;" count="1" sovereign="&svRanxEmpire;" orders="hold"/>
			</Orbitals>
		</Satellites>
		
		<Encounters frequency="uncommon">
			<Lookup table="&tbRanxEncounters;"/>
		</Encounters>

	</StationType>
	<!-- Ranx Fortress -->

	<StationType UNID="&stRanxFortress;"
			name=				"Ranx fortress"
			sovereign=			"&svRanxEmpire;"
			dockScreen=			"&dsAbandonedStation;"
			abandonedScreen=	"&dsAbandonedStation;"
			dockingPorts=		"8"
			canAttack=			"true"

			multiHull=			"true"
			armorID=			"&itOrthoSteel;"
			hitPoints=			"1800"
            regen=              "18"
			explosionType=		"&vtThermoExplosion4;"
			ejectaType=			"&vtWreckEjecta;"

			attributes=			"enemy, envEarth, envAvoidsAir, generic, human, majorStation, populated, ranx"
			levelFrequency=		"----- -rcr- ----- ----- -----"
			locationCriteria=	"-outerSystem, +planetary|+50"
			enemyExclusionRadius="100"
			>

		<Image			imageID="&rsStations8;" imageX="0" imageY="192" imageWidth="256" imageHeight="256"/>

		<Devices>
		</Devices>

		<Items>
			<Item count="10d100"	item="&itAkan30CannonShell;" />
			<Item count="4d20"		item="&itKilotonCannonShell;" />
			<Table count="1-2">
				<Lookup chance="40" count="1" table="&trConsumables9;"/>
				<Lookup chance="40" count="1" table="&trMinorItem9;"/>
				<Lookup chance="20" count="1" table="&trMajorItem9;"/>
			</Table>
		</Items>

		<Ships>
			<Ship					count="1"	class="&scRanxDreadnought;"	orders="patrol" patrolDist="150">
				<Escorts>
					<Ship			count="1d5"	class="&scRanxGunship;"	orders="escort"/>
					<Ship			count="1d5"	class="&scRanxBomber;"	orders="escort"/>
				</Escorts>
			</Ship>
			<Ship			count="1d3"	class="&scRanxBomber;"	orders="guard" />
			<Ship			count="1d3"	class="&scRanxFrigate;"	orders="patrol" patrolDist="50"/>
		</Ships>

		<Reinforcements minShips="5">
			<Table>
				<Ship chance="25"  count="1d4"	class="&scRanxDreadnought;" orders="patrol" patrolDist="25">
					<Escorts>
						<Ship			count="1d4"	class="&scRanxFrigate;"	orders="escort"/>
					</Escorts>
				</Ship>
				<Ship chance="75"  count="1"	class="&scRanxDreadnought;"	orders="patrol" patrolDist="25">
					<Escorts>
						<Ship			count="1d4"	class="&scRanxBomber;"	orders="escort"/>
					</Escorts>
				</Ship>
			</Table>
		</Reinforcements>
		
		<Satellites>
			<Orbitals count="3d4" distance="40" angle="equidistant">
				<Ship class="&scRanxTurret;" count="1" sovereign="&svRanxEmpire;" orders="hold"/>
			</Orbitals>
		</Satellites>

		<Encounters frequency="common">
			<Lookup table="&tbRanxEncounters;"/>
		</Encounters>
	</StationType>
	

******************************************************************************************************

<!-- Long Range Attack Missile -->

	<ItemType UNID="&itLAM;"
			name=				"LAM"
			virtual=			"true"
			level=				"9"
			value=				"140000"
			mass=				"8000"
			frequency=			"uncommon"
			modifiers=			"MajorItem; Military; NotRandom; NotForSale;"
			vitrual=			"true"

			description=		"The LAM is a Commonwealth Star Carrier weapon that fires missiles in clusters."
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="480" imageWidth="96" imageHeight="96"/>

		<Weapon
			type=			"missile"
			fireRate=			"120"
			powerUse=			"7500"
			
			>
			<Configuration aimTolerance="0">
				<Shot posAngle="180" posRadius="20" angle="45"/>
				<Shot posAngle="180" posRadius="20" angle="25"/>
				<Shot posAngle="180" posRadius="20" angle="315"/>
				<Shot posAngle="180" posRadius="20" angle="295"/>
			
				<Shot posAngle="180" posRadius="20" angle="0-180"/>
 			
				<Shot posAngle="180" posRadius="20" angle="360-181"/>
			
				<Shot posAngle="180" posRadius="20" angle="175-185"/>
				<Shot posAngle="180" posRadius="20" angle="175-185"/>
			</Configuration>
			<Missiles>
				<Missile 
						type=			"missile"

						damage=				"thermo:15d5; WMD7"
						missileSpeed=		"15"
						accelerationFactor=	"125"
						maxMissileSpeed=	"60"
						maneuverability=	"6"
						lifetime=			"1700"
						interaction=		"200"
						multiTarget=		"true"
						autoAcquireTarget=	"true"
						hitpoints=			"30"
						stealth=	"35"
						noFriendlyFire=		"true"
							
						sound=			"&snMissileLauncher;"
						vaporTrailLength="5"
						vaporTrailWidth="350"
						vaporTrailWidthInc="-5"
						vaporTrailColor="0xd0, 0xd0, 0xd0"
						>
					<Effect>
						<Image imageID="&rsStdMissile1;" imageX="0" imageY="0" imageWidth="32" imageHeight="32" rotationCount="40"/>
					</Effect>						

					<HitEffect
						sound="&snArmorHit1;"
						>
						<Image imageID="&rsExplosionsAG128;"
							imageX="0"
							imageY="0"
							imageWidth="128"
							imageHeight="128"
							imageFrameCount="16"
							imageTicksPerFrame="2"/>
					</HitEffect>
					<Fragment 
						count=			"1"
						type=			"radius"
	
						damage=			"thermo:6d24; momentum6; WMD7"
						minRadius=		"1"
						maxRadius=		"4"
						missileSpeed=	"0"
						>

						<Effect>
							<Flare
							style=			"fadingBlast"
							radius=			"170"
							primaryColor=	"0xff, 0xff, 0xf0"
							lifetime=		"8"
							/>
						</Effect>
					</Fragment>
				</Missile>
			</Missiles>
		</Weapon>
	</ItemType>
	
	<!-- Centurion-class Heavy Gunship -->

	<ShipClass UNID="&scCenturion;"
			manufacturer=		"Pacific Defense Corporation"
			class=				"Centurion"
			type=				"heavy gunship"
			defaultSovereign=	"&svCommonwealthFleet;"

			mass=				"90"
			cargoSpace=			"50"
			thrustRatio=		"9.0"
			maxSpeed=			"20"

			attributes=			"commonwealth,commonMilitary,genericClass"
			>

		<Armor>
			<ArmorSection start="315" span="90" armorID="&itBlastPlate;" areaSet="0,2" />
			<ArmorSection start="225" span="90" armorID="&itBlastPlate;" areaSet="3,4" />
			<ArmorSection start="135" span="90" armorID="&itBlastPlate;" areaSet="1,6" />
			<ArmorSection start="45"  span="90" armorID="&itBlastPlate;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Table>
				<Device chance="50" item="&itTeV9Blaster;"/>
				<Device chance="15" item="&itDualTeV9Blaster;"/>
				<Device chance="25" item="&itOmniTeV9Blaster;"/>
				<Device chance="10" item="&itStarCannon;"/>
			</Table>
			<Table>
				<Device chance="50" item="&itR1Deflector;"/>
				<Device chance="40" item="&itR5Deflector;"/>
				<Device chance="10" item="&itR5BDeflector;"/>
			</Table>
		</Devices>

		<Maneuver
			maxRotationRate=	"9.0"
			rotationAccel=		"1.0"
			/>

		<Items>
			<Item count="2d6" item="&itHeliumAssembly;"/>
		</Items>

		<Image imageID="&rsMediumShips2;" imageX="320" imageY="0" imageWidth="64" imageHeight="64"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="141"	posRadius="27"	posZ="0"	rotation="180"/>
			<Effect type="thrustMain"		posAngle="-141"	posRadius="27"	posZ="0"	rotation="180"/>
			<Effect type="rotateRight"		posAngle="82"	posRadius="23"	posZ="0"	rotation="0"/>
			<Effect type="rotateRight"		posAngle="-98"	posRadius="23"	posZ="0"	rotation="180"/>
			<Effect type="rotateLeft"		posAngle="-82"	posRadius="23"	posZ="0"	rotation="0"/>
			<Effect type="rotateLeft"		posAngle="98"	posRadius="23"	posZ="0"	rotation="180"/>
		</Effects>

		<AISettings
			fireRateAdj=		"20"
			fireAccuracy=		"85"
			perception=			"4"
			
			combatStyle=		"advanced"
			/>

	</ShipClass>
	
	<!-- Centurion/X-class Heavy Gunship -->

	<ShipClass UNID="&scCenturionX;"
			manufacturer=		"Pacific Defense Corporation"
			class=				"Centurion/X"
			type=				"heavy gunship"
			defaultSovereign=	"&svCommonwealthFleet;"

			mass=				"90"
			cargoSpace=			"50"
			thrustRatio=		"12.0"
			maxSpeed=			"22"

			attributes=			"commonwealth,commonMilitary,genericClass"
			>

		<Armor>
			<ArmorSection start="315" span="90" armorID="&itP120HexphaseArmor;" areaSet="0,2" />
			<ArmorSection start="225" span="90" armorID="&itP120HexphaseArmor;" areaSet="3,4" />
			<ArmorSection start="135" span="90" armorID="&itP120HexphaseArmor;" areaSet="1,6" />
			<ArmorSection start="45"  span="90" armorID="&itP120HexphaseArmor;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Table>
				<Device chance="100" item="&itStarCannon;"/>
			</Table>
			<Table>
				<Device chance="80" item="&itR5Deflector;"/>
				<Device chance="20" item="&itR5BDeflector;"/>
			</Table>
		</Devices>

		<Maneuver
			maxRotationRate=	"12.0"
			rotationAccel=		"1.0"
			/>

		<Items>
			<Item count="2d6" item="&itHeliumAssembly;"/>
		</Items>

		<Image imageID="&rsMediumShips2;" imageX="320" imageY="0" imageWidth="64" imageHeight="64"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="141"	posRadius="27"	posZ="0"	rotation="180"/>
			<Effect type="thrustMain"		posAngle="-141"	posRadius="27"	posZ="0"	rotation="180"/>
			<Effect type="rotateRight"		posAngle="82"	posRadius="23"	posZ="0"	rotation="0"/>
			<Effect type="rotateRight"		posAngle="-98"	posRadius="23"	posZ="0"	rotation="180"/>
			<Effect type="rotateLeft"		posAngle="-82"	posRadius="23"	posZ="0"	rotation="0"/>
			<Effect type="rotateLeft"		posAngle="98"	posRadius="23"	posZ="0"	rotation="180"/>
		</Effects>

		<AISettings
			fireRateAdj=		"15"
			fireAccuracy=		"90"
			perception=			"4"
			
			combatStyle=		"advanced"
			/>

	</ShipClass>
	
	<!-- Aquila-class Cruiser -->

	<ShipClass UNID="&scAquilaCruiser;"
			manufacturer=		"Pacific Defense Corporation"
			class=				"Aquila"
			type=				"cruiser"
			defaultSovereign=	"&svCommonwealthFleet;"

			size=				"220"
			mass=				"26000"
			cargoSpace=			"1000"
			thrustRatio=		"1"
			maxSpeed=			"16"

			cyberDefenseLevel=	"8"
			explosionType=		"&vtThermoExplosion3;"

			attributes=			"capitalShip, commonwealth, commonwealthFleet, commonwealthMilitary, genericClass"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itP210HexphaseArmor;"
			count=				"16"
			/>
		
		<Devices>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" minFireArc="355" maxFireArc="175" posAngle="99" posRadius="22"/>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" minFireArc="160" maxFireArc="5" posAngle="261" posRadius="22"/>
			<Device deviceID="&itNAMIHeavyLauncher;" omnidirectional="true"/>
			<Device deviceID="&itR9Deflector;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"3"
			rotationAccel=		"0.5"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"200"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"100"

					posX=		"-75"
					posY=		"0"
					sizeX=		"42"
					sizeY=		"56"
					/>
		</Interior>

		<Image imageID="&rsAquila;" imageWidth="210" imageHeight="210"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="168"	posRadius="94"	posZ="-20"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-168"	posRadius="94"	posZ="-20"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="94"	posZ="-5"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>

		<Items>
			<Item count="4d20" item="&itM2Missile;"/>
		</Items>

		<AISettings
			fireRateAdj=		"30"
			fireAccuracy=		"95"
			perception=			"4"

			combatStyle=		"standOff"
			/>

	</ShipClass>
	
<!-- CSC Hospital 

	<ShipClass UNID="&scCSCHospital;"
			manufacturer=		""
			class=				"Commonwealth Star Carrier"
			type=				""
			score=				"2330"

			mass=				"50000"
			cargoSpace=			"5000"
			thrust=				"10000"
			maneuver=			"24"
			maxSpeed=			"2"

			cyberDefenseLevel=	"6"
			explosionType=		"&vtThermoExplosion4;"
			leavesWreck=		"100"

			attributes=			"commonwealth, commonwealthFleet, commonwealthMilitary, fleetLaw"

			dockScreen=			"Main"
			defaultBackgroundID="&rsCSCBkgnd;"

			inherit=			"&baCSCBase;"
			>

		<Armor>
			<ArmorSection start="350" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="340" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="330" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="320" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="310" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="300" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="290" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="280" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="270" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="260" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="250" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="240" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="230" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="220" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="210" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="200" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="190" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="180" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="170" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="160" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="150" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="140" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="130" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="120" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="110" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="100" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="90"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="80"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="70"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="60"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="50"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="40"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="30"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="20"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="10"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="0"   span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="270" maxFireArc="90"  posAngle="0" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="90"  maxFireArc="270" posAngle="180" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="90" posRadius="44"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="270" posRadius="44"/>
			<Device deviceID="&itLAM;" secondaryWeapon="true" omnidirectional="true" />
			
			<Device deviceID="&itMissileDefense;" omnidirectional="true" />
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
		</Devices>

		<Items>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
		</Items>

		<Image imageID="&rsLargeShips2;" imageX="0" imageY="0" imageWidth="256" imageHeight="256" />

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"95"
			perception=			"4"
			/>

		<StaticData>
			<arcticaCaptainWelcome>
				(
					"The captain of the CSC Arctica welcomes you aboard: \"How are things going back in the Commonwealth? I haven't been to St. Katharine's in more than five years&#x97;had an amazing time at this little bar in the inner system. You really should check it out&#x97;if you make it back, I mean.\""
					)
			</arcticaCaptainWelcome>

			<arcticaGiftTable>
				(	; donation	item						count	unique
					(10000		&itPlasmaShieldGenerator;	1		'Gift1)
					(5000		&itInvincibleDeflector;		1		'Gift2)
					(2500		&itR5Deflector;				1		'Gift3)
					(1250		&itEMPImmuneCoating;		4		'Gift4)
					(0			&itKobeWater;				1		Nil)
					)
			</arcticaGiftTable>

			<saharaCaptainWelcome>
				(
					"The captain of the CSC Sahara welcomes you aboard: \"I hope you will be able to help our good doctor to obtain medical supplies. This damn war has made more invalids than heroes.\""
					)
			</saharaCaptainWelcome>

			<saharaGiftTable>
				(	; donation	item						count	unique
					(10000		&itMammoth100Deflector;		1		'Gift1)
					(5000		&itBlueEtheriumCrystal;		1		'Gift2)
					(2500		&itPatchSpider;				1		'Gift3)
					(1250		&itR1Deflector;				1		'Gift4)
					(0			&itEuropanIceVodka;			1		Nil)
					)
			</saharaGiftTable>
		</StaticData>

		<DockScreens>
			<Main>
				<Panes>
					<Default>
						<OnPaneInit>
							(scrSetDesc gScreen (cat "You are in the docking bay of the " (objGetName gSource) "."))
						</OnPaneInit>

						<Actions>
							<Action name="Bridge" key="B">
								(block Nil
									(scrShowScreen gScreen "Bridge")
								
									; If see if we got promoted
									(if (intFleetPromotion)
										(block Nil
											(setq gName Nil)
											(scrShowScreen gScreen "&dsFleetPromotion;")
											)
										)
									)
							</Action>

							<Action name="Infirmary" key="I">
								<Navigate screen="Infirmary"/>
							</Action>

							<Action name="Dock Services" key="D">
								(scrShowScreen gScreen "&dsFleetDockServices;")
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>

						</Actions>

					</Default>
				</Panes>

			</Main>

			<Bridge
				name=			"Bridge"
				>

				<Panes>
					<Default>
						<OnPaneInit>
							(scrSetDesc gScreen (intRandomMessage gSource (cat (objGetData gSource "CSC") "CaptainWelcome") "arcticaCaptainWelcome"))
						</OnPaneInit>

						<Actions>
							<Action name="Leave" cancel="1" key="L">
								<Navigate screen="Main"/>
							</Action>
						</Actions>
					</Default>
				</Panes>

			</Bridge>

			<Infirmary
				name=			"Infirmary"
				>

				<Panes>
					<Default
							desc=	"You are in the main infirmary of a Commonwealth Star Carrier. Sleep-deprived technicians attend hundreds of patients in their rejuv tanks, mostly oblivious to the insistent medical alarms. The smell of blood, wounds, and antiseptics smother you.">

						<Actions>
							<Action name="Talk to Medical Officer" key="M">
								(block Nil
									; See if the player has any medical supplies
									(setq gItem (objGetItems gPlayerShip "*U+Meds"))

									(if gItem
										(scrShowPane gScreen "SellMedicalItems")
										(scrShowPane gScreen "NoMedicalItems")
										)
									)
							</Action>

							
							<Action name="Talk to patient" key="P">
								</Action>
								

							<Action name="Leave" cancel="1" key="L">
								<Navigate screen="Main"/>
							</Action>

						</Actions>

					</Default>

					<NoMedicalItems
							desc=	"The Medical Officer complains about how hard it is to get medical supplies this deep in space. &quot;We're getting killed out here fighting the Ares and this is how the Commonwealth thanks us&#x97;no supplies, no reinforcements, nothing!&quot;">

						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>

					</NoMedicalItems>

					<SellMedicalItems>
						<OnPaneInit>
							(block (medicalItem)
								; Figure out how much all the supplies cost
								(setq gCost 0)
								(enum gItem medicalItem
									(setq gCost 
										(add gCost 
											; Offer 25% more
											(divide (multiply 125 (itmGetPrice medicalItem) (itmGetCount medicalItem)) 100)
											)
										)
									)

								; Set the description
								(if (eq (count gItem) 1)
									; Only one item
									(scrSetDesc gScreen 
										"\"Welcome to the Infirmary, %sir%! We are in desperate need of medical supplies. "
										"I'm prepared to offer you " gCost " credits for the " (itmGetName (item gItem 0) 16) " in your cargo hold. "
										"What do you say?\""
										)

									; Multiple items
									(block (medicalItem itemListDesc)
										(enum gItem medicalItem
											(if itemListDesc
												(setq itemListDesc (cat itemListDesc ", " (itmGetName medicalItem 8)))
												(setq itemListDesc (cat "(" (itmGetName medicalItem 8)))
												)
											)

										(setq itemListDesc (cat itemListDesc ")"))

										(scrSetDesc gScreen 
											"\"Welcome to the Infirmary, %sir%! We are in desperate need of medical supplies. "
											"I'm prepared to offer you " gCost " credits for all the medical items in your cargo hold: " itemListDesc 
											". What do you say?\""
											)
										)
									)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Sell items" default="1" key="S">
								(block (medicalItem)
									; Remove the items from the cargo hold
									(enum gItem medicalItem
										(block Nil
											(objRemoveItem gPlayerShip medicalItem)
											(plyRecordSellItem gPlayer medicalItem 
												(divide (multiply 125 (itmGetPrice medicalItem) (itmGetCount medicalItem)) 100)
												)
											)
										)

									; Pay the player
									(plyCredit gPlayer gCost)

									; Done
									(scrShowPane gScreen "DoneSelling")
									)
							</Action>

							<Action name="Donate items" key="D">
								(block (medicalItems)
									; Remove the items from the cargo hold
									(enum gItem medicalItem
										(objRemoveItem gPlayerShip medicalItem)
										)
										
									; Keep track of how much we donate
									(typIncGlobalData &svCommonwealthFleet; "medsDonated" gCost)

									; Player gets a gift depending on how much she donated
									(scrShowPane gScreen "Donate")
									)
							</Action>

							<Action name="Leave" cancel="1" key="L">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>

					</SellMedicalItems>

					<DoneSelling
							desc=	"&quot;Thank you, those supplies are really going to help these troopers.&quot;">

						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>

					</DoneSelling>

					<Donate>
						<OnPaneInit>
							(block (gift giftTable fleetXP xpGain maxGain)
								; Get the gift table
								(setq giftTable (objGetStaticData gSource (cat (objGetData gSource "CSC") "GiftTable")))
								(if (not giftTable)
									(setq giftTable (objGetStaticData gSource "arcticaGiftTable"))
									)

								; Find the appropriate gift based on the donation. The donation amount
								; must be greater than the minimum for the gift and the gift must have
								; not been given before (or the gift must not be unique).
								(setq gift Nil)
								(enumwhile giftTable (not gift) thisEntry
									(if (and (geq gCost (item thisEntry 0))
											(or (not (item thisEntry 3)) (not (objGetData gSource (item thisEntry 3))))
											)
										(block Nil
											(setq gift (itmCreate (item thisEntry 1) (item thisEntry 2)))

											; Do not give this gift again
											(if (item thisEntry 3)
												(objSetData gSource (item thisEntry 3) True)
												)
											)
										)
									)

								; Describe the gift
								(scrSetDesc gScreen (cat "\"Your generosity humbles me! When I was posted in the front-lines I came across " (itmGetName gift 8) ". I would be honored if you would accept it as a gift.\""))

								; Give the gift to the player
								(objAddItem gPlayerShip gift)

								; Figure out how much experience we could gain. We cannot gain more than
								; 200xp or xp beyond 600 (Master Sergeant).
								(setq fleetXP (objGetData gPlayerShip "fleetXP"))
								(switch
									(geq fleetXP 600)
										(setq maxGain 0)

									(geq fleetXP 400)
										(setq maxGain (subtract 600 fleetXP))

									(setq maxGain 200)
									)

								; Player gains experience at the rate of 1 xp per 10 credits
								; up to a maximum
								(setq xpGain (divide gCost 10))
								(if (gr xpGain maxGain)
									(setq xpGain maxGain)
									)

								(objIncData gPlayerShip "fleetXP" xpGain)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Done" default="1" cancel="1" key="D">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</Donate>

				</Panes>

			</Infirmary>

		</DockScreens>

		<DockingPorts>
			<Port x="0"		y="70" />
			<Port x="0"		y="-70" />
			<Port x="50"	y="50" />
			<Port x="50"	y="-50" />
			<Port x="70"	y="0" />
			<Port x="-70"	y="0" />
			<Port x="-50"	y="50" />
			<Port x="-50"	y="-50" />
		</DockingPorts>

	</ShipClass>
<!-- CSC Task Force
	
	GLOBAL DATA
	
	missionsAccepted:	Total missions accepted
	missionsCompleted:	Total missions completed successfully
	missionsFailed:		Total missions failed

	EXTRA DATA
	
	MissionID:			ID of current mission
	MissionStatus:		Current status of mission:
							Nil					= no mission in progress
							'inprogress			= mission in progress
							'success			= mission succeeded
							'failure			= mission failed

	PLAYER SHIP EXTRA
	
	fleetTFSuccess:		Total number of successful missions
	fleetTFFailure:		Total number of failed missions

	

	<ShipClass UNID="&scCSCTaskForce;"
			manufacturer=		""
			class=				"Commonwealth Star Carrier"
			type=				""
			score=				"2330"

			mass=				"50000"
			cargoSpace=			"5000"
			thrust=				"10000"
			maneuver=			"24"
			maxSpeed=			"2"

			cyberDefenseLevel=	"8"
			explosionType=		"&vtThermoExplosion4;"
			leavesWreck=		"100"

			attributes=			"commonwealth, commonwealthFleet, commonwealthMilitary, genericClass, fleetLaw"

			dockScreen=			"Main"
			defaultBackgroundID="&rsCSCBkgnd;"
			
			inherit=			"&baCSCBase;"
			>

		<Armor>
			<ArmorSection start="350" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="340" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="330" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="320" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="310" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="300" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="290" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="280" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="270" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="260" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="250" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="240" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="230" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="220" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="210" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="200" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="190" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="180" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="170" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="160" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="150" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="140" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="130" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="120" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="110" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="100" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="90"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="80"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="70"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="60"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="50"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="40"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="30"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="20"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="10"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="0"   span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="270" maxFireArc="90"  posAngle="0" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="90"  maxFireArc="270" posAngle="180" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="90" posRadius="44"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="270" posRadius="44"/>
			<Device deviceID="&itLAM;" secondaryWeapon="true" omnidirectional="true"/>
			
			<Device deviceID="&itMissileDefense;" omnidirectional="true" />
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
		</Devices>

		<Items>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
		</Items>

		<Image imageID="&rsLargeShips2;" imageX="0" imageY="0" imageWidth="256" imageHeight="256" />

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"95"
			perception=			"6"
			/>

		<StaticData>
			<!--
			The first code block must return a string describing the
			mission (or Nil, if a mission could not be found).

			The code should also place any data about the mission in global variable
			that can be accessed by the second code block.

			The second code block initiates the mission from global variables
			set by the first code block. It should permanently store the mission
			as object data.

			The third code block returns a string describing the success of
			the mission (or Nil, if the mission is in progress)
			

			 Level 1 Missions 

			<Missions1>
				(
					; Recon mission
					("mission1a"
						; Code to describe mission
						(lambda Nil
							(block (stationList)
								; Look for a major Ares station in the system
								(setq stationList (SysFindObject gSource "T:aresMajor;A"))

								; If we found at least one, then pick a random one
								(setq gTarget (random stationList))

								(switch
									; If we have no target, then no mission
									(not gTarget)
										(block Nil
											(setq gMissionNoneText "\"Sorry, there are no missions available for you.\"")
											Nil
											)

									; Otherwise, OK
									(cat "\"We need you to do a recon mission on " (objGetName gTarget 4) " in this system. All you have to do is fly past it and make visual contact. We'll enter the coordinates to your computer. What do you say?\"")
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (timer)
								; Remember what we're supposed to recon
								(objSetObjRefData gSource "Target" gTarget)

								; Set the recon target in the player ship's computer
								(shpOrderEscort gPlayerShip gTarget)
								(objSetIdentified gTarget)

								; Prepare the station to be reconned
								(staClearReconned gTarget)
								(staSetFireReconEvent gTarget)

								; Get events for the station
								(objRegisterForEvents gSource gTarget)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code on successful mission
						(lambda Nil
							(block (damage)
								(setq damage (objGetVisibleDamage gPlayerShip))

								; Set description
								(switch
									(gr damage 75)
										(scrSetDesc gScreen "\"Outstanding mission! You better report to Docking Services to have all that damage repaired!\"")

									(gr damage 25)
										(scrSetDesc gScreen "\"Outstanding mission! Looks like you got a little banged up out there.\"")

									(scrSetDesc gScreen "\"Outstanding mission! You made it look easy.\"")
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 100)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)

					; Fleet Delivery mission
					("mission1b"
						; Code to describe mission
						(lambda Nil
							(block Nil
								; Look for a major commonwealth station in the system that is at least
								; 300 light-seconds from here.
								(setq stationList (SysFindObject gSource "T:fleetDelivery; A R:300;"))

								; If we found at least one, then pick a random one
								(setq gTarget (random stationList))

								(switch
									; If we have no target, then no mission
									(or (not gTarget) (objGetData gTarget "fleetMissionCargo"))
										(block Nil
											(setq gMissionNoneText "\"Sorry, there are no missions currently available.\"")
											Nil
											)

									; Otherwise, OK
									(cat "\"We need you to take much needed supplies to " (objGetName gTarget 4) " in this system. We'll empty your cargo hold so that we can fit as much cargo as possible (but don't worry, you'll get all your stuff back). We'll program the delivery coordinates into your flight computer. What do you say?\"")
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (allItems count neededItem roll enemyAmbush)
								; Remember the mission (so that we will know when we reach
								; our destination)
								(objSetObjRefData gPlayerShip "fleetMission" gSource)

								; Remember where we're supposed to deliver this stuff
								(objSetObjRefData gSource "Target" gTarget)

								; Set the target in the player ship's computer
								(shpOrderEscort gPlayerShip gTarget)
								(objSetIdentified gTarget)

								; Remove all uninstalled items from the player's ship (except missiles/ammo or IDs)
								(objSetData gSource "fleetMissionSavedCargo" (setq allItems (objGetItems gPlayerShip "*U~m -ID;")))
								(enum allItems thisItem
									(objRemoveItem gPlayerShip thisItem)
									)

								; Pick a random item
								(setq neededItem (random '(&itGradeAGrains; &itWaterIce; &itMedicalSupplies; &itSalmonite;)))

								; Figure out how many barrels of grain we can take
								(setq count (divide (objGetCargoSpaceLeft gPlayerShip) (itmGetMass (itmCreate neededItem 1))))
								(if (eq count 0)
									(setq count 1)
									)

								; Add the items to the player ship (and remember)
								(objAddItem gPlayerShip (itmCreate neededItem count))
								(objSetData gTarget "fleetMissionCargo" (objGetItems gPlayerShip "*U~m -ID;"))

								; Figure out what kind of enemy will attack the player
								(setq roll (random 1 100))
								(switch
									(leq roll 60)
										(setq enemyAmbush &etKobolAmbush1;)

									(leq roll 90)
										(setq enemyAmbush &etRogueAmbush1;)

									(setq enemyAmbush &etAresAmbush2;)
									)

								; On timer, enemies attack player
								(sysAddEncounterEventAtDist 
									(add 300 (random 0 150)) 
									gPlayerShip 
									enemyAmbush 
									(random 120 200)
									)
								)
							)

						; Code on successful mission
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Nice work! Those supplies will do some good.\"")

								; Restore the items that we took from the player
								(enum (objGetData gSource "fleetMissionSavedCargo") thisItem
									(objAddItem gPlayerShip thisItem)
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 100)
								)
							)

						; Code on failure
						(lambda Nil
							(block (target)
								; Remove the supplies (if the player has any)
								(setq target (objGetObjRefData gSource "Target"))
								(setq items (objGetData target "fleetMissionCargo"))

								(enum items thisItem
									(objRemoveItem gPlayerShip thisItem)
									)
									
								; Restore the items that we took from the player
								(enum (objGetData gSource "fleetMissionSavedCargo") thisItem
									(objAddItem gPlayerShip thisItem)
									)

								(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
								)
							)
						)

					; Juan Carlos mission
					("mission1c"
						; Code to describe mission
						(lambda Nil
							(switch
								; If we've already done this mission, then don't bother
								(typGetGlobalData &scEI500JuanCarlos; "deliverROM")
									(block Nil
										(setq gMissionNoneText "\"Sorry, there are no missions currently available.\"")
										Nil
										)

								; Otherwise, OK
								(cat "\"We need you to rendezvous and dock with a freighter a few light-minutes away. Pick up a data ROM and bring it back here safely. Understood?\"")
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (ship)
								; Create the Juan Carlos some place relatively safe
								(setq ship 
									(sysCreateShip 
										&scEI500JuanCarlos; 
										(sysVectorRandom gSource (random 240 400) 60 "Ts")
										&svCommonwealth;
										)
									)
								(shpOrderHold ship)

								; Set the player to go there
								(shpOrderDock gPlayerShip ship)
								(objSetIdentified ship)
								(objSetObjRefData gPlayerShip "MissionSource" gSource)

								; Track the player
								(objRegisterForEvents gSource gPlayerShip)

								; Sometimes the freighter is under attack
								(if (leq (random 1 100) 50)
									(sysAddEncounterEventAtDist 0 ship &etAresAmbush1; (objGetDistance gSource ship))
									)

								; Can't get this mission again
								(typSetGlobalData &scEI500JuanCarlos; "deliverROM" True)
								)
							)

						; Code on successful mission
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Nice work! The data on this ROM is very important for the admiral and the Fleet.\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 100)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)

					; Intercept Ares patrol
					("mission1d"
						; Code to describe mission
						(lambda Nil
							"\"There's an Ares patrol inbound that wants to take a peek at us. Your mission is to intercept and destroy the entire flight before it can gate out of the system and report our location. Understood?\""
							)

						; Code to initiate mission
						(lambda Nil
							(block (squadronCount startPos)
								; Remember how many we need to kill
								(setq squadronCount 8)
								(objSetData gSource "TargetCount" squadronCount)
								(objSetData gSource "TargetsLeft" squadronCount)

								(setq startPos (sysVectorRandom gSource (random 100 120) 60))

								; Create the squadron a certain distance away and send them 
								; to the carrier.
								(for i 0 (subtract squadronCount 1)
									(block (ship)
										(setq ship
											(sysCreateShip 
												&scSandstorm; 
												(sysVectorPolarOffset startPos (random 0 359) (random 1 6))
												&svAres;
												)
											)

										; Order the ship to patrol near the CSC
										(shpOrderPatrol ship gSource 3)

										; Remember the ship
										(objSetObjRefData gSource (cat "Target" i) ship)
										(objRegisterForEvents gSource ship)
										)
									)

								; Set the target
								(shpCancelOrders gPlayerShip)
								(shpOrderAttack gPlayerShip (objGetObjRefData gSource "Target0"))
								(objSetIdentified (objGetObjRefData gSource "Target0"))

								; We create a timer to check on the position of the ships
								(sysAddObjRecurringTimerEvent 30 gSource "OnAresPatrolCheck")
								)
							)

						; Code on successful mission
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Outstanding, pilot! That's the way to do it!\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 100)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)
					)
			</Missions1>

			<Missions2>
				(
					; Destroy Ares freighter
					("mission2a"
						; Code to describe mission
						(lambda Nil
							(block (gate stationList)
								; Get the list of all Ares bases
								(setq stationList (SysFindObject gSource "T:ares;A"))
								(setq gEnd Nil)

								; For each stargate, see if we can travel to an Ares base
								; stop looking when we find a destination
								(enumwhile
									(SysFindObject gSource "G -uncharted;")
									(not gEnd)
									gate

									(block (bestDist testDest)
										; Pick a stargate
										(setq gStart gate)

										; Find the nearest base to the stargate that is at least
										; 300 light-seconds away from the stargate
										(setq bestDist 1200)
										(enum stationList testDest
											(if (and 
													(gr (objGetDistance gStart testDest) 300)
													(ls (objGetDistance gStart testDest) bestDist))
												(block Nil
													(setq bestDist (objGetDistance gStart testDest))
													(setq gEnd testDest)
													)
												)
											)
										)
									)

								; If we found a station, then compose the mission text
								(if gEnd
									(cat "\"An Ares freighter is delivering supplies to " (objGetName gEnd 4) " in this system. Your orders are to intercept and destroy the freighter. Any questions?\"")
									Nil
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (ship)
								; create the transport
								(setq ship (sysCreateShip &scPolar; gStart &svAres;))
								(shpOrderDock ship gEnd)
								(shpOrderGate ship)

								; create the escorts
								(for i 1 5
									(block (escort)
										(setq escort (sysCreateShip &scSandstorm; gStart &svAres;))
										(shpOrderEscort escort ship)
										)
									)

								; Add some items to the transport
								(objAddItem ship (itmCreate &itPteracniumOre; (random 10 30)))
								(objAddRandomItems ship &trConsumables6; (random 1 4))
								(objAddRandomItems ship &trMinorItem6; 1)

								; register so we know when the main ship is destroyed
								(objRegisterForEvents gSource ship)
								(objSetObjRefData gSource "Target" ship)

								; orders
								(shpCancelOrders gPlayerShip)
								(shpOrderAttack gPlayerShip ship)
								(objSetIdentified ship)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Outstanding mission! That's one less supply ship for the Martians&#x97;just a matter of time before this war is over.\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 150)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)

					; Defend superfreighter
					("mission2b"
						; Code to describe mission
						(lambda Nil
							(block (gateList)
								; Find a stargate more than 300 light-seconds away
								(setq gateList (SysFindObject gSource "GR:300; -uncharted;"))

								; See if we meet all requirements
								(switch
									; If there are no gates near by, there is no mission
									(not gateList)
										(block Nil
											(setq gMissionNoneText "\"Sorry, there are no missions currently available.\"")
											Nil
											)

									; Otherwise, we compose the mission text
									(block Nil
										(setq gStart (random gateList))
										(cat "\"A superfreighter carrying pteracnium ore will enter the system at " (objGetName gStart 0) " and rendezvous with us here. Your mission is to escort it safely from the gate to our location. Clear?\"")
										)
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (obstacle roll)
								; Choose a random obstacle for the mission
								(setq roll (random 1 100))
								(switch
									(leq roll 60)
										(setq obstacle 'aresAttack)

									(leq roll 90)
										(setq obstacle 'rogueAmbush)

									(setq obstacle 'suicideRun)
									)

								(objSetData gSource "MissionVariant" obstacle)

								; Remember the start point
								(objSetObjRefData gSource "StartGate" gStart)

								; Create a timer for the creation of the freighter
								(sysAddObjTimerEvent (multiply (objGetDistance gPlayerShip gStart) 3) gSource "OnTimerFreighterAppears2B")

								; point the player to the stargate
								(shpCancelOrders gPlayerShip)
								(shpOrderDock gPlayerShip gStart)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block Nil
								; Set description
								(if (eq (objGetData gSource "MissionVariant") 'suicideRun)
									(scrSetDesc gScreen "\"Excellent mission! Your quick reaction probably saved hundreds of lives on this ship!\"")
									(scrSetDesc gScreen "\"Excellent mission! That pteracnium fuel is desperately needed!\"")
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 150)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)
					)
			</Missions2>

			<MissionRescueScientists>
				(
					("mission3rescue"
						; Code to describe mission
						(lambda Nil
							(cat "\"OK, this is a high-profile rescue mission, so I don't want any screw-ups!\n\n"
								"\"Two of our weapons designers have been kidnapped by rogue fleet elements. "
								"We're sending an Aurochs transport with an extraction team to rescue our Einsteins. "
								"All you've got to do is protect the transport to the rogue base and back. Clear?\""
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (base ship)
								; Create the rogue base. The base position must be at least 120 light-seconds
								; away from anything else.

								(setq base (sysCreateStation &stRogueBaseRescue; (sysVectorRandom gSource (random 400 600) 120 "t")))
								(objSetObjRefData gSource "Target" base)

								; Create the rescue ship

								(setq ship (sysCreateShip &scAurochs; gSource &svCommonwealthFleet;))
								(shpOrderDock ship base)
								(shpOrderWait ship (random 10 20))
								(shpOrderDock ship gSource)
								(shpOrderWait ship 5)
								(shpOrderGate ship)

								(objSetObjRefData gSource "Ship" ship)
								(objRegisterForEvents gSource ship)

								; orders
								(shpOrderEscort gPlayerShip ship)
								(objSetIdentified ship)
								(objRegisterForEvents gSource gPlayerShip)

								; Encounter
								(if (leq (random 1 100) 60)
									(sysAddEncounterEventAtDist (add 500 (random 0 100)) ship &etRogueAmbush1; (random 120 200))
									)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Outstanding mission! Now we can put those Einsteins back to work!\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 350)

								(typSetGlobalData &scCSCTerra; "p262scientists" "rescued")
								)
							)

						; Code on failure
						(lambda Nil
							(block Nil
								(scrSetDesc gScreen "\"That's what I get for counting on you!\n\n\"You're demoted back to Privateer! Now get out of my sight!\"")
								(objSetData gPlayerShip "fleetXP" 400)
								(objSetData gPlayerShip "fleetLevel" 2)

								(typSetGlobalData &scCSCTerra; "p262scientists" "failed")
								)
							)
						)
					)
			</MissionRescueScientists>

			<Missions3>
				(
					; Defend supply ship
					("mission3a"
						; Code to describe mission
						(lambda Nil
							(block Nil
								; Find a random stargate more than 400 light-seconds from us
								(setq gStart (random (SysFindObject gSource "G R:400; -uncharted;")))

								; Describe the mission
								(if gStart
									(cat "\"A supply ship is arriving at the " (objGetName gStart) ". Your orders are to escort it back to " (objGetName gSource 4) " and defend it against all enemies. Carry On!\"")
									Nil
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block Nil
								; Set a timer to give the player a chance to get to the stargate
								(objSetObjRefData gSource "Target" gStart)
								(setq timer (add (multiply 5 (objGetDistance gSource gStart)) (random 0 200)))
								(sysAddObjTimerEvent timer gSource "OnTimerConvoyAppears3A")

								; Add some enemy ships patrolling around the stargate
								(for i 1 (random 4 6)
									(block (patrol)
										(setq patrol (sysCreateShip &scSandstorm; gStart &svAres;))
										(shpOrderPatrol patrol gStart 20)
										)
									)

								; orders
								(shpOrderEscort gPlayerShip gStart)
								(objSetIdentified gStart)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block Nil
								; Set description
								(scrSetDesc gScreen "\"Outstanding mission! Those supplies are desperately needed here.\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 250)
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)

					; Defend Refugee Convoy
					("mission3b"
						; Code to describe mission
						(lambda Nil
							(block (gateList)
								(setq gStart Nil)

								; Get the list of gates in the system
								(setq gateList (SysFindObject gSource "G -uncharted;"))

								; Make sure there are at least 2 gates
								(if (geq (count gateList) 2)
									(block Nil
										(setq gStart (item gateList 0))
										(setq gEnd (item gateList 1))

										; The two gates better be at least 150 light-seconds
										; away from each other
										(if (ls (objGetDistance gStart gEnd) 150)
											(setq gStart Nil)
											)
										)
									)

								; Describe mission
								(switch
									; If system is not configured correctly
									(not gStart)
										(block Nil
											(setq gMissionNoneText "\"Sorry, there are no missions available for you.\"")
											Nil
											)

									; Otherwise
									(cat "\"A refugee convoy is passing through the system. Your mission is to lead a small squadron and escort the convoy safely through the system. Any questions?\"")
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block Nil
								; Create some ships off-screen and bring them in
								(intFleetCreateWingmen gSource 6 &scCenturion;)

								; Set a timer to give the player a chance to get to the stargate
								(setq timer (add (multiply 5 (objGetDistance gSource gStart)) (random 0 200)))
								(sysAddObjTimerEvent timer gSource "OnTimerConvoyAppears3B")

								(objSetObjRefData gSource "StartGate" gStart)
								(objSetObjRefData gSource "EndGate" gEnd)

								; orders
								(shpOrderEscort gPlayerShip gStart)
								(objSetIdentified gStart)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block Nil
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))

								; Set description
								(scrSetDesc gScreen "\"Outstanding mission! Those refugees have a chance to start a new life away from the war zone.\"")

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 250)
								)
							)

						; Code on failure
						(lambda Nil
							(block Nil
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))

								(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
								)
							)
						)
					)
			</Missions3>

			<Missions4>
				(
					; Destroy Ares station
					("mission4a"
						; Code to describe mission
						(lambda Nil
							(block Nil
								; Pick a random Ares station in the system
								(setq gTarget (random (SysFindObject gSource "T:aresMajor;A")))

								; Compose description
								(if gTarget
									(cat "\"This mission is straight from Admiral Decker himself. We want you to lead a flight of Britannias to destroy " (objGetName gTarget 4) " in this system. Any questions?\"")
									Nil
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block Nil
								; Create some ships off-screen a bring them in
								(intFleetCreateWingmen gSource 6 &scBritannia;)

								; Point-out the station to destroy
								(objSetObjRefData gSource "Target" gTarget)
								(objRegisterForEvents gSource gTarget)
								(shpOrderAttack gPlayerShip gTarget)
								(objSetIdentified gTarget)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block (shipsLeft)
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))

								; Set description
								(switch
									(eq shipsLeft 0)
										(scrSetDesc gScreen (cat "\"A tough mission. We can't afford to lose so many good pilots.\""))

									(eq shipsLeft 1)
										(scrSetDesc gScreen (cat "\"Good mission! It's unfortunate that only one of your wingmen survived.\""))

									(scrSetDesc gScreen (cat "\"Outstanding mission! Looks like you came back with " shipsLeft " wingmen.\""))
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" (add 250 (multiply shipsLeft 100)))
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)

					; Destroy Ares convoy
					("mission4b"
						; Code to describe mission
						(lambda Nil
							(block (gateList)
								(setq gStart Nil)

								; Get the list of gates in the system
								(setq gateList (SysFindObject gSource "G -uncharted;"))

								; Make sure there are at least 2 gates
								(if (geq (count gateList) 2)
									(block Nil
										(setq gStart (item gateList 0))
										(setq gEnd (item gateList 1))

										; The two gates better be at least 200 light-seconds
										; away from each other
										(if (ls (objGetDistance gStart gEnd) 200)
											(setq gStart Nil)
											)
										)
									)

								; Set text
								(switch
									; If we have no target, then no mission
									(not gStart)
										(block Nil
											(setq gMissionNoneText "\"Sorry, there are no missions available for you.\"")
											Nil
											)

									; Otherwise, OK
									(cat "\"A large Ares convoy will enter the system at " (objGetName gStart 0) ". Take a flight of Centurions and destroy as many freighters as you can before they leave the system. Any questions?\"")
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (variant)
								; Create some ships off-screen a bring them in
								(intFleetCreateWingmen gSource 6 &scCenturion;)

								; Choose mission variant
								(setq roll (random 1 100))
								(switch
									(leq roll 60)
										(setq variant 'chasmEscort)

									(leq roll 90)
										(setq variant 'advancedPolar)

									(setq variant 'deimosEscort)
									)

								(objSetData gSource "MissionVariant" variant)

								; Remember the start and end point
								(objSetObjRefData gSource "StartGate" gStart)
								(objSetObjRefData gSource "EndGate" gEnd)

								; Init counters
								(objSetData gSource "FreightersEscaped" 0)
								(objSetData gSource "TargetsDestroyed" 0)
								(objSetData gSource "WingmenDestroyed" 0)

								; Create a timer for the creation of the freighter
								(sysAddObjTimerEvent (multiply (objGetDistance gPlayerShip gStart) 1) gSource "OnTimerConvoyAppears4B")

								; point the player to the stargate
								(shpCancelOrders gPlayerShip)
								(shpOrderDock gPlayerShip gStart)
								(objRegisterForEvents gSource gPlayerShip)
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block (shipsLeft shipsLeftText)
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))
								(setq shipsLeftText (item (list 'zero 'one 'two 'three 'four 'five 'six) shipsLeft))

								; Set description
								(switch
									(leq shipsLeft 2)
										(scrSetDesc gScreen (cat "\"A tough mission. We can't afford to lose so many good pilots.\""))

									(leq shipsLeft 4)
										(scrSetDesc gScreen (cat "\"Good mission! It's unfortunate that only " shipsLeftText " of your wingmen survived.\""))

									(scrSetDesc gScreen (cat "\"Outstanding mission! Looks like you came back with " shipsLeftText " wingmen.\""))
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" (multiply (objGetData gSource "TargetsDestroyed") 100))
								(objIncData gPlayerShip "fleetXP" (multiply shipsLeft 50))
								)
							)

						; Code on failure
						(lambda Nil
							(block Nil
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))

								(switch
									(eq (objGetData gSource "WingmenDestroyed") 6)
										(scrSetDesc gScreen "\"What kind of a leader loses all %his% wingmen and dares to return alive! Next time do us all a favor and kill yourself!\"")

									(gr (objGetData gSource "WingmenDestroyed") (objGetData gSource "TargetsDestroyed"))
										(scrSetDesc gScreen "\"You lost more wingmen against those freighters than most people do against an Ares dreadnought! Your leadership skills are pathetic. Get out of my sight!\"")

									(eq (objGetData gSource "TargetsDestroyed") 0)
										(scrSetDesc gScreen "\"You didn't even destroy a single freighter! That wing of Centurions is wasted on you!\"")

									(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
									)
								)
							)
						)
					)
			</Missions4>

			<Missions5>
				(
					; Destroy Target
					("mission5a"
						; Code to describe mission
						(lambda Nil
							(block Nil
								(switch
									; Otherwise, OK
									(cat "\"Your orders are to lead a flight of Britannias and intercept and destroy an unknown hostile. We'll enter the coordinates to your computer. What do you say?\"")
									)
								)
							)

						; Code to initiate mission
						(lambda Nil
							(block (targetPos roll)
								; Create some ships off-screen a bring them in
								(intFleetCreateWingmen gSource 6 &scBritannia;)

								; Pick a random location for the target
								(setq targetPos (sysVectorRandom gSource (random 300 600) 250))

								; Create targets
								(setq roll (random 1 100))
								(switch
									; Target is Phobos dreadnought
									(leq roll 60)
										(block (theShip)
											(setq theShip (sysCreateShip &scPhobos; targetPos &svAres;))
											(shpOrder theShip 'waitForTarget gPlayerShip)
											(shpOrder theShip 'attack gPlayerShip)
											(shpOrder theShip 'attack gSource)

											(objSetObjRefData gSource "Target1" theShip)
											(objRegisterForEvents gSource theShip)

											(objSetData gSource "TargetCount" 1)
											)

									; Target is wing of Sandstorms
									(leq roll 90)
										(block (shipCount theLeader)
											(setq shipCount 35)
											(objSetData gSource "TargetCount" shipCount)

											(for i 1 shipCount
												(block (theShip)
													(setq theShip 
														(sysCreateShip &scSandstorm;
															(sysVectorPolarOffset
																targetPos
																(random 0 359)
																(add (random 1 12) (random 0 12))
																)
															&svAres;
															)
														)
														
													(if (not theLeader)
														(block Nil
															(shpOrder theShip 'waitForTarget gPlayerShip)
															(shpOrder theShip 'attack gPlayerShip)
															(shpOrder theShip 'attack gSource)
															(setq theLeader theShip)
															)
														(shpOrder theShip 'escort theLeader)
														)

													(objSetObjRefData gSource (cat "Target" i) theShip)
													(objRegisterForEvents gSource theShip)
													)
												)
											)

									; Target is flight of Deimos destroyers
									(block (shipCount theLeader)
										(setq shipCount 3)
										(objSetData gSource "TargetCount" shipCount)

										(for i 1 shipCount
											(block (theShip)
												(setq theShip 
													(sysCreateShip &scDeimos;
														(sysVectorPolarOffset
															targetPos
															(random 0 359)
															(add (random 1 12) (random 0 12))
															)
														&svAres;
														)
													)
													
												(if (not theLeader)
													(block Nil
														(shpOrder theShip 'waitForTarget gPlayerShip)
														(shpOrder theShip 'attack gPlayerShip)
														(shpOrder theShip 'attack gSource)
														(setq theLeader theShip)
														)
													(shpOrder theShip 'escort theLeader)
													)

												(objSetObjRefData gSource (cat "Target" i) theShip)
												(objRegisterForEvents gSource theShip)
												)
											)
										)
									)

								(objSetData gSource "TargetsDestroyed" 0)

								; Point player at target
								(shpCancelOrders gPlayerShip)
								(shpOrder gPlayerShip 'attack (objGetObjRefData gSource "Target1"))
								)
							)

						; Code to see if mission has been completed
						(lambda Nil
							(block (shipsLeft shipsLeftText)
								; Disperse wingmen
								(setq shipsLeft (intFleetDisperseWingmen gSource 6))
								(setq shipsLeftText (item (list 'zero 'one 'two 'three 'four 'five 'six) shipsLeft))

								; Set description
								(switch
									(leq shipsLeft 2)
										(scrSetDesc gScreen (cat "\"A tough mission. We can't afford to lose so many good pilots.\""))

									(leq shipsLeft 4)
										(scrSetDesc gScreen (cat "\"Good mission! It's unfortunate that only " shipsLeftText " of your wingmen survived.\""))

									(scrSetDesc gScreen (cat "\"Outstanding mission! Looks like you came back with " shipsLeftText " wingmen.\""))
									)

								; Increment XP
								(objIncData gPlayerShip "fleetXP" 1000)
								(objIncData gPlayerShip "fleetXP" (multiply shipsLeft 100))
								)
							)

						; Code on failure
						(lambda Nil
							(scrSetDesc gScreen "\"You screwed that mission all the way to Sol and back. You better hit the sims, pilot!\"")
							)
						)
					)
			</Missions5>
		</StaticData>

		<Events>
			<OnDestroy>
				(block Nil
					; If we're in the middle of the delivery mission, then put the player's
					; stuff on the ship

					(if (and (eq (objGetData gSource "MissionStatus") "inprogress")
							(eq (objGetData gSource "MissionID") "mission1b")
							)
						(enum (objGetData gSource "fleetMissionSavedCargo") thisItem
							(objAddItem gSource thisItem)
							)
						)
						
					; Base class
					
					(typFireObjEvent &baCSCBase; gSource 'OnDestroy)
					)
			</OnDestroy>

			<OnObjDestroyed>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (missionID)
						(setq missionID (objGetData gSource "MissionID"))
						(switch
							; If the player was destroyed, stop the mission
							(eq aObjDestroyed gPlayerShip)
								(block Nil
									(objSetData gSource "MissionStatus" "failure")
									(typIncGlobalData &scCSCTaskForce; "missionsFailed")
									(shpCancelOrders gPlayerShip)

									; Disperse wingmen
									(intFleetDisperseWingmen gSource 10)
									)
									
							(and (eq missionID "mission1a") (eq aObjDestroyed (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission complete!")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(objUnregisterForEvents gSource aObjDestroyed)
									(shpCancelOrders gPlayerShip)
									)
									
							(eq missionID "mission1d")
								(block (targetSet)
									(for i 0 (subtract (objGetData gSource "TargetCount") 1)
										(if (eq aObjDestroyed (objGetObjRefData gSource (cat "Target" i)))
											(objIncData gSource "TargetsLeft" -1)
											(if (and (not targetSet) (objGetObjRefData gSource (cat "Target" i)))
												(block Nil
													(shpCancelOrders gPlayerShip)
													(shpOrderAttack gPlayerShip (objGetObjRefData gSource (cat "Target" i)))
													(objSetIdentified (objGetObjRefData gSource (cat "Target" i)))
													(setq targetSet True)
													)
												)
											)
										)

									(if (eq (objGetData gSource "TargetsLeft") 0)
										(block Nil
											(plyMessage gPlayer "Mission complete!")
											(objSetData gSource "MissionStatus" "success")
											(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
											(sysCancelTimerEvent gSource "OnAresPatrolCheck")
											)
										(if (eq (objGetData gSource "TargetsLeft") 1)
											(plyMessage gPlayer "1 target left!")
											(plyMessage gPlayer (objGetData gSource "TargetsLeft") " targets left")
											)
										)
									)

							(and (eq missionID "mission2a") (eq aObjDestroyed (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission complete!")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(shpCancelOrders gPlayerShip)
									)

							(and (eq missionID "mission2b") (eq aObjDestroyed (objGetObjRefData gSource "Target")))
								(if (and 
										(eq (objGetData gSource "MissionVariant") 'suicideRun)
										(objGetData aObjDestroyed "Armed")
										)
									(block Nil
										(sysCreateWeaponFire &itM5Missile; Nil (objGetPos aObjDestroyed) 0 0 gSource True)
										(plyMessage gPlayer "Mission complete!")
										(objSetData gSource "MissionStatus" "success")
										(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
										(shpCancelOrders gPlayerShip)
										)
									(block Nil
										(plyMessage gPlayer "Mission failed")
										(objSetData gSource "MissionStatus" "failure")
										(typIncGlobalData &scCSCTaskForce; "missionsFailed")
										(shpCancelOrders gPlayerShip)
										)
									)

							(and (eq missionID "mission3rescue") (eq aObjDestroyed (objGetObjRefData gSource "Ship")))
								(block Nil
									(plyMessage gPlayer "Mission failed")
									(objSetData gSource "MissionStatus" "failure")
									(typIncGlobalData &scCSCTaskForce; "missionsFailed")
									(shpCancelOrders gPlayerShip)
									)

							(and (eq missionID "mission3a") (eq aObjDestroyed (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission failed")
									(objSetData gSource "MissionStatus" "failure")
									(typIncGlobalData &scCSCTaskForce; "missionsFailed")
									(shpCancelOrders gPlayerShip)
									)

							(eq missionID "mission3b")
								(block (shipClass)
									(setq shipClass (objGetType aObjDestroyed))
									(switch
										(eq shipClass &scScarabFreighter;)
											(objIncData gSource "SuperfreightersDestroyed")

										(eq shipClass &scEI100;)
											(objIncData gSource "FreightersDestroyed")
										)

									; Tell the player

									(plyMessage gPlayer (objGetName aObjDestroyed 1) " destroyed")

									; If more than 1 superfreighter has been destroyed or if
									; more than 4 freighters have been destroyed, then the player cannot win

									(if (or (gr (objGetData gSource "SuperfreightersDestroyed") 1)
											(gr (objGetData gSource "FreightersDestroyed") 4)
											)
										(block Nil
											(plyMessage gPlayer "Mission failed")
											(objSetData gSource "MissionStatus" "failure")
											(typIncGlobalData &scCSCTaskForce; "missionsFailed")
											(shpCancelOrders gPlayerShip)
											)
										)
									)

							(and (eq missionID "mission4a") (eq aObjDestroyed (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission complete!")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(shpCancelOrders gPlayerShip)
									)

							(eq missionID "mission4b")
								(block Nil
									(for i 0 4
										(if (eq aObjDestroyed (objGetObjRefData gSource (cat "Target" i)))
											(block (escaped destroyed lost)
												(setq escaped (objGetData gSource "FreightersEscaped"))
												(setq destroyed (add (objGetData gSource "TargetsDestroyed") 1))
												(objSetData gSource "TargetsDestroyed" destroyed)
												(setq lost (objGetData gSource "WingmenDestroyed"))

												(if (eq (add escaped destroyed) 5)
													(block Nil
														(if	(or (eq destroyed 0) (gr lost destroyed))
															(block Nil
																(plyMessage gPlayer "Mission failed")
																(objSetData gSource "MissionStatus" "failure")
																(typIncGlobalData &scCSCTaskForce; "missionsFailed")
																)
															(block Nil
																(plyMessage gPlayer "Mission complete!")
																(objSetData gSource "MissionStatus" "success")
																(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
																)
															)

														(objUnregisterForEvents gSource gPlayerShip)
														(shpCancelOrders gPlayerShip)
														)
													)
												)
											)
										)

									(for i 0 5
										(if (eq aObjDestroyed (objGetObjRefData gSource (cat "Wingman" i)))
											(objIncData gSource "WingmenDestroyed")
											)
										)
									)

							(eq missionID "mission5a")
								(block Nil
									(for i 1 (objGetData gSource "TargetCount")
										(if (eq aObjDestroyed (objGetObjRefData gSource (cat "Target" i)))
											(block Nil
												(objIncData gSource "TargetsDestroyed")
												(objSetObjRefData gSource (cat "Target" i) Nil)

												; If we destroyed all targets, then we're done. Otherwise
												; we point the player at a new target

												(if (eq (objGetData gSource "TargetCount") (objGetData gSource "TargetsDestroyed"))
													(block Nil
														(plyMessage gPlayer "Mission complete!")
														(objSetData gSource "MissionStatus" "success")
														(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
														)
													(block (foundTarget)
														(for i 1 (objGetData gSource "TargetCount")
															(block (theTarget)
																(setq theTarget (objGetObjRefData gSource (cat "Target" i)))
																(if (and theTarget (not foundTarget))
																	(block Nil
																		(shpCancelOrders gPlayerShip)
																		(shpOrder gPlayerShip 'attack theTarget)
																		(setq foundTarget True)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
									)
							)
							
						; Call to base
						(typFireObjEvent &baCSCBase; gSource 'OnObjDestroyed)
						)

					; Even if mission is no longer in progress we track wingmen
					(block (missionID)
						(setq missionID (objGetData gSource "MissionID"))
						(switch
							(eq missionID "mission4b")
								(for i 0 5
									(if (eq aObjDestroyed (objGetObjRefData gSource (cat "Wingman" i)))
										(objIncData gSource "WingmenDestroyed")
										)
									)
							)
							
						; Call to base
						(typFireObjEvent &baCSCBase; gSource 'OnObjDestroyed)
						)
					)
			</OnObjDestroyed>

			<OnObjDocked>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (missionID)
						(setq missionID (objGetData gSource "MissionID"))
						(switch
							(and (eq missionID "mission1c") (eq aObjDocked gPlayerShip) (eq aDockTarget gSource))
								(if (objGetItems gPlayerShip "* +LamplighterDataROM;")
									(block Nil
										(objRemoveItem gPlayerShip (itmCreate &itLamplighterDataROM; 1))
										(objSetData gSource "MissionStatus" "success")
										(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
										(shpCancelOrders gPlayerShip)
										)
									)

							(and (eq missionID "mission2a") (eq aObjDocked (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission failed")
									(objSetData gSource "MissionStatus" "failure")
									(typIncGlobalData &scCSCTaskForce; "missionsFailed")
									(objUnregisterForEvents gSource aObjDocked)
									(shpCancelOrders gPlayerShip)
									)

							(and (eq missionID "mission2b") (eq aObjDocked (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission complete!")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(objUnregisterForEvents gSource aObjDocked)
									(shpCancelOrders gPlayerShip)
									)

							(and (eq missionID "mission3rescue") (eq aObjDocked (objGetObjRefData gSource "Ship")))
								(switch
									; Docked with base
									(eq aDockTarget (objGetObjRefData gSource "Target"))
										(block Nil
											(plyMessage gPlayer "Extraction commencing")

											; Add some encounters
											(sysAddEncounterEventAtDist (add 500 (random 0 100)) aObjDocked &etRogueAmbush2; (random 120 200))
											(sysAddEncounterEventAtDist (add 1000 (random 0 100)) aObjDocked &etRogueAmbush1; (random 120 200))
											)

									; Docked back with the carrier
									(eq aDockTarget gSource)
										(block Nil
											(plyMessage gPlayer "Mission complete!")
											(objSetData gSource "MissionStatus" "success")
											(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
											(objUnregisterForEvents gSource aObjDocked)
											(shpCancelOrders gPlayerShip)
											)
									)

							(and (eq missionID "mission3a") (eq aObjDocked (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Mission complete!")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(objUnregisterForEvents gSource aObjDocked)
									(shpCancelOrders gPlayerShip)
									)
							)
						)
					)
			</OnObjDocked>

			<OnObjEnteredGate>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (missionID)
						(setq missionID (objGetData gSource "MissionID"))
						(switch
							(eq missionID "mission1d")
								(block Nil
									(for i 0 (subtract (objGetData gSource "TargetCount") 1)
										(if (eq aObj (objGetObjRefData gSource (cat "Target" i)))
											(block Nil
												(plyMessage gPlayer "Mission failed")
												(objSetData gSource "MissionStatus" "failure")
												(typIncGlobalData &scCSCTaskForce; "missionsFailed")
												(sysCancelTimerEvent gSource "OnAresPatrolCheck")
												)
											)
										)
									)

							(eq missionID "mission3b")
								(block (shipClass)
									(setq shipClass (objGetType aObj))
									(switch
										(eq shipClass &scScarabFreighter;)
											(objIncData gSource "SuperfreightersEscaped")

										(eq shipClass &scEI100;)
											(objIncData gSource "FreightersEscaped")
										)

									; Unregister so that we don't get called again at OnObjDestroyed
									(if (not (eq aObj gPlayerShip))
										(objUnregisterForEvents gSource aObj)
										)

									; If all ships are accounted for, then the mission is
									; successful.

									(if (eq (add
												(add (objGetData gSource "SuperfreightersDestroyed") 
													(objGetData gSource "FreightersDestroyed"))
												(add (objGetData gSource "SuperfreightersEscaped")
													(objGetData gSource "FreightersEscaped"))
												)
											11)
										(block Nil
											(plyMessage gPlayer "Mission complete!")
											(objSetData gSource "MissionStatus" "success")
											(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
											(objUnregisterForEvents gSource gPlayerShip)
											(shpCancelOrders gPlayerShip)
											)
										)
									)

							(eq missionID "mission4b")
								(for i 0 4
									(if (eq aObj (objGetObjRefData gSource (cat "Target" i)))
										(block (escaped destroyed lost)
											(setq escaped (add (objGetData gSource "FreightersEscaped") 1))
											(objSetData gSource "FreightersEscaped" escaped)
											(setq destroyed (objGetData gSource "TargetsDestroyed"))
											(setq lost (objGetData gSource "WingmenDestroyed"))

											(objSetObjRefData gSource (cat "Target" i) Nil)
											(objUnregisterForEvents gSource aObj)

											(if (eq (add escaped destroyed) 5)
												(block Nil
													(if	(or (eq destroyed 0) (gr lost destroyed))
														(block Nil
															(plyMessage gPlayer "Mission failed")
															(objSetData gSource "MissionStatus" "failure")
															(typIncGlobalData &scCSCTaskForce; "missionsFailed")
															)
														(block Nil
															(plyMessage gPlayer "Mission complete!")
															(objSetData gSource "MissionStatus" "success")
															(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
															)
														)

													(objUnregisterForEvents gSource gPlayerShip)
													(shpCancelOrders gPlayerShip)
													)
												)
											)
										)
									)
							)

						; Call to base
						(typFireObjEvent &baCSCBase; gSource 'OnObjEnteredGate)
						)
						
					; Else
					(typFireObjEvent &baCSCBase; gSource 'OnObjEnteredGate)
					)
			</OnObjEnteredGate>

			<OnObjReconned>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (missionID)
						(setq missionID (objGetData gSource "MissionID"))
						(switch
							(and (eq missionID "mission1a") (eq aObj (objGetObjRefData gSource "Target")))
								(block Nil
									(plyMessage gPlayer "Recon completed")
									(objSetData gSource "MissionStatus" "success")
									(typIncGlobalData &scCSCTaskForce; "missionsCompleted")
									(objUnregisterForEvents gSource aObj)
									(shpCancelOrders gPlayerShip)
									)
							)
						)
					)
			</OnObjReconned>
			
			<OnAresPatrolCheck>
				(block (inScanRange)
					; Are Ares ships in scan range?
					(for i 0 (subtract (objGetData gSource "TargetCount") 1)
						(if (objGetObjRefData gSource (cat "Target" i))
							(if (leq (objGetDistance (objGetObjRefData gSource (cat "Target" i)) gSource) 12)
								(setq inScanRange True)
								)
							)
						)

					; Recall the ships
					(if inScanRange
						(block Nil
							(for i 0 (subtract (objGetData gSource "TargetCount") 1)
								(block (ship)
									(setq ship (objGetObjRefData gSource (cat "Target" i)))
									(if ship
										(block Nil
											(shpCancelOrders ship)
											(shpOrderGate ship)
											)
										)
									)
								)

							(sysCancelTimerEvent gSource "OnAresPatrolCheck")
							)
						)
					)
			</OnAresPatrolCheck>

			<OnSuicideRunCheck2B>
				(block (freighter dist)
					(setq freighter (objGetObjRefData gSource "Target"))
					(if freighter
						(setq dist (objGetDistance gSource freighter))
						)

					(switch
						(not freighter)
							(block Nil
								(sysCancelTimerEvent gSource "OnSuicideRunCheck2B")
								)

						(ls dist 3)
							(block (pos)
								(sysCancelTimerEvent gSource "OnSuicideRunCheck2B")

								; Mission failed
								(plyMessage gPlayer "Mission failed")
								(objSetData gSource "MissionStatus" "failure")
								(typIncGlobalData &scCSCTaskForce; "missionsFailed")
								(shpCancelOrders gPlayerShip)

								(setq pos (objGetPos freighter))
								(objDestroy freighter)
								(sysCreateWeaponFire &itM5Missile; Nil pos 0 0 gSource True)
								)

						(and (ls dist 15) (objGetData freighter "Armed"))
							(if (leq (random 1 100) 25)
								(objSendMessage 
									gPlayerShip
									gSource
									(random
										(list
											"Destroy the freighter!"
											"Blast the bloody freighter!"
											"Do you copy? Destroy the freighter now!"
											(plyComposeString gPlayer "%name%, destroy the freighter!")
											"The freighter is on a suicide run! Destroy it!"
											)
										)
									)
								)

						(and (ls dist 25) (not (objGetData freighter "Armed")))
							(block Nil
								; Freighter is on sucide run
								(objSetSovereign freighter &svRogueFleet;)
								(shpCancelOrders freighter)
								(shpOrderGoto freighter gSource)
								(shpOrderHold freighter)
								(objSetData freighter "Armed" True)

								; Set the CSC to wait (so that it doesn't blast the freighter on its own)
								; we assume that the CSC is caught by surprise
								(shpCancelOrders gSource)
								(shpOrderWait gSource 15)
								(shpOrderHold gSource)

								; Player should destroy freighter
								(objSendMessage gPlayerShip gSource "Freighter on suicide run!")
								(objSendMessage gPlayerShip gSource "Destroy the freighter!")
								(shpCancelOrders gPlayerShip)
								(shpOrderAttack gPlayerShip freighter)
								(objSetIdentified freighter)
								)
						)
					)
			</OnSuicideRunCheck2B>

			<OnTimerConvoyAppears3A>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (ship)
						(plyMessage gPlayer "Transport has arrived")

						; create the transport that will go back to the carrier
						(setq ship (sysCreateShip &scAurochs; (objGetObjRefData gSource "Target") &svCommonwealthFleet;))
						(shpOrderDock ship gSource)
						(shpOrderGate ship)

						; Remember this ship
						(objSetObjRefData gSource "Target" ship)

						; Add an encounter half-way
						(if (leq (random 1 100) 90)
							(sysAddEncounterEventAtDist 
								(random 500 1000)
								(if (eq (random 1 3) 1) gPlayerShip ship)
								(random
									(list
										&etAresAmbush1;
										&etAresAmbush2;
										&etAresAmbush2;
										&etRogueAmbush1;
										&etRogueAmbush1;
										&etRogueAmbush2;
										)
									)
								(random 120 200)
								)
							)

						; register so we know when the transport is destroyed
						(objRegisterForEvents gSource ship)

						; Point the player to the transport
						(shpCancelOrders gPlayerShip)
						(shpOrderEscort gPlayerShip ship)
						(objSetIdentified ship)
						)
					)
			</OnTimerConvoyAppears3A>

			<OnTimerConvoyAppears3B>
				(if (eq (objGetData gSource "MissionStatus") "inprogress")
					(block (freightersLeft dist totalTime timePortion)
						(plyMessage gPlayer "Convoy has arrived")

						; A superfreighter takes 8 ticks to move 1 light-second.

						(setq dist (objGetDistance (objGetObjRefData gSource "StartGate") (objGetObjRefData gSource "EndGate")))
						(setq totalTime (multiply dist 8))
						(setq timePortion (divide totalTime 12))

						; Create all the ships

						(setq freightersLeft 8)
						(for i 0 2
							(block (ship)
								(setq ship (sysCreateShip &scScarabFreighter; (objGetObjRefData gSource "StartGate") &svCommonwealth;))
								(shpOrderGate ship (objGetObjRefData gSource "EndGate"))
								(objSetData ship "noPiracyCheck" True)
								(objRegisterForEvents gSource ship)

								(if (eq i 0)
									(block Nil
										(shpOrderEscort gPlayerShip ship)
										(objSetIdentified ship)
										)
									)

								(for j 0 2
									(if (gr freightersLeft 0)
										(block Nil
											(setq escort (sysCreateShip &scEI100; (objGetObjRefData gSource "StartGate") &svCommonwealth;))
											(objSetData escort "noPiracyCheck" True)
											(shpOrderFollow escort ship)
											(objRegisterForEvents gSource escort)

											(setq freightersLeft (subtract freightersLeft 1))
											)
										)
									)

								; On timer, enemies attack ship
								(sysAddEncounterEventAtDist 
									(multiply timePortion (add (multiply i 4) (random 1 3)))
									(if (eq (random 1 3) 1) gPlayerShip ship)
									&etAresAmbush1; 
									(random 120 200)
									)
								)
							)

						; Keep track of how many ship were destroyed and how many escaped
						(objSetData gSource "SuperfreightersEscaped" 0)
						(objSetData gSource "FreightersEscaped" 0)
						(objSetData gSource "SuperfreightersDestroyed" 0)
						(objSetData gSource "FreightersDestroyed" 0)
						)
					)
			</OnTimerConvoyAppears3B>

			<OnTimerConvoyAppears4B>
				(block (variant startGate endGate)
					(setq variant (objGetData gSource "MissionVariant"))
					(setq startGate (objGetObjRefData gSource "StartGate"))
					(setq endGate (objGetObjRefData gSource "EndGate"))

					(switch
						(eq variant 'chasmEscort)
							(block Nil
								(for i 0 4
									(block (freighter escort)
										(setq freighter (sysCreateShip &scPolar; startGate &svAres;))
										(shpOrderGate freighter endGate)
										(objSetObjRefData gSource (cat "Target" i) freighter)
										(objRegisterForEvents gSource freighter)

										(setq escort (sysCreateShip &scChasm; startGate &svAres;))
										(shpOrderEscort escort freighter)
										)
									)
								)

						(eq variant 'advancedPolar)
							(block Nil
								(for i 0 4
									(block (freighter escort)
										(setq freighter (sysCreateShip &scPolar2; startGate &svAres;))
										(shpOrderGate freighter endGate)
										(objSetObjRefData gSource (cat "Target" i) freighter)
										(objRegisterForEvents gSource freighter)

										(setq escort (sysCreateShip &scSandstorm; startGate &svAres;))
										(shpOrderEscort escort freighter)

										(setq escort (sysCreateShip &scSandstorm; startGate &svAres;))
										(shpOrderEscort escort freighter)
										)
									)
								)

						(eq variant 'deimosEscort)
							(block Nil
								(for i 0 4
									(block (freighter escort)
										(setq freighter (sysCreateShip &scPolar; startGate &svAres;))
										(shpOrderGate freighter endGate)
										(objSetObjRefData gSource (cat "Target" i) freighter)
										(objRegisterForEvents gSource freighter)

										(if (or (eq i 0) (eq i 2))
											(block Nil
												(setq escort (sysCreateShip &scDeimos; startGate &svAres;))
												(shpOrderEscort escort freighter)
												)
											)
										)
									)
								)
						)

					; Point the player at the lead freighter
					(shpCancelOrders gPlayerShip)
					(shpOrderAttack gPlayerShip (objGetObjRefData gSource "Target0"))
					(objSetIdentified (objGetObjRefData gSource "Target0"))
					)
			</OnTimerConvoyAppears4B>

			<OnTimerFreighterAppears2B>
				(block (variant)
					(setq variant (objGetData gSource "MissionVariant"))
					(switch
						(eq variant 'aresAttack)
							(block (freighter)
								; Create the superfreighter
								(setq freighter (sysCreateShip &scScarabFreighter; (objGetObjRefData gSource "StartGate") &svCommonwealth;))
								(objSetData freighter "noPiracyCheck" True)
								(shpOrderDock freighter gSource)
								(shpOrderWait freighter (random 6 18))
								(shpOrderGate freighter)

								(plyMessage gPlayer "Freighter arriving")
								(objSetObjRefData gSource "Target" freighter)
								(objRegisterForEvents gSource freighter)

								; Create an encounter after a certain period of time
								(sysAddEncounterEventAtDist 
									(random 1000 1500) 
									freighter 
									&etAresAmbush4; 
									(random 120 200)
									)

								(if (leq (random 1 100) 90)
									(sysAddEncounterEventAtDist 
										(random 1000 1500) 
										gPlayerShip 
										&etAresAmbush2; 
										(random 120 200)
										)
									)

								(if (leq (random 1 100) 20)
									(sysAddEncounterEventAtDist 
										(random 1350 1900) 
										freighter 
										&etAresAmbush2; 
										(random 120 200)
										)
									)

								; Order escort
								(shpCancelOrders gPlayerShip)
								(shpOrderEscort gPlayerShip freighter)
								(objSetIdentified freighter)
								)

						(eq variant 'rogueAmbush)
							(block (freighter ambushPos mineLayer waitPos pathPos)
								; Create the superfreighter
								(setq freighter (sysCreateShip &scScarabFreighter; (objGetObjRefData gSource "StartGate") &svCommonwealth;))
								(objSetData freighter "noPiracyCheck" True)
								(shpOrderDock freighter gSource)
								(shpOrderWait freighter (random 6 18))
								(shpOrderGate freighter)

								(plyMessage gPlayer "Freighter arriving")
								(objSetObjRefData gSource "Target" freighter)
								(objRegisterForEvents gSource freighter)

								; Figure out where the ambush point is
								(setq pathPos (random 35 65))
								(setq ambushPos (sysGetNavPathPoint
									&svCommonwealth;
									(objGetObjRefData gSource "StartGate")
									gSource
									pathPos
									))

								; Create a rogue transport that will lay mines in the path
								(setq mineLayer (sysCreateShip &scRogueMineLayer; ambushPos &svRogueFleet;))
								(objSetData mineLayer "MinePos" ambushPos)

								; Create a bunch of mines in addition
								(for i 0 (random 10 20)
									(sysCreateWeaponFire &itStaticMine; mineLayer (sysVectorPolarOffset ambushPos (random 0 359) (random 1 5)) 0 0 Nil)
									)

								; Figure out where the centurions will wait
								(setq waitPos (sysGetNavPathPoint
									&svCommonwealth;
									(objGetObjRefData gSource "StartGate")
									gSource
									(add pathPos 15)
									))
								(setq waitPos (sysCreateMarker "" waitPos &svRogueFleet;))

								; Create some centurions that will attack once the freighter
								; goes through the mines
								(for i 0 (random 2 4)
									(block (theShip thePos)
										(setq thePos (sysVectorPolarOffset waitPos (random 0 359) (random 10 14)))
										(setq theShip (sysCreateShip &scCenturion; thePos &svRogueFleet;))
										(shpOrderPatrol theShip waitPos 7)
										)
									)

								; Order escort
								(shpCancelOrders gPlayerShip)
								(shpOrderEscort gPlayerShip freighter)
								(objSetIdentified freighter)
								)

						(eq variant 'suicideRun)
							(block Nil
								; Create the superfreighter
								(setq freighter (sysCreateShip &scScarabFreighter; (objGetObjRefData gSource "StartGate") &svCommonwealth;))
								(objSetData freighter "noPiracyCheck" True)
								(shpOrderDock freighter gSource)

								(plyMessage gPlayer "Freighter arriving")
								(objSetObjRefData gSource "Target" freighter)
								(objRegisterForEvents gSource freighter)

								; Create a recurring timer that will turn the freighter into a suicide bomber
								(sysAddObjRecurringTimerEvent 31 gSource "OnSuicideRunCheck2B")

								; Order escort
								(shpCancelOrders gPlayerShip)
								(shpOrderEscort gPlayerShip freighter)
								(objSetIdentified freighter)
								)
						)
					)
			</OnTimerFreighterAppears2B>
		</Events>

		<DockScreens>
			<Main>
				<InitialPane>
					(block (missionID missionStatus)
						(setq missionID (objGetData gSource "MissionID"))
						(setq missionStatus (objGetData gSource "MissionStatus"))
						
						; If we're in the middle of the fleetDelivery mission and we can't
						; dock with the target, then we fail
						(if (and (eq missionID 'mission1b)
								(eq missionStatus 'inprogress)
								(objIsAngryAt (objGetObjRefData gSource "Target") gPlayerShip))
							(block Nil
								(setq missionStatus "failure")
								(objSetData gSource "MissionStatus" missionStatus)
								(typIncGlobalData &scCSCTaskForce; "missionsFailed")
								(shpCancelOrders gPlayerShip)
								)
							)
						
						(switch
							(eq missionStatus "inprogress")
								"MissionInProgress"

							(eq missionStatus "failure")
								"MissionFailure"

							(eq missionStatus "success")
								"MissionSuccess"

							"Default"
							)
						)
				</InitialPane>

				<Panes>
					<Default>
						<OnPaneInit>
							(scrSetDesc gScreen (cat "You are in the docking bay of the " (objGetName gSource) "."))
						</OnPaneInit>

						<Actions>
							<Action name="Bridge" key="B">
								<Navigate screen="Bridge"/>
							</Action>

							<Action name="Flight Deck" key="F">
								<Navigate screen="FlightDeck"/>
							</Action>

							<Action name="Dock Services" key="D">
								(scrShowScreen gScreen "&dsFleetDockServices;")
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>

						</Actions>

					</Default>

					<MissionFailure>
						<OnPaneInit>
							(block (success failure)
								; Get the mission
								(setq gMission (objGetData gSource "Mission"))

								; Execute the post-mission code (which must set the description).
								(apply (eval (item gMission 4)) Nil)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block (success failure)
									(objSetData gSource "MissionStatus" Nil)

									(setq success (objGetData gPlayerShip "fleetTFSuccess"))
									(setq failure (add (objGetData gPlayerShip "fleetTFFailure") 1))
									(objSetData gPlayerShip "fleetTFFailure" failure)

									(scrShowPane gScreen "Default")
									)
							</Action>
						</Actions>
					</MissionFailure>

					<MissionInProgress
							desc="&quot;What is your major malfunction!? Get back out there and complete your mission!&quot;">

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<Exit/>
							</Action>
						</Actions>
					</MissionInProgress>

					<MissionSuccess>

						<OnPaneInit>
							(block (success failure)
								; Get the mission
								(setq gMission (objGetData gSource "Mission"))

								; Execute the post-mission code (which must set the description).
								(apply (eval (item gMission 3)) Nil)

								; Update mission success/failures
								(setq success (add (objGetData gPlayerShip "fleetTFSuccess") 1))
								(setq failure (objGetData gPlayerShip "fleetTFFailure"))
								(objSetData gPlayerShip "fleetTFSuccess" success)

								; Done with mission
								(objSetData gSource "MissionStatus" Nil)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									; Back to default (we do this so that dsFleetPromotion
									; returns to the proper place).
									(scrShowPane gScreen "Default")
									
									; If see if we got promoted
									(if (intFleetPromotion)
										(block Nil
											(setq gName Nil)
											(scrShowScreen gScreen "&dsFleetPromotion;")
											)
										)
									)
							</Action>
						</Actions>
					</MissionSuccess>

				</Panes>

			</Main>

			<Bridge
				name=			"Bridge"
				>

				<Panes>
					<Default>
						<OnPaneInit>
							(switch
								(eq (objGetData gSource "CSC") "america")
									(scrSetDesc gScreen "You talk to the captain of the CSC America. \"The Ares have been ruthless. When we lost the CSC Europa, the damn Martians deliberately targeted the emergency capsules. We taught them a lesson after that, though: we torched several of their communes.\"")

								(eq (objGetData gSource "CSC") "india")
									(scrSetDesc gScreen "You talk to the captain of the CSC India. \"If you ever get back to the Commonwealth, you've got to tell them to send more ships. We're getting killed out here and I don't even know if anyone back home cares.\"")

								(eq (objGetData gSource "CSC") "atlantica")
									(scrSetDesc gScreen "You talk to the captain of the CSC Atlantica. \"This war has been tough on the troops. We've had to start scavenging for vital supplies. I'm not surprised that the discipline in some units has deteriorated.\"")

								(eq (objGetData gSource "CSC") "asia")
									(scrSetDesc gScreen "You talk to the captain of the CSC Asia. \"When the Antarctica went rogue, Admiral Decker just about pissed acid. He was furious! He took it as a personal betrayal.\"")

								(eq (objGetData gSource "CSC") "pacifica")
									(scrSetDesc gScreen "You talk to the captain of the CSC Pacifica. \"You ever meet a Martian? Not the meek little Syrtians&#x97;I mean the Ares clones. They all have this smug look of superiority that cranks me up. They look better in the crosshairs of TeV 9, that's for sure!\"")

								(scrSetDesc gScreen "The captain welcomes you aboard.")
								)
						</OnPaneInit>

						<Actions>
							<Action name="Leave" cancel="1" key="L">
								<Navigate screen="Main"/>
							</Action>
						</Actions>
					</Default>
				</Panes>

			</Bridge>

			<FlightDeck
				name=			"Flight Deck"
				>

				<Panes>
					<Default>
						<OnPaneInit>
							(block (behavior)
								(setq behavior (objGetData gSource "behavior"))
								(setq gLevel (objGetData gPlayerShip "fleetLevel"))
								
								(switch
									(eq behavior 'moving)
										(scrSetDesc gScreen
											"You are on the flight deck of " (objGetName gSource 0x04) ". "
											"The ship is on maneuvers and the XO is giving orders to the navigator and the sensor chief."
											)
											
									(eq gLevel 1)
										(scrSetDesc gScreen
											"The flight deck of " (objGetName gSource 0x04) 
											" hums with the activity of men and women working at terminals and holocharts. "
											"The XO is giving orders to a squadron out on a mission."
											)

									(scrSetDesc gScreen
										"You are on the flight deck of " (objGetName gSource 0x04) ". "
										"Men and women work at terminals planning missions and communicating with squadrons on patrol. "
										"The XO is near a holochart, listening to a report."
										)
									)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Talk to Executive Officer" key="X">
								(block (behavior)
									(setq behavior (objGetData gSource "behavior"))
									(switch
										(eq behavior 'moving)
											(scrShowPane gScreen "ShipMoving")
										
										(block Nil
											(setq gPrevScreen "FlightDeck")
											(setq gPrevPane "Default")
											(setq gMissionTitle "Flight Deck")

											; Get the list of missions for this level. If the player is at level 3
											; and the scientist rescue mission has not been completed, then do that mission;
											; otherwise, do a mission appropriate for the level

											(if (and (geq (objGetData gPlayerShip "fleetLevel") 3)
													(not (typGetGlobalData &scCSCTerra; "p262scientists"))
													)
												(setq gMissionListName "MissionRescueScientists")
												(setq gMissionListName (cat "Missions" (objGetData gPlayerShip "fleetLevel")))
												)

											; Set some other parameters for the mission screen

											(if (gr (objGetData gPlayerShip "fleetTFSuccess") 0)
												(setq gMissionNoneText "\"Sorry, there are no missions available for you.\"")
												(setq gMissionNoneText "\"Sorry, there are no missions available for you.\"")
												)
											(setq gMissionAcceptText (plyComposeString gPlayer "\"Good luck, %name%!\""))
											(setq gMissionDeclineText "\"Get the hell out of here then!\"")
											(scrShowScreen gScreen "&dsMission;")
											)
										)
									)
							</Action>

							<Action name="Leave" cancel="1" key="L">
								<Navigate screen="Main"/>
							</Action>
						</Actions>
					</Default>
					
					<ShipMoving>
						<OnPaneInit>
							(scrSetDesc gScreen
								"The XO is too busy to talk to you right now. He waves you away while he concentrates on the maneuvers."
								)
						</OnPaneInit>
						
						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								(scrShowScreen gScreen "Main")
							</Action>
						</Actions>
					</ShipMoving>
				</Panes>
			</FlightDeck>

		</DockScreens>

		<DockingPorts>
			<Port x="0"		y="70" />
			<Port x="0"		y="-70" />
			<Port x="50"	y="50" />
			<Port x="50"	y="-50" />
			<Port x="70"	y="0" />
			<Port x="-70"	y="0" />
			<Port x="-50"	y="50" />
			<Port x="-50"	y="-50" />
		</DockingPorts>

	</ShipClass>

	<ShipClass UNID="&scCSCAntarctica;"
			manufacturer=		""
			class=				"Commonwealth Star Carrier"
			type=				""
			score=				"2855"

			mass=				"50000"
			cargoSpace=			"5000"
			thrust=				"10000"
			maneuver=			"24"
			maxSpeed=			"2"

			cyberDefenseLevel=	"6"
			explosionType=		"&vtThermoExplosion4;"
			leavesWreck=		"100"

			attributes=			"commonwealth,commonFleet,commonMilitary,cscAntarctica,uncharted"

			dockScreen=			"Main"
			defaultBackgroundID="&rsCSCBkgnd;"
			>

		<Armor>
			<ArmorSection start="350" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="340" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="330" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="320" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="310" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="300" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="290" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="280" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="270" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="260" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="250" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="240" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="230" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="220" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="210" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="200" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="190" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="180" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="170" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="160" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="150" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="140" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="130" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="120" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="110" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="100" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="90"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="80"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="70"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="60"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="50"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="40"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="30"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="20"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="10"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="0"   span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="270" maxFireArc="90"  posAngle="0" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" minFireArc="90"  maxFireArc="270" posAngle="180" posRadius="64"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="90" posRadius="44"/>
			<Device deviceID="&itTeV9Blaster;" secondaryWeapon="true" omnidirectional="true" posAngle="270" posRadius="44"/>
			<Device deviceID="&itLAM;" omnidirectional="true" posAngle="180" posRadius="50"/>		
			<Device deviceID="&itNAMIHeavyLauncher;" omnidirectional="true"/>
			
			<Device deviceID="&itMissileDefense;" omnidirectional="true" />
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
		</Devices>

		<Items>
			<Item				count="100"		item="&itM2Missile;"/>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
		</Items>

		<Image imageID="&rsLargeShips2;" imageX="0" imageY="0" imageWidth="256" imageHeight="256" />

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"95"
			perception=			"20"
			/>

		<Events>
			<OnAttackedByPlayer>
				(block Nil
					; Message
					(switch
						(or (eq (objGetGlobalData gSource "status") "friend")
								(eq (objGetGlobalData gSource "status") "underAttack"))
							(objSendMessage gPlayerShip gSource "We will never forget your betrayal!")

						(objSendMessage gPlayerShip gSource "So be it!")
						)

					; We are now enemies of the player (and vice versa)
					(sovSetDisposition &svCSCAntarctica; &svPlayer; 0)
					(sovSetDisposition &svPlayer; &svCSCAntarctica; 0)
					(objSetGlobalData gSource "status" "enemy")

					; If we're currently holding, escape
					(if (or (eq (shpGetOrder gSource) 'hold)
							(eq (objGetData gSource "behavior") 'moving)
							)
						(block Nil
							(shpCancelOrders gSource)
							(shpOrderGate gSource (objGetObjRefData gSource "dest"))
							(objSetData gSource "behavior" 'leaving)
							)
						)
					)
			</OnAttackedByPlayer>

			<OnCreate>
				(block (dest)
					; Look for the Outbound stargate (since we want to get back to St. K's)
					(setq dest (item (SysFindObject gSource "G:Inbound;") 0))
					(objSetObjRefData gSource "dest" dest)

					; Are we in a good spot? If not, then we give orders to move
					(fltOrderCheckPosition gSource)
					
					; Every once in a while we send out a patrol
					(sysAddObjRecurringTimerEvent 450 gSource "OnLaunchPatrol")
					)
			</OnCreate>

			<OnDestroy>
				; If we're destroyed, set the status (if we entered a gate, status will already be
				; set, so don't set it again).

				(switch
					(eq (typGetGlobalData &scCSCTerra; "antarctica") "escaped")
						Nil

					(and gPlayerShip (eq aOrderGiver gPlayerShip))
						(if (objGetGlobalData gSource "playerRewarded")
							(typSetGlobalData &scCSCTerra; "antarctica" "betrayed")
							(typSetGlobalData &scCSCTerra; "antarctica" "destroyedByPlayer")
							)

					(typSetGlobalData &scCSCTerra; "antarctica" "destroyed")
					)
			</OnDestroy>

			<OnEnteredGate>
				; If we've entered a gate, set the status
				(typSetGlobalData &scCSCTerra; "antarctica" "escaped")
			</OnEnteredGate>

			<OnObjDestroyed>
				(block Nil
					(objIncData gSource "attackersLeft" -1)

					; If the player destroyed one, then keep track
					(if (and gPlayerShip (eq aOrderGiver gPlayerShip))
						(block Nil
							(objIncData gSource "playerHelp" 1)
							(sovSetDisposition &svFleetAssassins; &svPlayer; 0)
							(sovSetDisposition &svPlayer; &svFleetAssassins; 0)
							)
						)

					(if (and (eq (objGetData gSource "attackersLeft") 0)
							(eq (objGetGlobalData gSource "status") "underAttack"))
						(block Nil
							(objSetGlobalData gSource "status" "friend")

							; Hold for a while until the player can dock with us again
							(shpCancelOrders gSource)
							(shpOrderHold gSource 120)
							(shpOrderGate gSource (objGetObjRefData gSource "dest"))
							(objSetData gSource "behavior" 'leaving)
							)
						)
					)
			</OnObjDestroyed>

			<OnOrdersCompleted>
				(block Nil
					(shpOrder gSource 'hold)
					(objSetData gSource "behavior" Nil)
					)
			</OnOrdersCompleted>

			<OnPlayerLeftSystem>
				; If we've destroyed the Aquilas and we're on our way to St. Kats, then
				; set the global variable here (to trigger other missions, e.g., Ares in Heretic)
				
				(block Nil
					(if (and (eq (objGetData gSource "behavior") 'leaving)
							(eq (objGetData gSource "attackersLeft") 0)
							(or (not (eq (objGetGlobalData gSource "status") "friend"))
								(objGetGlobalData gSource "playerRewarded")
								)
							)
						(block Nil
							(typSetGlobalData &scCSCTerra; "antarctica" "escaped")
							
							; Destroy the Antarctica (because it has left)
							(objDestroy gSource (list Nil 'enteredStargate Nil))
							)
						)
						
					Nil
					)
			</OnPlayerLeftSystem>

			<OnLaunchPatrol>
				(switch
					; If there is a patrol out there, recall it
					(and (objGetObjRefData gSource "patrolLead")
							(eq (random 1 5) 1))
						(block (leadShip)
							(setq leadShip (objGetObjRefData gSource "patrolLead"))
							(shpCancelOrders leadShip)
							(shpOrderGate leadShip gSource)
							(objSetObjRefData gSource "patrolLead" Nil)
							)

					; Launch patrol
					(and (not (objGetGlobalData gSource "status"))
							(not (objGetObjRefData gSource "patrolLead"))
							(eq (random 1 3) 1))
						(block (leadShip)
							; Create the lead ship
							(setq leadShip (sysCreateShip &scCenturion; gSource (objGetSovereign gSource)))

							; Create wingmen
							(for i 0 3
								(block (ship)
									(setq ship (sysCreateShip &scCenturion; gSource (objGetSovereign gSource) "fleet"))
									(shpOrderEscort ship leadShip i)
									)
								)

							; Patrol
							(shpOrderPatrol leadShip gSource 100)
							(objSetObjRefData gSource "patrolLead" leadShip)
							)
					)
			</OnLaunchPatrol>
		</Events>

		<DockScreens>
			<Main
				name=			"=(objGetName gSource)"
				>

				<OnInit>
					(block Nil
						(setq gPrevScreen "Main")

						; Allow dock?

						(switch
							; If the ship is radioactive then we need to decontaminate
							(shpIsRadioactive gPlayerShip)
								(scrShowScreen gScreen "&dsFleetDecon;")
								
							; If we're moving, then nothing to do
							(eq (objGetData gSource "behavior") 'moving)
								(scrShowScreen gScreen "ShipMoving")

							; If the player has never encountered the ship before, then take her
							; to see the captain
							(not (objGetGlobalData gSource "status"))
								(scrShowScreen gScreen "Introduction")

							; If player has declined to help, then kick her off the ship
							(eq (objGetGlobalData gSource "status") "neutral")
								(if (ls (objGetData gPlayerShip "fleetLevel") 5)
									(scrShowScreen gScreen "Refuse")
									(block Nil
										(objSetGlobalData gSource "status" Nil)
										(scrShowScreen gScreen "Introduction")
										)
									)

							; If the player has helped the Antarctica escape, but has not yet
							; been rewarded, celebrate the victory
							(and (eq (objGetGlobalData gSource "status") "friend")
									(not (objGetGlobalData gSource "playerRewarded"))
									)
								(scrShowScreen gScreen "Celebrate")
							)
						)
				</OnInit>

				<Panes>
					<Default>
						<Initialize>
							(scrSetDesc gScreen (cat "You are in the docking bay of the " (objGetName gSource) "."))
						</Initialize>

						<Actions>
							<Action name="Bridge" key="B">
								(scrShowScreen gScreen "Bridge")
							</Action>

							<Action name="Dock Services" key="D">
								(block Nil
									(setq gPrevScreen2 "Main")
									(scrShowScreen gScreen "&dsFleetDockServices;")
									)
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>

						</Actions>

					</Default>
				</Panes>

			</Main>

			<Introduction
				name=			"=(objGetName gSource)"
				>

				<Panes>
					<Default>
						<Initialize>
							(scrSetDesc gScreen 
								"As you enter the docking bay you are surrounded by heavily armed soldiers. "
								"A Fleet officer approaches you and motions to the troops:\n\n"
								"\"Take %him% to the captain.\"\n\n"
								"Across the landing bay you see the insignia of the CSC Antarctica."
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Captain")
							</Action>
						</Actions>
					</Default>

					<Captain>
						<Initialize>
							(scrSetDesc gScreen
								"You enter the captain's chambers and stand before a striking woman with silver hair and dark eyes. "
								"She looks up from a holochart as you enter and frowns:\n\n"
								"\"Has Admiral Decker sent you to kill us?\""
								)
						</Initialize>

						<Actions>
							<Action name="&quot;Yes&#x97;He says you betrayed the Fleet.&quot;" default="1" key="Y">
								(block Nil
									(objSetData gSource "playerTalkedToDecker" True)
									(scrShowPane gScreen "Explanation1")
									)
							</Action>

							<Action name="&quot;I have no idea what you're talking about.&quot;" cancel="1" key="N">
								(if (ls (objGetData gPlayerShip "fleetLevel") 5)
									(scrShowPane gScreen "Dismiss")
									(scrShowPane gScreen "Explanation1")
									)
							</Action>
						</Actions>
					</Captain>

					<Explanation1>
						<Initialize>
							(block (desc)
								(if (objGetData gSource "playerTalkedToDecker")
									(setq desc "She looks away for a moment and then dismisses the Fleet officer and the troops. She continues after they're gone:\n\n\"I did betray the Fleet. And I'll never be forgiven&#x97;I know that. You of all people must know what it's like to betray those you love for a greater calling.\"")
									(setq desc "She dismisses the troops. Then:\n\n\"You're a Fleet officer! Are you trying to tell me that you've never heard of the Antarctica? You're either here to help or to kill us all! Maybe it doesn't matter either way...\"")
									)

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Explanation2")
							</Action>
						</Actions>
					</Explanation1>

					<Explanation2>
						<Initialize>
							(scrSetDesc gScreen
								"\"Three months ago we received a coded signal. It was from the Ares. Or at least from some faction of the Ares. They offered to negotiate a truce with us.\n\n\"Decker refused&#x97;he thought it was a trap. But I wasn't so sure.\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Explanation3")
							</Action>
						</Actions>
					</Explanation2>

					<Explanation3>
						<Initialize>
							(scrSetDesc gScreen
								"She pauses for a long while. Then she continues:\n\n\"After we left the Fleet, I met the Ares here in the Dantalion system. I have a message to take back with me to St. Katharine's. Unless, of course, you want to try to stop us.\""
								)
						</Initialize>

						<Actions>
							<Action name="&quot;I won't try to stop you.&quot;" default="1" key="I">
								(block (start)
									(objSetGlobalData gSource "status" "underAttack")

									; Send a battlefleet to attack the Antarctica

									(setq start (SysFindObject gSource "GN -uncharted;"))
									(objSetData gSource "attackersLeft" 6)
									(for i 1 6
										(block (attacker)
											(setq attacker (sysCreateShip &scAquilaCruiser; start &svFleetAssassins;))
											(shpOrderAttack attacker gSource)
											(objSetObjRefData gSource (cat "attacker" i) attacker)
											(objRegisterForEvents gSource attacker)
											)
										)

									; Done

									(scrShowPane gScreen "Accept")
									)
							</Action>

							<Action name="&quot;I have my orders.&quot;" cancel="1" key="O">
								(scrShowPane gScreen "Reject")
							</Action>
						</Actions>
					</Explanation3>

					<Accept>
						<Initialize>
							(scrSetDesc gScreen
								"The captain looks at you intently and you meet her gaze. She smiles warmly and gets up:\n\n"
								"\"Good. I'm glad. There's enough madness going on right now.\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "UnderAttack1")
							</Action>
						</Actions>
					</Accept>

					<UnderAttack1>
						<Initialize>
							(scrSetDesc gScreen
								"Just as you're about to say something, the Fleet officer barges in:\n\n\"Forgive me, captain, we've picked up new sensor readings. Captain, they've found us!\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "UnderAttack2")
							</Action>
						</Actions>
					</UnderAttack1>

					<UnderAttack2>
						<Initialize>
							(scrSetDesc gScreen
								"Calmly, the captain turns to the Fleet officer:\n\n\"Go to condition 1 and set a direct course for the stargate.\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "UnderAttack3")
							</Action>
						</Actions>
					</UnderAttack2>

					<UnderAttack3>
						<Initialize>
							(scrSetDesc gScreen
								"Then, putting a hand on your shoulder, the captain says:\n\n\"I know this isn't your fight, but we can use all the help we can get.\"\n\nAnd with that, the captain heads for the bridge, leaving you alone with your thoughts."
								)
						</Initialize>

						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								(block Nil
									; CSC heads for gate

									(shpCancelOrders gSource)
									(shpOrderGate gSource (objGetObjRefData gSource "dest"))
									(objSetData gSource "behavior" 'leaving)

									(scrExitDock gScreen)
									)
							</Action>
						</Actions>
					</UnderAttack3>

					<Reject>
						<Initialize>
							(scrSetDesc gScreen "A look of disgust crosses the captain's face. She calls the troopers back into her chambers:\n\n\"Get %him% out of my sight!\"")
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(objSetGlobalData gSource "status" "enemy")
									(sovSetDisposition &svCSCAntarctica; &svPlayer; 0)
									(sovSetDisposition &svPlayer; &svCSCAntarctica; 0)
									(shpCancelOrders gSource)
									(shpOrderHold gSource (random 15 60))
									(shpOrderGate gSource (objGetObjRefData gSource "dest"))
									(objSetData gSource "behavior" 'leaving)
									(scrExitDock gScreen)
									)
							</Action>
						</Actions>
					</Reject>

					<Dismiss>
						<Initialize>
							(scrSetDesc gScreen "The captain looks at you intently and you try to avoid her gaze. She turns to the Fleet officer:\n\n\"Get %him% out of here.\"")
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(objSetGlobalData gSource "status" "neutral")
									(shpCancelOrders gSource)
									(shpOrderHold gSource (random 15 60))
									(shpOrderGate gSource (objGetObjRefData gSource "dest"))
									(objSetData gSource "behavior" 'leaving)
									(scrExitDock gScreen)
									)
							</Action>
						</Actions>
					</Dismiss>
				</Panes>

			</Introduction>

			<Celebrate
				name=			"=(objGetName gSource)"
				>
				<Panes>
					<Default>
						<Initialize>
							(scrSetDesc gScreen "Captain Helios and her officers meet you at the dock:\n\n\"We did it! When we get back to St. Katharine's we will bring the Ares peace plan to the Commonwealth!\"")
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Reward")
							</Action>
						</Actions>
					</Default>

					<Reward>
						<Initialize>
							(scrSetDesc gScreen "\"I know that your path lies elsewhere and that your journey is just beginning. Thank you for helping us in our need. In return, I want you to have this. It may help you someday.\"\n\nAnd with that, Captain Helios places a small glowing gem in your hand.")
						</Initialize>

						<Actions>
							<Action name="&quot;Thank you!&quot;" default="1" cancel="1" key="T">
								(block Nil
									(objAddItem gPlayerShip (itmCreate &itGemOfSacrifice; 1))
									(objSetGlobalData gSource "playerRewarded" True)
									(scrShowPane gScreen "Goodbye")
									)
							</Action>
						</Actions>
					</Reward>

					<Goodbye>
						<Initialize>
							(scrSetDesc gScreen "\"Goodbye! May we meet again some day.\"")
						</Initialize>

						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								(scrExitDock gScreen)
							</Action>
						</Actions>
					</Goodbye>
				</Panes>
			</Celebrate>

			<Bridge
				name=			"Bridge"
				>

				<Panes>
					<Default>
						<Initialize>
							(switch
								(eq (objGetGlobalData gSource "status") "underAttack")
									(scrSetDesc gScreen "The captain is on the bridge directing the battle. She looks at you only briefly.")

								(scrSetDesc gScreen 
									"The captain of the CSC Antarctica welcomes you aboard:\n\n"
									"\"%Name%! It's good to see you again. We're heading back to St. Katharine's. "
									"I know your journey is just beginning, but maybe we'll see each other there someday.\""
									)
								)
						</Initialize>

						<Actions>
							<Action name="Leave" default="1" cancel="1" key="L">
								<Navigate screen="Main"/>
							</Action>
						</Actions>
					</Default>
				</Panes>

			</Bridge>

			<Refuse
				name=			"=(objGetName gSource)"
				>

				<Panes>
					<Default
						desc=	"As you exit the docking ramp, troopers train their weapons on you: &quot;The captain wants you off her ship.&quot;">

						<Actions>
							<Action name="Undock" default="1" cancel="1" key="U">
								(scrExitDock gScreen)
							</Action>
						</Actions>
					</Default>
				</Panes>
			</Refuse>
			
			<ShipMoving
				name=			"=(objGetName gSource)"
				>
				
				<Panes>
					<Default>
						<Initialize>
							(scrSetDesc gScreen 
								"As you exit the docking ramp you are met by a Fleet lieutenant:\n\n"
								"\"Sorry, %sir%, we're on maneuvers and the captain has ordered that we keep the landing deck clear. "
								"Follow us to our destination and you can dock with us then.\""
								)
						</Initialize>
						
						<Actions>
							<Action name="Undock" default="1" cancel="1" key="U">
								(scrExitDock gScreen)
							</Action>
						</Actions>
					</Default>
				</Panes>
			</ShipMoving>

		</DockScreens>

		<DockingPorts>
			<Port x="0"		y="70" />
			<Port x="0"		y="-70" />
			<Port x="50"	y="50" />
			<Port x="50"	y="-50" />
			<Port x="70"	y="0" />
			<Port x="-70"	y="0" />
			<Port x="-50"	y="50" />
			<Port x="-50"	y="-50" />
		</DockingPorts>

	</ShipClass>

	<!-- CSC Terra

	EXTRA DATA

	behavior:			Ship's current behavior
							Nil					= holding position and available for missions
							'moving				= CSC is moving to a new position
							
	MissionStatus:	Status of mission to destroy CSC Antarctica
						Nil = mission not assigned
						"assigned" = mission assigned, not yet complete
						"complete" = mission complete (one way or the other)
						"testing" = player has Lamplighter
	MissionTime:	Tick on which mission was assigned.

	GLOBAL DATA

	antarctica:		Status of CSC Antarctica
						Nil = Unknown state
						"destroyedByPlayer" = Player destroyed antarctica
						"destroyed" = Destroyed by others
						"escaped" = Escaped Dantalion system (towards St. Katharines)
						"betrayed" = Destroyed by player after she promised otherwise

	p262scientists:	Status of scientists who defected to rogue fleet:
						Nil = Mission not started
						"rescued" = Scientists have been rescued
						"failed" = Mission to rescue scientists has failed.

	p262prototype:	Status of equipment in CSC Europa
						Nil = Mission not started
						"recovered" = Equipment recovered

	p262test:		Who will test the weapon?
						Nil = Unknown
						"player" = Decker wants player to test weapon
						"fleetCaptain" = Decker wants a Fleet Captain to test weapon
						"notPlayer" = Decker does not want the player to test weapon
						"installed" = Installed on player ship


	<ShipClass UNID="&scCSCTerra;"
			manufacturer=		""
			class=				"Commonwealth Star Carrier"
			type=				""
			score=				"3655"

			mass=				"50000"
			cargoSpace=			"5000"
			thrust=				"10000"
			maneuver=			"24"
			maxSpeed=			"2"

			cyberDefenseLevel=	"6"
			explosionType=		"&vtThermoExplosion4;"
			leavesWreck=		"100"

			attributes=			"commonwealth,commonFleet,commonMilitary"

			dockScreen=			"Main"
			defaultBackgroundID="&rsCSCBkgnd;"
			
			inherit=			"&baCSCBase;"
			>

		<Armor>
			<ArmorSection start="350" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="340" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="330" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="320" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="310" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="300" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="290" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="280" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="270" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="260" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="250" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="240" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="230" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="220" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="210" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="200" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="190" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="180" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="170" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="160" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="150" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="140" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="130" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="120" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />

			<ArmorSection start="110" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="100" span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="90"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="80"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="70"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="60"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="50"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="40"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="30"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="20"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="10"  span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
			<ArmorSection start="0"   span="10" armorID="&itP1000HexphaseArmor;" areaSet="7,13" />
		</Armor>

		<Devices>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" minFireArc="270" maxFireArc="90"  posAngle="0" posRadius="64"/>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" minFireArc="90"  maxFireArc="270" posAngle="180" posRadius="64"/>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" omnidirectional="true" posAngle="90" posRadius="44"/>
			<Device deviceID="&itStarCannon;" secondaryWeapon="true" omnidirectional="true" posAngle="270" posRadius="44"/>
			<Device deviceID="&itLAM;" omnidirectional="true" posAngle="180" posRadius="50"/>			
			<Device deviceID="&itNAMIHeavyLauncher;" omnidirectional="true"/>

			<Device deviceID="&itMissileDefense;" omnidirectional="true" />
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
			<Device deviceID="&vtDamageControlParty;"/>
		</Devices>

		<Items>
			<Item				count="300"		item="&itM2Missile;"/>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
		</Items>

		<Image imageID="&rsLargeShips2;" imageX="0" imageY="0" imageWidth="256" imageHeight="256" />

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"95"
			perception=			"20"
			/>

		<Events>
			<GetGlobalAchievements>
				(block (theList rank p262rescue p262prototype antarcticaStatus)
					(setq rank (objGetData gPlayerShip "fleetLevel"))

					; Rank
					
					(if (gr rank 0)
						(setq theList (list
							(list
								"Commonwealth Fleet rank"
								(switch
									(eq rank 1) "Civilian"
									(eq rank 2) "Privateer"
									(eq rank 3) "Master sergeant"
									(eq rank 4) "Fleet lieutenant"
									(eq rank 5) "Fleet commander"
									(eq rank 6) "Fleet captain"
									(cat "ERROR: Fleet rank: " rank)
									) 
								)
								
							(list
								"CSC missions"
								(intMissionAchievementString (typGetGlobalData &scCSCTaskForce; "missionsCompleted") (typGetGlobalData &scCSCTaskForce; "missionsFailed"))
								"missions &amp; activities"
								)
							))
						)
						
					; Project262 rescue
					
					(setq p262rescue (typGetGlobalData &scCSCTerra; "p262scientists"))
					(if p262rescue
						(setq theList (append theList (list
							(list
								(switch
									(eq p262rescue 'rescued) "Rescued Project Lamplighter scientists"
									(eq p262rescue 'failed) "Failed to rescue Project Lamplighter scientists"
									(cat "ERROR: p262scientists: " p262scientists)
									)
								Nil
								"achievements &amp; regrets"
								)
							)))
						)
						
					; Project262 prototype
					
					(setq p262prototype (typGetGlobalData &scCSCTerra; "p262protoype"))
					(if p262prototype
						(setq theList (append theList (list
							(list
								(switch
									(eq p262prototype 'recovered) "Recovered Project Lamplighter prototype"
									(cat "ERROR: p262prototype: " p262prototype)
									)
								Nil
								"achievements &amp; regrets"
								)
							)))
						)
						
					; Lamplighter
					
					(if (eq (typGetGlobalData &scCSCTerra; "p262test") 'installed)
						(setq theList (append theList (list
							(list "Acquired Lamplighter archcannon" Nil "achievements &amp; regrets")
							)))
						)
						
					; Antarctica
					
					(setq antarcticaStatus (typGetGlobalData &scCSCTerra; "antarctica"))
					(if antarcticaStatus
						(setq theList (append theList (list
							(list
								(switch
									(eq antarcticaStatus 'escaped) "Defended the CSC Antarctica"
									(eq antarcticaStatus 'destroyed) "Failed to defend the CSC Antarctica"
									(eq antarcticaStatus 'destroyedByPlayer) "Destroyed the CSC Antarctica"
									(eq antarcticaStatus 'betrayed) "Betrayed the CSC Antarctica"
									(cat "ERROR: antarctica: " antarcticaStatus)
									)
								Nil
								"achievements &amp; regrets"
								)
							)))
						)

					theList
					)
			</GetGlobalAchievements>

			<OnCreate>
				(block (enemyObj)
					; Are we in a good spot? If not, then we give orders to move
					(fltOrderCheckPosition gSource)
					)
			</OnCreate>
			
			<OnDestroy>
				(block Nil
					(intCommonwealthOnDestroy)

					; Military will execute the player
					(if (and gPlayerShip (eq aOrderGiver gPlayerShip))
						(intFleetCrime 3 (cat "the destruction of " (objGetName gSource 4)))
						)
					)
			</OnDestroy>
			
			<OnOrdersCompleted>
				(block (behavior)
					(setq behavior (objGetData gSource "behavior"))
					(switch
						(eq behavior 'moving)
							(block Nil
								(shpOrder gSource 'hold)
								(objSetData gSource "behavior" Nil)
								)

						(block Nil
							(shpOrder gSource 'hold)
							(objSetData gSource "behavior" Nil)
							)
						)
					)
			</OnOrdersCompleted>
		</Events>

		<DockScreens>
			<Main
				name=			"=(objGetName gSource)"
				>

				<OnInit>
					(intFleetOnInit "Main")
				</OnInit>

				<Panes>
					<Default>
						<Initialize>
							(scrSetDesc gScreen (cat "You are in the docking bay of the " (objGetName gSource) "."))
						</Initialize>

						<Actions>
							<Action name="Bridge" key="B">
								(block (antarcticaStatus missionStatus behavior)
									(setq behavior (objGetData gSource "behavior"))
									(setq antarcticaStatus (objGetGlobalData gSource "antarctica"))
									(setq missionStatus (objGetData gSource "MissionStatus"))

									(switch
										; If not a Fleet Commander, cannot enter
										(ls (objGetData gPlayerShip "fleetLevel") 5)
											(scrShowPane gScreen "AccessDenied")
											
										; If on maneuvers, then too busy
										(eq behavior 'moving)
											(scrShowPane gScreen "ShipMoving")

										; If the Lamplighter prototype has not been returned
										; to Point Juno, then the Admiral has more important
										; things to worry about.
										(not (eq (objGetGlobalData gSource "p262prototype") "recovered"))
											(scrShowPane gScreen "PrototypeNotFound")
											
										; No mission if the player has met the Antarctica
										(and (not missionStatus)
												(not antarcticaStatus)
												(or (eq (typGetGlobalData &scCSCAntarctica; "status") "underAttack")
													(eq (typGetGlobalData &scCSCAntarctica; "status") "friend")
													)
												)
											(scrShowPane gScreen "PlayerMetAntarctica")

										; Antarctica mission
										(not missionStatus)
											(if antarcticaStatus
												(scrShowPane gScreen "AntarcticaDispatched")
												(scrShowPane gScreen "AssignMission")
												)

										(eq missionStatus "assigned")
											(if antarcticaStatus
												(scrShowPane gScreen "AntarcticaDispatched")
												(scrShowPane gScreen "RecapMission")
												)

										(eq missionStatus "complete")
											(scrShowPane gScreen "MissionComplete")

										(eq missionStatus "testing")
											(scrShowPane gScreen "MissionTesting")
										)
									)
							</Action>

							<Action name="Dock Services" key="D">
								(switch
									(and 
										(eq (objGetData gSource "MissionStatus") "complete")
										(or 
											(eq (objGetGlobalData gSource "p262test") "player")
											(and
												(eq (objGetGlobalData gSource "p262test") "fleetCaptain")
												(geq (objGetData gPlayerShip "fleetLevel") 6)
												)
											)
										)
										(scrShowPane gScreen "AssignTest")

									(eq (objGetData gSource "MissionStatus") "testing")
										(scrShowPane gScreen "TestingStatus")

									(block Nil
										(setq gPrevScreen2 "Main")
										(scrShowScreen gScreen "&dsFleetDockServices;")
										)
									)
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>

						</Actions>

					</Default>

					<AssignMission>
						<Initialize>
							(scrSetDesc gScreen (cat "As you enter the bridge, you see Admiral Conrad Decker talking with his XO. "
									"A guard approaches you and says,\n\n\"The admiral would like you to wait for him at his quarters.\"")
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AssignMission2")
							</Action>
						</Actions>
					</AssignMission>

					<AssignMission2>
						<Initialize>
							(scrSetDesc gScreen (cat "Waiting in the admiral's quarters you see the artifacts of his life scattered around the room&#x97;"
									"charts, papers, and empty glasses are randomly distributed. Pictures of the men and women that he's lost judge from the walls.\n\n"
									"Fifteen minutes later, the admiral walks in.")
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AssignMission3")
							</Action>
						</Actions>
					</AssignMission2>

					<AssignMission3>
						<Initialize>
							(scrSetDesc gScreen (cat "\"" (objGetName gPlayerShip 0x05) " armed like a battleship and a lonely pilot heading for the Core. Another plaything for the Gods. What a waste.\n\n"
									"\"I'll make a deal with you. Help me with my problem and I'll give you something you're going to need out there.\"")
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AssignMission4")
							</Action>
						</Actions>
					</AssignMission3>

					<AssignMission4>
						<Initialize>
							(scrSetDesc gScreen 
								"\"My problem is Captain Helios and the CSC Antarctica. Two months ago we were on joint operations against an Ares stronghold. "
								"Four carriers; hundreds of Centurions; one of the most complicated operations of the war.\n\n"
								"\"A light-minute out, she breaks formation and recalls her wing. She left us out there at the most critical point!\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AssignMission5")
							</Action>
						</Actions>
					</AssignMission4>

					<AssignMission5>
						<Initialize>
							(scrSetDesc gScreen 
								"\"She's gone rogue. Or worse. And with a carrier. And with the secrets she knows... I really don't have a choice.\"\n\n"
								"The admiral looks away, out the porthole. He looks tired. And old."
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AssignMission6")
							</Action>
						</Actions>
					</AssignMission5>

					<AssignMission6>
						<Initialize>
							(scrSetDesc gScreen 
								"When the admiral turns back to you there is a new intensity in his eyes and as he stands up his fists are clenched.\n\n"
								"\"Your mission is to hunt down the Antarctica. And to destroy her, if you can.\""
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(objSetData gSource "MissionStatus" "assigned")
									(objSetData gSource "MissionTime" (unvGetTick))
									(ScrShowPane gScreen "Default")
									)
							</Action>
						</Actions>
					</AssignMission6>

					<RecapMission>
						<Initialize>
							(block (lastVisit)
								(setq lastVisit (subtract (unvGetTick) (objGetData gSource "MissionTime")))
								(switch
									; If the antactica is in the system, then we might have a clue
									(SysFindObject gSource "sA +cscAntarctica;")
										(scrSetDesc gScreen
											"Admiral Decker talks with his XO at his center console. "
											"They see you enter, and the admiral comes up to you quietly:\n\n"
											"\"We've had a sighting of the Antarctica somewhere in this system! You know what to do. Return here when you've accomplished your mission.\""
											)
									
									(ls lastVisit 300)
										(scrSetDesc gScreen 
											"The bridge of the CSC Terra is chaotic, but efficient. "
											"Various officers discuss issues at their panels, raising their voice above the chatter of comm traffic. "
											"The admiral is not on the bridge, but the XO approaches you:\n\n"
											"\"I don't envy your mission. We don't have fresh intel on the Antarctica; you'll have to search system by system, I'm afraid.\""
											)

									(ls lastVisit 1800)
										(scrSetDesc gScreen 
											"Admiral Decker talks with his XO at the center of a chaotic, but efficient bridge. "
											"The Admiral sees you come in, but he seems too busy to be able to talk to you."
											)

									(scrSetDesc gScreen 
										"Admiral Decker talks with his XO at his center console. "
										"They see you enter, and the XO comes up to you quietly:\n\n"
										"\"Still no sign of the Antarctica. We've had reports that it might be in the Dantalion system.\""
										)
									)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Default")
							</Action>
						</Actions>
					</RecapMission>

					<AntarcticaDispatched>
						<Initialize>
							(block (antarcticaStatus desc)
								(setq antarcticaStatus (objGetGlobalData gSource "antarctica"))
								(switch
									(eq antarcticaStatus "destroyedByPlayer")
										(setq desc "As you enter the bridge all the officers rise and applaud. Admiral Decker stands next to you and says,\n\n\"The Fleet owes you a great debt. The valor and heroism that you showed in defeating the Antarctica will stand as a beacon of hope in this bloody war!\"\n\nAfter much cheering and congratulations, the Admiral leads you to his quarters for a private conversation.")

									(eq antarcticaStatus "destroyed")
										(setq desc "As you enter the bridge all the officers cheer. Admiral Decker stands next to you and announces,\n\n\"I can now confirm that the rogue ship Antarctica has been destroyed!\"\n\nAfter much cheering, the Admiral leads you to his quarters for a private conversation.")

									(eq antarcticaStatus "escaped")
										(setq desc "The bridge grows quiet as you enter. All the officers stare at you, some with disgust, others with pity. The XO walks up to you: \"The admiral is waiting for you in his quarters.\"")

									(eq antarcticaStatus "betrayed")
										(setq desc "The bridge grows quiet as you enter. All the officers stare at you, some with disgust, others with pity. The XO walks up to you: \"The admiral is waiting for you in his quarters.\"")
									)

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "AntarcticaDispatched2")
							</Action>
						</Actions>
					</AntarcticaDispatched>

					<AntarcticaDispatched2>
						<Initialize>
							(block (antarcticaStatus desc)
								(setq antarcticaStatus (objGetGlobalData gSource "antarctica"))
								(switch
									(eq antarcticaStatus "destroyedByPlayer")
										(setq desc "\"You've done your part of the bargain, now let me help you with your journey. For the last few years we've been working on a new weapon&#x97;something that can hurt the Ares and win this war. I want you to test this new weapon. The dockmaster will install it. Good luck!\"")

									(and (eq antarcticaStatus "destroyed") (geq (objGetData gPlayerShip "fleetLevel") 6))
										(setq desc "\"Thanks for tracking down the Antarctica&#x97;we couldn't have done it without you. Now it's my turn to help you.\n\n\"For the last few years we've been working on a new weapon&#x97;something that will win this war. I want you to test it. Report to the dockmaster and he will explain. Good luck!\"")

									(eq antarcticaStatus "destroyed")
										(setq desc "\"Thanks for tracking down the Antarctica&#x97;we couldn't have done it without you. I know you're on your way to the Core, but if you stay with the Fleet and make captain, I guarantee that I'll remember your service. Good luck, and remember what I said.\"")

									(eq antarcticaStatus "escaped")
										(setq desc "The admiral broods in his chambers. He stares at you coldly:\n\n\"What happened out there? How did the Antarctica escape? If I ever find out that you helped them, I will make sure that you hang as a traitor! Until then, you are demoted to Master Sergeant. Now get the hell out of here.\"")

									(eq antarcticaStatus "betrayed")
										(setq desc "The admiral sits at his desk quietly studying you. He says,\n\n\"You're a cold-blooded killer, do you know that? I heard how you betrayed Captain Helios. I know she deserved it, but I'm glad that you're leaving Human Space. I'll see you in hell.\"")
									)

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block (antarcticaStatus)
									(setq antarcticaStatus (objGetGlobalData gSource "antarctica"))
									(switch
										(eq antarcticaStatus "destroyedByPlayer")
											(objSetGlobalData gSource "p262test" "player")

										(eq antarcticaStatus "destroyed")
											(objSetGlobalData gSource "p262test" "fleetCaptain")

										(eq antarcticaStatus "escaped")
											(block Nil
												(objSetData gPlayerShip "fleetXP" 600)
												(objSetData gPlayerShip "fleetLevel" 3)
												(objSetGlobalData gSource "p262test" "notPlayer")
												)

										(eq antarcticaStatus "betrayed")
											(objSetGlobalData gSource "p262test" "notPlayer")

										(objSetGlobalData gSource "p262test" "fleetCaptain")
										)

									(objSetData gSource "MissionStatus" "complete")
									(scrShowPane gScreen "Default")
									)
							</Action>
						</Actions>
					</AntarcticaDispatched2>

					<MissionComplete>
						<Initialize>
							(block (testStatus desc)
								(setq testStatus (objGetGlobalData gSource "p262test"))
								(switch
									(eq testStatus "player")
										(setq desc "The bridge is chaotic as usual. The admiral looks at you as you enter:\n\n\"Have you talked to the dockmaster yet?\"")

									(and (eq testStatus "fleetCaptain") (geq (objGetData gPlayerShip "fleetLevel") 6))
										(setq desc "The bridge is chaotic as usual. The admiral looks at you as you enter:\n\n\"I'm glad you're back. We've made a lot of progress since your last visit and now I'm ready to show you Project Lamplighter. Report to the dockmaster and he'll explain.\"")

									(eq testStatus "fleetCaptain")
										(setq desc "The bridge is chaotic as usual. The admiral looks at you as you enter:\n\n\"Remember what I said. Come back when you're a Fleet captain.\"")

									(eq testStatus "notPlayer")
										(setq desc "The bridge is chaotic as usual. The admiral and the XO confer privately about their latest operation. The officers and crew try hard to ignore you. You are not welcome here.")
									)

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Default")
							</Action>
						</Actions>
					</MissionComplete>

					<MissionTesting>
						<Initialize>
							(block (desc lastVisit)
								(setq lastVisit (subtract (unvGetTick) (objGetData gSource "MissionTime")))
								(switch
									(ls lastVisit 1800)
										(setq desc (cat "The bridge of the CSC Terra is busy with activity. Admiral Decker and his XO are discussing the results of the last operation."))

									(setq desc (cat "As you enter the bridge, Admiral Decker approaches you. He is beaming with excitement:\n\n\"How's the testing going? It's a beautiful weapon, isn't it? "
											"We're starting to produce them in higher quantities and equipping our Aquilas with them. We finally have a chance to end this war on our terms!\"")
										)
									)
								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowPane gScreen "Default")
							</Action>
						</Actions>
					</MissionTesting>

					<AccessDenied>
						<Initialize>
							(scrSetDesc gScreen "Two armed guards block your path, \"I'm sorry, %sir%, the admiral does not like to be disturbed by junior officers.\"")
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</AccessDenied>
					
					<ShipMoving>
						<Initialize>
							(scrSetDesc gScreen 
								"The bridge of the CSC Terra is busy with activity. Admiral Decker is leaning over a "
								"holochart as the massive ship manuevers through the system."
								)
						</Initialize>
						
						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</ShipMoving>

					<PrototypeNotFound>
						<Initialize>
							(scrSetDesc gScreen 
								(cat "The bridge of the CSC Terra is busy with activity. You overhear Admiral Decker talking with his XO:\n\n"
									"\"We need that prototype, Jack. I don't care how you do it, we need to get it back!\""
									)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</PrototypeNotFound>

					<PlayerMetAntarctica>
						<Initialize>
							(scrSetDesc gScreen 
								(cat "The bridge of the CSC Terra is busy with activity. You overhear Admiral Decker talking with his XO:\n\n"
									"\"I want an update on the Antarctica. Has the squadron made contact yet?\""
									)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</PlayerMetAntarctica>

					<AssignTest>
						<Initialize>
							(block (desc)
								(setq desc (cat "The dockmaster approaches as you enter:\n\n\"Seems like it's your lucky day! "
										"I got orders from the admiral to put you on our testing program for Lamplighter. You're gonna like it&#x97;"
										"it's got a pure antimatter blast that'll cut through almost anything.\"")
									)

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" key="C" default="1" cancel="1">
								(scrShowPane gScreen "AssignTest2")
							</Action>
						</Actions>
					</AssignTest>

					<AssignTest2>
						<Initialize>
							(block (desc okToInstall)
								(setq gTechLevel 25)
								(setq gTechModifier Nil)
								(setq gCheckMilitaryID Nil)
								(setq gItem (itmCreate &itLamplighter; 1))
								(intInstallDevicePrep gItem 0 Nil Nil 'gCanInstall 'gCost 'gDesc)
								(scrSetDesc gScreen gDesc)

								; Enable/disable buttons
								(scrEnableAction gScreen 0 gCanInstall)
								)
						</Initialize>

						<Actions>
							<Action name="Install" key="I" default="1">
								(if gCanInstall
									(block Nil
										; Install the item
										(objAddItem gPlayerShip gItem)
										(shpInstallDevice gPlayerShip gItem)

										(objSetData gSource "MissionStatus" "testing")
										(objSetData gSource "MissionTime" (unvGetTick))
										(objSetGlobalData gSource "p262test" "installed")

										(scrShowPane gScreen "AssignTestSuccess")
										)
									)
							</Action>

							<Action name="Cancel" key="C" cancel="1">
								<ShowPane pane="AssignTestDeclined"/>
							</Action>
						</Actions>
					</AssignTest2>

					<AssignTestSuccess>
						<Initialize>
							(block (desc)
								(setq desc "\"All the numbers look good. This rig is ready for some action! Take her out and let us know how many Ares you blast!\"")

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								<ShowPane pane="Default"/>
							</Action>
						</Actions>
					</AssignTestSuccess>

					<AssignTestDeclined>
						<Initialize>
							(block (desc)
								(setq desc "\"Anytime you're ready, just come back and I'll fix you up.\"")

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(setq gPrevScreen2 "Main")
									(scrShowScreen gScreen "&dsFleetDockServices;")
									)
							</Action>
						</Actions>
					</AssignTestDeclined>

					<TestingStatus>
						<Initialize>
							(block (desc)
								(setq desc "The dockmaster approaches you as you enter:\n\n\"How's the testing going? I bet you got ten thousand stories about that Lamplighter!\"")

								(scrSetDesc gScreen desc)
								)
						</Initialize>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(setq gPrevScreen2 "Main")
									(scrShowScreen gScreen "&dsFleetDockServices;")
									)
							</Action>
						</Actions>
					</TestingStatus>
				</Panes>
			</Main>
		</DockScreens>

		<DockingPorts>
			<Port x="0"		y="70" />
			<Port x="0"		y="-70" />
			<Port x="50"	y="50" />
			<Port x="50"	y="-50" />
			<Port x="70"	y="0" />
			<Port x="-70"	y="0" />
			<Port x="-50"	y="50" />
			<Port x="-50"	y="-50" />
		</DockingPorts>

	</ShipClass>-->

	<!-- CSC Base Class
	
	EXTRA DATA
	
	behavior:			Ship's current behavior
							Nil					= holding position and available for missions
							'defendingCritical	= CSC is being attack by powerful enemy
							'moving				= CSC is moving to a new position
							
	disableDefense:		If TRUE, then we don't deploy defenders (we use this when we want to
						let the player handle it).

	squadron:			Entries for each ship in the CSC's squadron.
							Each entry in the squadron is a list:
								0: objID
								1: ship class
								2: status:
									'home
									'deployed
									'destroyed
	
	targetObj:			Target to destroy. If the CSC is in 'defendingCritical mode, then this
						is the capital ship that is attacking it.
						
	-->

	<ShipClass UNID="&baCSCBase;"
			class=				"(CSC base class)"
			virtual=			"true"
			
			attributes=			"baseClass"
			>

		<Events>
			<OnAttackedByPlayer>
				(block Nil
					(if (not (eq (shpGetOrder gSource) 'attackHold))
						(shpOrderImmediate gSource 'attackHold gPlayerShip 10)
						)
					)
			</OnAttackedByPlayer>

			<OnBehavior>
				(block (behavior attackerList)
					(setq behavior (objGetData gSource "behavior"))
					
					(switch
						(eq behavior 'defendingCritical)
							Nil
							
						(eq behavior 'moving)
							Nil

						(block (attackerList highValueEnemies)
							(switch
								; If we don't have anyone attacking us, then there is
								; nothing to do.
								(not (setq attackerList (SysFindObject gSource "sAEPX")))
									Nil
									
								; If we're not supposed to attack, then don't
								(objGetData gSource "disableDefense")
									Nil
									
								; If any of the attackers are level 9 or higher, then we need
								; help. Deploy some Britannias.
								(setq highValueEnemies (filter attackerList theObj (geq (objGetLevel theObj) 9)))
									(block (theTarget )
										(setq theTarget (random highValueEnemies))
										(objSetObjRefData gSource "targetObj" theTarget)
										(objRegisterForEvents gSource theTarget)

										(for i 1 6
											(block (theShip)
												(setq theShip (cscSquadronDeployShip gSource &scBritannia;))
												(if theShip
													(block Nil
														(shpOrder theShip 'attack theTarget)
														(shpOrder theShip 'attackNearestEnemy)
														(shpOrder theShip 'gate gSource)
														)
													)
												)
											)

										(objSetData gSource "behavior" 'defendingCritical)
										)
								)
							)
						)
					)
			</OnBehavior>

			<OnCreate>
				(block (squadronList)
					; Are we in a good spot? If not, then we give orders to move
					(fltOrderCheckPosition gSource)

					; Create the Britannia squadron
					(for i 1 6
						(cscSquadronCreateShip gSource &scBritannia;)
						)

					; Behavior event
					(sysAddObjRecurringTimerEvent 90 gSource "OnBehavior")
					
					;RPC modify:
					(block Nil
						(objAddItem gSource (itmCreate &itLAM; 1))
						(objAddItem gSource (itmCreate &vtDamageControlParty; 1))
						;add the Long range Attack Missile
						(PrintTo 'log(shpInstallDevice gSource (itmCreate &itLAM; 1)))
						;add 2 more Damage Control Parties.
						(shpInstallDevice gSource (itmCreate &vtDamageControlParty; 1))
						(shpInstallDevice gSource (itmCreate &vtDamageControlParty; 1))
						)
					)
			</OnCreate>

			<OnDestroy>
				(block (squadronList)
					; Destroy our squadron
					(setq squadronList (objGetData gSource "squadron"))
					(objSetData gSource "squadron" Nil)
					(enum squadronList theEntry
						(if (eq (item theEntry 2) 'home)
							(objDestroy (objGetObjByID (item theEntry 0)))
							)
						)
					
					; Commonwealth is mad too
					(intCommonwealthOnDestroy)

					; Military will execute the player
					(if (and gPlayerShip (eq aOrderGiver gPlayerShip))
						(intFleetCrime 3 (cat "the destruction of " (objGetName gSource 4)))
						)
					)
			</OnDestroy>

			<OnObjDestroyed>
				(block (behavior theID theEntry squadronList)
					(setq behavior (objGetData gSource "behavior"))
					
					(switch
						; See if we destroyed the target
						(and (eq behavior 'defendingCritical)
								(eq aObjDestroyed (objGetObjRefData gSource "targetObj"))
								)
							(block Nil
								(objSetData gSource "behavior" Nil)
								)
						
						; If the ship entered a stargate, then ignore it
						(eq aDestroyReason 'enteredStargate)
							Nil
						
						; See if this is one of our gunships	
						(setq theEntry (match (setq squadronList (objGetData gSource "squadron")) theEntry 
								(eq (item theEntry 0) (setq theID (objGetID aObjDestroyed)))
								))
							(block Nil
							
								; Mark the entry as destroyed
								(setq squadronList (map squadronList theEntry
									(if (eq (item theEntry 0) theID)
										(list theID (item theEntry 1) 'destroyed)
										theEntry
										)
									))
									
								(objSetData gSource "squadron" squadronList)
								
								;(dbgOutput theID ": Destroyed")
								)
						)
					)
			</OnObjDestroyed>

			<OnObjEnteredGate>
				(block (theID theEntry squadronList)
					(setq theID (objGetID aObj))
					
					(switch
						(not (setq theEntry (match (setq squadronList (objGetData gSource "squadron")) theEntry (eq (item theEntry 0) theID))))
							Nil
							
						(block Nil
							; Repair and reload the ship
							(intArmorRepairAll aObj 10)
							(shpRechargeShield aObj 1000)
							(objFireEvent aObj "Reload")
							
							; Suspend object
							(objSuspend aObj)
							
							; Mark the entry as home
							(setq squadronList (map squadronList theEntry
								(if (eq (item theEntry 0) theID)
									(list theID (item theEntry 1) 'home)
									theEntry
									)
								))
								
							(objSetData gSource "squadron" squadronList)

							;(dbgOutput theID ": Returned to carrier")
							)
						)
					)
			</OnObjEnteredGate>
			
			<OnOrdersCompleted>
				(block (behavior)
					(setq behavior (objGetData gSource "behavior"))
					(switch
						(eq behavior 'moving)
							(block Nil
								(shpOrder gSource 'hold)
								(objSetData gSource "behavior" Nil)
								)

						(block Nil
							(shpOrder gSource 'hold)
							(objSetData gSource "behavior" Nil)
							)
						)
					)
			</OnOrdersCompleted>
		</Events>
	</ShipClass>
	
		<!-- Rogue Mine Layer -->

	<ShipClass UNID="&scRogueMineLayer;"
			manufacturer=		"Pacific Defense Corporation"
			class=				"Aurochs"
			type=				"mine layer"
			defaultSovereign=	"&svRogueFleet;"

			size=				"65"
			mass=				"2000"
			cargoSpace=			"5600"
			thrustRatio=		"0.8"
			maxSpeed=			"15"

			explosionType=		"&vtBlastExplosion3;"
			leavesWreck=		"80"

			attributes=			""
			>

		<Armor>
			<ArmorSection start="345" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="315" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="285" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="255" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="225" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="195" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="165" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="135" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="105" span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="75"  span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="45"  span="30" armorID="&itP120HexphaseArmor;" />
			<ArmorSection start="15"  span="30" armorID="&itP120HexphaseArmor;" />
		</Armor>

		<Devices>
			<Device deviceID="&itNAMIMineLauncher;" omnidirectional="true"/>
			<Device deviceID="&itR5Deflector;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"4.0"
			rotationAccel=		"0.5"
			/>

		<Image imageID="&rsAurochs;" imageWidth="96" imageHeight="96"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="157"	posRadius="43"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="42"	posZ="5"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-157"	posRadius="43"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>

		<Items>
			<Item count="3d12" item="&itStaticMine;"/>
			<Item count="1d12" item="&itXenotiteFuelRod;"/>
		</Items>

		<Events>
			<OnOrdersCompleted>
				; GLOBALS
				; "MinePos" are the coordinates of the center of the area to mine
				;
				; "DropMine" is True if the ship should drop a mine at next point
				; "Target" is the marker for the next destination
				(block (minePos mineItem)
					(setq minePos (objGetData gSource "MinePos"))
					(setq mineItem (itmCreate &itStaticMine; 1))

					; We only do something if we've got mines and a place to go
					(if (and minePos (objHasItem gSource mineItem))
						(block (destPos)

							; Drop a mine if we are ready
							(if (objGetData gSource "DropMine")
								(block Nil
									(sysCreateWeaponFire &itStaticMine; gSource (objGetPos gSource) 0 0 Nil)
									(objRemoveItem gSource mineItem)
									)
								)

							; Delete the marker, if it exists
							(if (objGetObjRefData gSource "Target")
								(objDestroy (objGetObjRefData gSource "Target"))
								)

							; Pick a position to go to 
							(setq destPos (sysCreateMarker 
								""
								(sysVectorPolarOffset minePos (random 0 359) (random 1 4))
								(objGetSovereign gSource)
								))
							(objSetObjRefData gSource "Target" destPos)
							(shpOrderGoto gSource destPos)

							; Drop a mine when we reach the destination
							(objSetData gSource "DropMine" True)
							)
						)
					)
			</OnOrdersCompleted>
		</Events>

		<AISettings
			fireRateAdj=		"20"
			fireAccuracy=		"90"
			perception=			"4"
			
			combatStyle=		"standOff"
			/>

	</ShipClass>
	
	*****************************************************************************************************

	<!-- Ares Micronuke Turret -->

	<ItemType UNID="&itAresMicroTurret;"
			name=				"Ares micronuke turret"
			virtual=			"true"
			level=				"8"
			value=				"65000"
			mass=				"4000"
			frequency=			"uncommon"
			modifiers=			"Ares; MajorItem; Military; NotRandom; NotForSale;"
			
			description=		"This omnidirectional turret combines two micronuke cannons."
			>
		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
		<Weapon
				omnidirectional=	"true"
				configuration=		"alternating"
				
				counter=			"capacitor"
				counterActivate=	"-5"
				counterUpdate=		"2"
				counterUpdateRate=	"15"
				fireRate=			"50"
				powerUse=			"800"
				>
			<Configuration aimTolerance="20">
				<Shot angle="3d5-9"/>
			</Configuration>
			<Missiles>
				<Missile ammoID="&itMicronuke;"
						type=			"missile"
						lifetime=		"180"
						damage=			"thermo:3d12; WMD3"
						missileSpeed=	"60"
						hitPoints=		"30"

						fragmentCount=	"1"
						failsafe=		"12"

						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						>
					<Effect>
						<Image imageID="&rsMissiles;" imageX="0" imageY="32" imageWidth="16" imageHeight="16" imageFrameCount="12" imageTicksPerFrame="3"/>
					</Effect>
					<Fragment 
							type=			"area"

							damage=			"thermo:1d12; WMD3"
							expansionSpeed=	"35"
							missileSpeed=	"0"
							lifetime=		"12"
							>
						<Effect>
							<Shockwave>
								<Image imageID=				"&rsShockwave1;"
										imageX=				"0" 
										imageY=				"0" 
										imageWidth=			"512" 
										imageHeight=		"128"
										imageFrameCount=	"1"
										imageTicksPerFrame=	"1"/>
							</Shockwave>
						</Effect>
					</Fragment>
				</Missile>
			</Missiles>
		</Weapon>
	</ItemType>
	
	<!-- Ares Cannon -->

	<ShipClass UNID="&scAresCannon;"
			manufacturer=		"Ares Orthodoxy"
			class=				"Ares sentry"
			type=				""

			attributes=			"ares, genericClass"
			   
			mass=				"400"
			thrustRatio=		"0"
			maneuver=			"1"
			maxSpeed=			"0"
			cargoSpace=			"0"

			leavesWreck=		"50"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itTharsisPlate;"
			count=				"2"
			/>
		
		<Devices>
			<Device deviceID="&itAresArchcannon;" minFireArc="350" maxFireArc="10" />
			<Device deviceID="&itMicronukeCannon;" secondary="true" />
			<Device deviceID="&itCydonianShields;" />
		</Devices>
		
		<Items>
			<Item count="12d10-20"	item="&itMicronuke;"/>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsMediumShips1;" imageX="576" imageY="0" imageWidth="48" imageHeight="48" rotationOffset="-15"/>

		<!-- AI and Behavior -->

		<AISettings
			fireRateAdj=		"40"
			fireAccuracy=		"90"
			perception=			"4"

			noFriendlyFire=		"true"
			/>
		<Events>
			<OnCreate>
				;hook onto closest Ares station
				(block (Base)
					(setq Base (SysFindObject gSource "NT:Ares;"))
					(ObjSetData gSource "Home" Base)
					(ObjSetData gSource "HomeID" (ObjGetID Base))
					(ObjSetData gSource "Angle" (RPCFindAngle Base gSource))
					(ObjSetData gSource "Dist" (ObjGetDistance Base gSource))
					(sysAddObjRecurringTimerEvent 5 gSource "Hook")
					)
			</OnCreate>
			<Hook>
				(block Nil
					(objSetPos gSource (sysVectorPolarOffset (ObjGetPos (ObjGetObjByID(ObjGetData gSource "HomeID"))) (modulo(add (ObjGetData gSource "Angle") 90) 360) (ObjGetData gSource "Dist")))
					;(plymessage gPlayer "Hi!")
					)
			</Hook>
		</Events>
	</ShipClass>
	
	<!-- Ares Cannon 

	<ShipClass UNID="&scAresCannon;"
			manufacturer=		"Ares Orthodoxy"
			class=				"Ares sentry"
			type=				""
			defaultSovereign=	"&svAres;"

			attributes=			"ares, genericClass"
			   
			mass=				"400"
			thrustRatio=		"0"
			maxSpeed=			"0"
			cargoSpace=			"0"
			>

		;Configuration 
		
		<Armor
			armorID=			"&itTharsisPlate;"
			count=				"2"
			/>
		
		<Devices>
			<Device deviceID="&itAresArchcannon;" minFireArc="350" maxFireArc="10" />
			<Device deviceID="&itMicronukeCannon;" secondary="true" />
			<Device deviceID="&itCydonianShields;" />
		</Devices>

		<Items>
			<Item count="12d10-20"	item="&itMicronuke;"/>
		</Items>
		
		<Maneuver
			maxRotationRate=	"18.0"
			rotationAccel=		"3.0"
			/>

		;Image and Effects 

		<Image imageID="&rsMediumShips1;" imageX="576" imageY="0" imageWidth="48" imageHeight="48" rotationOffset="-15"/>

		; AI and Behavior

		<AISettings
			fireRateAdj=		"40"
			fireAccuracy=		"90"
			perception=			"4"

			noFriendlyFire=		"true"
			/>
				<Events>
			<OnCreate>
				;hook onto closest Ares station
				(block (Base)
					(setq Base (SysFindObject gSource "NT:Ares;"))
					(ObjSetData gSource "Home" Base)
					(ObjSetData gSource "HomeID" (ObjGetID Base))
					(ObjSetData gSource "Angle" (RPCFindAngle Base gSource))
					(ObjSetData gSource "Dist" (ObjGetDistance Base gSource))
					(sysAddObjRecurringTimerEvent 5 gSource "Hook")
					)
			</OnCreate>
			<Hook>
				(block Nil
					(objSetPos gSource (sysVectorPolarOffset (ObjGetPos (ObjGetObjByID(ObjGetData gSource "HomeID"))) (modulo(add (ObjGetData gSource "Angle") 90) 360) (ObjGetData gSource "Dist")))
					;(plymessage gPlayer "Hi!")
					)
			</Hook>
		</Events>
	</ShipClass>-->
	
	<!-- Deimos Destroyer -->

	<ShipClass UNID="&scDeimos;"
			manufacturer=		"Ares Orthodoxy"
			class=				"Deimos"
			type=				"destroyer"
			score=				"2135"

			attributes=			"ares, capitalShip, genericClass"
			   
			mass=				"8000"
			thrustRatio=		"2"
			maneuver=			"6"
			maxSpeed=			"16"
			cargoSpace=			"1000"

			explosionType=		"&vtThermoExplosion1;"
			leavesWreck=		"90"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itHeavyTharsisPlate;"
			count=				"18"
			/>

		<Devices>
			<Device deviceID="&itHecatesCannon;" posAngle="0" posRadius="50" minFireArc="345" maxFireArc="15" />
			<Device deviceID="&itLightningTurret;" secondaryWeapon="true"/>
			<Device deviceID="&itAresMicroTurret;" secondaryWeapon="true"/>
			<Device deviceID="&itCydonianHeavyShields;"/>
			<Device deviceID="&it250MWReactor;"/>
		</Devices>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"300"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"150"

					posX=		"-9"
					posY=		"0"
					sizeX=		"48"
					sizeY=		"46"
					/>
		</Interior>
		
		<Items>
			<Item count="2d12"	item="&itPteracniumFuelRod;"/>
			<Item count="12d10-20"	item="&itMicronuke;"/>
		</Items>

		<!-- Image and Effects 
		<Image imageID="&rsMediumShips4;" imageX="1024" imageY="0" imageWidth="128" imageHeight="128"/>
		-->
		
		<Image imageID="&rsDeimos;" imageWidth="170" imageHeight="170" rotationOffset="-30"/>

		<!-- AI and Behavior -->

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"90"
			ignoreShieldsDown=	"true"
			
			perception=			"6"
			/>

	</ShipClass>
	
	<!-- Phobos-class Dreadnought -->

	<ShipClass UNID="&scPhobos;"
			manufacturer=		"Ares Orthodoxy"
			class=				"Phobos"
			type=				"dreadnought"
			score=				"3140"

			attributes=			"ares, capitalShip, genericClass, majorShip"
			   
			mass=				"15000"
			thrustRatio=		"1"
			maneuver=			"10"
			maxSpeed=			"16"
			cargoSpace=			"5000"

			cyberDefenseLevel=	"8"
			   
			explosionType=		"&vtThermoExplosion3;"
			leavesWreck=		"100"
			>
		<!-- Configuration -->
		
		<Armor
			armorID=			"&itMassiveTharsisPlate;"
			count=				"24"
			/>
		<Devices>
			<Device deviceID="&itAresPlasmaCannon;" posAngle="0" posRadius="100" posZ="0"/>
			<Device deviceID="&itLightningTurret;" secondaryWeapon="true" posAngle="30"  posRadius="50" posZ="0"/>
			<Device deviceID="&itLightningTurret;" secondaryWeapon="true" posAngle="330" posRadius="50" posZ="0"/>
			<Device deviceID="&itAresMicroTurret;" secondaryWeapon="true" posAngle="180" posRadius="80"/>
			<Device deviceID="&itKaidunShields;"/>
		</Devices>
		
		<Maneuver
			maxRotationRate=	"3.6"
			rotationAccel=		"0.6"
			/>

		
		<Interior>
			<Compartment name="interior"
					hitPoints=	"600"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"200"

					posX=		"-88"
					posY=		"0"
					sizeX=		"80"
					sizeY=		"62"
					/>
		</Interior>

		<Items>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
			<Item				count="24d10-20"	item="&itMicronuke;"/>
		</Items>

		<!-- Image and Effects -->
		
		<Image imageID="&rsLargeShips2;" imageX="256" imageY="0" imageWidth="256" imageHeight="256"/>
		
		<Effects>
			<Effect type="thrustMain"		posAngle="180"	posRadius="118"	posZ="-30"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="170"	posRadius="118"	posZ="-15"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-170"	posRadius="118"	posZ="-15"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="170"	posRadius="118"	posZ="15"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-170"	posRadius="118"	posZ="15"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="118"	posZ="30"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>

		<!-- AI and Behavior -->

		<AISettings
			fireRateAdj=		"10"
			fireAccuracy=		"95"
			perception=			"6"
			
			ignoreShieldsDown=	"true"
			/>
	</ShipClass>
	
	<!-- Ares Shipyard -->

	<StationType UNID="&stAresShipyard;"
			name=				"Ares shipyard"
			sovereign=			"&svAres;"
			abandonedScreen=	"&dsAbandonedStation;"
			dockScreen=			"&dsAbandonedStation;"
			dockingPorts=		"8"
			canAttack=			"true"

			repairRate=			"4"
			multiHull=			"true"
			armorID=			"&itMassiveTharsisPlate;"
			maxHitPoints=		"1000"
			hitPoints=			"1000"
			explosionType=		"&vtThermoExplosion4;"
			ejectaType=			"&vtWreckEjecta;"

			attributes=			"ares, aresMajor, enemy, envAir, envEarth, envFire, envWater, majorStation, neoHuman, populated"
			levelFrequency=		"----- --vuu ----- ----- -----"
			locationCriteria=	"*"
			enemyExclusionRadius="100"
			>

		<Image			imageID="&rsStations9;" imageX="0" imageY="256" imageWidth="256" imageHeight="256"/>

		<Ships>
			<Ship		count="1d2"		class="&scTundra;" orders="guard"/>
			<Ship		count="1d6"		class="&scSandstorm;" orders="patrol" patrolDist="5"/>
			<Table>
				<Ship	chance="40"	count="1d4+2"	class="&scChasm;" orders="patrol" patrolDist="5"/>
				<Ship	chance="40" count="1d2" class="&scDeimos;" orders="patrol" patrolDist="8"/>
				<Ship	chance="10" count="4d6"	class="&scSandstorm;" orders="patrol" patrolDist="8"/>
				<Ship	chance="10" count="1"	class="&scPhobos;"	orders="guard"/>
			</Table>
		</Ships>

		<Construction constructionRate="500" maxConstruction="10">
			<Table>
				<Ship chance="40"	count="1"	class="&scSandstorm;"	 orders="patrol" patrolDist="5"/>
				<Ship chance="20"	count="1"	class="&scChasm;"		 orders="patrol" patrolDist="5"/>
				<Ship chance="20"	count="1"	class="&scTundra;"		 orders="patrol" patrolDist="8"/>
				<Ship chance="10"	count="1"	class="&scDeimos;"		 orders="patrol" patrolDist="8"/>
				<Ship chance="5"	count="1"	class="&scDeimos;"		 orders="wander"/>
				<Ship chance="5"	count="1"	class="&scPhobos;"		 orders="patrol" patrolDist="150"/>
			</Table>
		</Construction>

		<Items>
			<Table count="3d4">
				<Lookup chance="25" count="1d3" table="&trConsumables8;"/>
				<Lookup chance="25" count="1"	table="&trConsumables9;"/>
				<Lookup chance="25" count="1"	table="&trMinorItem8;"/>
				<Lookup chance="15" count="1"	table="&trMinorItem9;"/>
				<Lookup chance="10" count="1"	table="&trMajorItem8;"/>
			</Table>
		</Items>

		<Satellites>
			<Orbitals count="2d6" distance="12" angle="equidistant">
				<Ship class="&scAresCannon;" count="1" sovereign="&svAres;" orders="hold"/>
			</Orbitals>
		</Satellites>

		<Encounters frequency="common">
			<Lookup table="&tbAresEncounters;"/>
		</Encounters>

	</StationType>
	
	<!-- Xenophobe Defender -->

	<ShipClass UNID="&scXenophobeDefender;"
			manufacturer=		"Xenophobe"
			class=				""
			type=				"defender"
			defaultSovereign=	"&svXenophobes;"

			attributes=			"benninXenophobes, capitalShip, genericClass"

			size=				"165"
			mass=				"15000"
			cargoSpace=			"500"
			thrustRatio=		"1"
			maxSpeed=			"12"

			cyberDefenseLevel=	"5"

			explosionType=		"&vtBlastExplosion4;"

			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itHeavyMeteorsteel;"
			count=				"12"
			/>
		
		<Devices>
			<Device deviceID="&itMarkIIIHowitzer;" omnidirectional="true" posAngle="180" posRadius="6" posZ="7"/>
			<Device deviceID="&itLancerCannon;" secondaryWeapon="true" minFireArc="340" maxFireArc="180" posAngle="130" posRadius="36" posZ="7"/>
			<Device deviceID="&itLancerCannon;" secondaryWeapon="true" minFireArc="180" maxFireArc="20" posAngle="230" posRadius="36" posZ="7"/>
			<Device deviceID="&itPatchSpider;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"4"
			rotationAccel=		"0.5"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"120"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"80"

					posX=		"-40"
					posY=		"0"
					sizeX=		"36"
					sizeY=		"36"
					/>
		</Interior>

		<Items>
			<Item				count="1d12"	item="&itHeliumAssembly;"/>
			<Table>
				<Lookup	chance="40"	count="1d4"		table="&trConsumables7;"/>
				<Lookup	chance="40"	count="1"		table="&trMinorItem7;"/>
				<Lookup	chance="20"	count="1"		table="&trMajorItem6;"/>
			</Table>
		</Items>

		<!-- Image and Effects -->
		
		<Image imageID="&rsXenophobeDefender;" imageWidth="180" imageHeight="180"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="168"	posRadius="75"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="180"	posRadius="74"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-168"	posRadius="75"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
		</Effects>
		
		<!-- AI and Behavior -->

		<AISettings
			aggressor=			"true"
			fireRateAdj=		"40"
			fireAccuracy=		"90"
			perception=			"4"
			/>

	</ShipClass>

	<!-- Xenophobe Worldship -->

	<ShipClass UNID="&scXenophobeWorldship;"
			manufacturer=		"Xenophobe"
			class=				""
			type=				"worldship"
			defaultSovereign=	"&svXenophobes;"

			attributes=			"benninXenophobes, capitalShip, genericClass, majorShip"
			   
			size=				"300"
			mass=				"70000"
			cargoSpace=			"25000"
			thrustRatio=		"0.5"
			maxSpeed=			"6"

			cyberDefenseLevel=	"8"

			explosionType=		"&vtThermoExplosion3;"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itWorldshipArmorPlate;"
			count=				"16"
			/>
		
		<Devices>
			<Device deviceID="&itMarkVHowitzer;" omnidirectional="true" posAngle="0" posRadius="24" posZ="0"/>

			<Device deviceID="&itMarkVHowitzer;" secondaryWeapon="true" minFireArc="340" maxFireArc="200" posAngle="90" posRadius="40"/>
			<Device deviceID="&itMarkVHowitzer;" secondaryWeapon="true" minFireArc="160" maxFireArc="20" posAngle="270" posRadius="40"/>
			
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="345" maxFireArc="165" posAngle="30" posRadius="75" posZ="0"/>
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="345" maxFireArc="135" posAngle="15" posRadius="84" posZ="0"/>
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="225" maxFireArc="15"  posAngle="345" posRadius="84" posZ="0"/>
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="195" maxFireArc="15"  posAngle="330" posRadius="75" posZ="0"/>
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="180" maxFireArc="285" posAngle="220" posRadius="52" posZ="0"/>
			<Device deviceID="&itXenophobeLancer;" secondaryWeapon="true" minFireArc="75"  maxFireArc="180" posAngle="140" posRadius="52" posZ="0"/>

			<Device deviceID="&itMissileDefense;" omnidirectional="true" />
			<Device deviceID="&it500MWReactor;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"2"
			rotationAccel=		"0.25"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"320"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"80"

					posX=		"-96"
					posY=		"0"
					sizeX=		"50"
					sizeY=		"66"
					/>
		</Interior>

		<Items>
			<Item				count="6d12"	item="&itPteracniumFuelRod;"/>
			<Table>
				<Lookup chance="40"	count="1d6"		table="&trConsumables8;"/>
				<Lookup	chance="30"	count="1d2"		table="&trMinorItem8;"/>
				<Lookup	chance="30"	count="1"		table="&trMajorItem8;"/>
			</Table>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsXenophobeWorldship;" imageX="0" imageY="0" imageWidth="250" imageHeight="250"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="175"	posRadius="99"	posZ="-10"	rotation="180"	effect="&efMainThrusterLarge;"	sendToBack="*"/>
			<Effect type="thrustMain"		posAngle="-175"	posRadius="99"	posZ="-10"	rotation="180"	effect="&efMainThrusterLarge;"	sendToBack="*"/>
			<Effect type="thrustMain"		posAngle="168"	posRadius="93"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="-168"	posRadius="93"	posZ="0"	rotation="180"	effect="&efMainThrusterLarge;"/>
			<Effect type="thrustMain"		posAngle="175"	posRadius="99"	posZ="10"	rotation="180"	effect="&efMainThrusterLarge;"	bringToFront="*"/>
			<Effect type="thrustMain"		posAngle="-175"	posRadius="99"	posZ="10"	rotation="180"	effect="&efMainThrusterLarge;"	bringToFront="*"/>
		</Effects>
		
		<!-- AI and Behavior -->

		<AISettings
			aggressor=			"true"
			fireRateAdj=		"40"
			fireAccuracy=		"90"
			perception=			"6"
			combatStyle=		"standOff"
			/>

	</ShipClass>


	




	<!-- PK25 Morning Star Cannon 

	<ItemType UNID="&itMorningStarCannon;"
			name=				"PK25 Morning Star cannon"
			level=				"4"
			value=				"3400"
			mass=				"4000"
			frequency=			"uncommon"
			attributes=			"MajorItem; NAMI"

			description=		"NAMI's Morning Star cannon shoots a high-velocity cloud of dense particles that can severely damage light to medium armor."
			>

		<Image imageID="&rsItemsNAMI3;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"particles"

				damage=				"kinetic:25; WMD2"
				fireRate=			"15"
				missileSpeed=		"40"
				lifetime=			"60"
				powerUse=			"150"
				hitPoints=			"2"

				particleCount=		"1d11+44"
				particleSpreadAngle="15"
				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Image imageID="&rsMissiles4;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="1" randomStartFrame="true"/>
			</Effect>
		</Weapon>

	</ItemType>
	-->
	<!-- Solar Armor 

	<ItemType UNID="&itSolarArmor;"
			name=				"[segment(s) of ]solar armor"
			level=				"4"
			value=				"700"
			frequency=			"rare"
			numberAppearing=	"1d4"
			mass=				"3000"
			attributes=			"MinorItem"

			description=		"This armor combines honeycombed solar panels with a plasteel armor substrate. The armor will recharge the ship's reactor when near a sun."

			sortName=			"solar armor, segment of"
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="0" imageWidth="96" imageHeight="96"/>

		<Armor
				hitPoints=	"75"
				hpBonus=	"+100, -50, +25, -25, +25"

				repairTech=	"5"
				repairCostAdj=	"200"
				installCostAdj=	"200"

				photoRecharge="true"
				/>
		<Events>
			<OnUpdate>
				(block Nil
					;if we're less than 100ls from star, refuel every 100 ticks
					(if
						(ls (objGetDistance gSource (SysFindObject gSource "NT:star;")) 80)
							(shpConsumeFuel gSource -1)
						)
					)
			</OnUpdate>
		</Events>
	</ItemType>
	-->
	<!-- Solar Panel Array 

	<ItemType UNID="&itSolarPanelArray;"
			name=				"solar panel array"
			level=				"3"
			value=				"650"
			mass=				"1000"
			frequency=			"rare"
			attributes=			"MajorItem"

			description=		"A solar panel array converts sunlight into energy usable by a ship's reactor."
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="192" imageWidth="96" imageHeight="96"/>

		<SolarDevice
				refuel=			"180"
				/>

	</ItemType>
	-->
		<!-- Tinker Gathering -->

	<StationType UNID="&stTinkerGathering;"
			name=				"Tinker gathering"
			sovereign=			"&svTinkers;"
			dockScreen=			"Main"
			abandonedScreen=	"&dsAbandonedStation;"
			canAttack=			"true"

			multiHull=			"true"
			armorID=			"&itReinforcedTitanium1;"
			hitPoints=			"250"
			repairRate=			"5"
			fireRateAdj=		"20"
			explosionType=		"&vtThermoExplosion1;"
			ejectaType=			"&vtWreckEjecta;"

			attributes=			"envEarth, envAvoidsAir, friendly, human, independent, majorStation, populated, tinkers"
			levelFrequency=		"uccuu r---- ----- ----- -----"
			locationCriteria=	"+asteroids,-asteroidbelt"
			>

		<Names noArticle="true">Tinker Alvarez; Tinker Bell; Tinker Cray; Tinker Draper;
				Tinker Edison; Tinker Fermi; Tinker Goddard; Tinker Hale;
				Tinker Julian; Tinker Kroll; Tinker Lawrence; Tinker Mazor;
				Tinker Noyce; Tinker Olsen; Tinker Plank; Tinker Rohrer;
				Tinker Sikorsky; Tinker Tesla; Tinker Wang
		</Names>

		<ImageVariants>
			<Image	imageID="&rsTinkerStations;" imageX="0"   imageY="0"   imageWidth="130" imageHeight="130"/>
			<Image	imageID="&rsTinkerStations;" imageX="0"   imageY="130" imageWidth="130" imageHeight="130"/>
		</ImageVariants>

		<Ships>
			<Lookup count="1d4" table="&tbCommDefenders;"/>
			<Lookup count="1d2" table="&tbCommPrivateCrafts;"/>
		</Ships>

		<Reinforcements minShips="5">
			<Table>
				<Lookup chance="75" table="&tbCommDefenders;"/>
				<Lookup chance="25" table="&tbCommPrivateCrafts;"/>
			</Table>
		</Reinforcements>
		
		<Items>
			<RandomItem count="3d6" 
					criteria=		"aswd -Illegal; -Military; -NotStandard; -NotForSale;"
					level=			"3"
					levelCurve=		"2"
					damaged=		"100"
					/>
		</Items>

		<Trade currency="credit" max="15000" replenish="1250">
			<Sell	criteria="*U -Illegal; -ID; -NotForSale;"	priceAdj="110"/>
			<Buy	criteria="*DU -Illegal; -ID; -NotForSale;"	priceAdj="100"/>
			<Buy	criteria="*DU -Illegal; -ID;"				priceAdj="50"/>
		</Trade>

		<Devices>
			<Device deviceID="&itFlenserCannon;"	omnidirectional="true"/>
			<Device deviceID="&itShtormRepeater;" omnidirectional="true" posAngle="0" posRadius="40"/>
			<Device deviceID="&itShtormRepeater;" omnidirectional="true" posAngle="120" posRadius="40"/>
			<Device deviceID="&itShtormRepeater;" omnidirectional="true" posAngle="240" posRadius="40"/>
		</Devices>

		<StaticData>
			<CustomWork>
				(
					(&itTitaniumOre;		2	&itTitaniumPlate;)
					(&itHeavyWater;			4	&itXMHArmor;)
					(&itSiliconArmorPatch;	4	&itPhotorepairArmor;)
					(&itCarbonSpool;		2	&itHeavyCeramicPlate;)
					(&itPlasteelOre;		4	&itPlasteelPlate;)
					(&itHyperfiberRoll;		4	&itTevlarCompositeArmor;)
					(&itDuralloyOre;		5	&itDuralloyArmor;)
					(&itReactiveArmor;		4	&itAdvancedReactiveArmor;)
					(&itCeralloyOre;		5	&itCeralloyArmor;)
					(&itOrthoSteelOre;		10	&itOrthoSteel;)

					(&itClass1Deflector;	4	&itSolonShieldGenerator;)
					(&itClass2Deflector;	2	&itSolonShieldGenerator;)
					(&itSuperconductingCoil; 8	&itSuperconductingShields;)

					(&itRecoillessCannon;	4	&itDualRecoillessCannon;)
					(&itLaserCannon;		8	&itLaserArray;)
					(&itPartisanCannon;		2	&itSmartCannon;)
					(&itTurbolaserCannon;	4	&itDualTurbolaserCannon;)
					(&itRadioactiveWaste;	8	&itWasteCannon;)
					(&itFusionTrigger;		1	&itXM900Missile;)

					(&itRepairingNanos;		6	&itArmorRepairDevice;)
					)
			</CustomWork>

			<NPCService>
				(	;	service					level	margin
					(	'repairArmor			8		100		)
					)
			</NPCService>
		</StaticData>

		<Events>
			<GetDockScreen>
				; If the ship is radioactive then we need to decontaminate
				(if (and (shpIsRadioactive gPlayerShip)
						(not (objIsAbandoned gSource))
						)
					(list "Decon" 10)
					Nil
					)
			</GetDockScreen>
		</Events>

		<DockScreens>
			<Main>
				<Panes>
					<Default
							desc=	"You are docked at a station belonging to the Tinkers Guild. The docking bay is decorated with various ancient devices of unknown origin and purpose.">

						<Actions>
							<Action name="Buy Scrap" default="1" key="B">
								(scrShowBuyScreen 
									"*"						; items sold to player
									)
							</Action>

							<Action name="Sell Scrap" key="S">
								(scrShowSellScreen
									"*"						; items bought from player
									)
							</Action>

							<Action name="Repair or Replace Armor" key="A">
								(block Nil
									(setq gTechLevel 8)
									(setq gArmorSegment 0)
									(setq gCheckMilitaryID True)
									(setq gMargin 100)
									(scrShowScreen gScreen "&dsRepairArmor;")
									)
							</Action>

							<Action name="Custom Work" key="C">
								(if (objGetData gSource 'customIntroDone)
									(scrShowScreen gScreen &dsTinkerCustomWork;)
									(scrShowPane gScreen "CustomWorkIntro")
									)
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>
						</Actions>
					</Default>
						
					<CustomWorkIntro>
						<OnPaneInit>
							(scrSetDesc gScreen
								"You're in a machine shop surrounded by moving autowelders and cutters. A dark-skinned woman stands amid the chaos holding a datapad.\n\n"
								
								"\"We have a list of items we can fabricate for you. You'll need to provide the required scrap items or raw materials plus fabrication cost.\""
								)
						</OnPaneInit>
				
						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(block Nil
									(objSetData gSource 'customIntroDone True)
									(scrShowPane gScreen "Default")
									(scrShowScreen gScreen &dsTinkerCustomWork;)
									)
							</Action>
						</Actions>
					</CustomWorkIntro>
				</Panes>
			</Main>

			<Decon>
				<Panes>
					<Default>
						<OnPaneInit>
							(block Nil
								; Figure out how much it would cost to make the ship immune to radiation
								(setq gCost (multiply 400 (shpGetArmorCount gPlayerShip)))

								(switch
									; If the player has it, then we can do it
									(geq (plyGetCredits gPlayer) gCost)
										(block Nil
											(scrSetDesc gScreen (cat "A woman in a hazmat suit meets you at the airlock.\n\n\"Seriously, your ship is pretty toxic. Do you want us to take care of it? We can fix it for " gCost " credits.\""))
											(setq gResult 'immune)
											)

									; Otherwise, no luck
									(block Nil
										(scrSetDesc gScreen (cat "A woman in a hazmat suit meets you at the airlock.\n\n\"Ugh, your ship is pretty toxic. Please come back after you've deconned!\""))
										(setq gResult Nil)
										)
									)

								(scrEnableAction gScreen 0 gResult)
								)
						</OnPaneInit>

						<Actions>
							<Action name="Decontaminate" default="1" key="D">
								(block (armorEnhanced)
									; Decontaminate
									(plyCharge gPlayer gCost)
									(shpDecontaminate gPlayerShip)

									; Make immune
									(setq armorEnhanced 0)
									(objEnumItems gPlayerShip "aI" theItem
										(block (result)
											(setq result (shpEnhanceItem gPlayerShip theItem 0x0b00))
											(switch
												(or (eq result 0) (eq result 2) (eq result 6) (eq result 7))
													(setq armorEnhanced (add armorEnhanced 1))
												)
											)
										)

									; Compose the result
									(setq gDesc "The woman in the hazmat suit decontaminates your ship with various robots. She applies borocarbide paste to your ship.\n\n")
									(switch
										(eq armorEnhanced (shpGetArmorCount gPlayerShip))
											(setq gDesc (cat gDesc "\"The new borocarbide coating will make your ship immune to radiation.\""))

										(eq armorEnhanced 0)
											(setq gDesc (cat gDesc "\"I tried to make your ship immune to further contamination, but it didn't take. You must have some other coatings on your armor.\""))

										(setq gDesc (cat gDesc "\"I tried to make your ship immune to radiation, but it didn't fully work. You must have some other coatings on your armor.\""))
										)

									(scrShowPane gScreen "DeconDone")
									)
							</Action>

							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>
						</Actions>

					</Default>

					<DeconDone>
						<OnPaneInit>
							(scrSetDesc gScreen gDesc)
						</OnPaneInit>

						<Actions>
							<Action name="Continue" default="1" cancel="1" key="C">
								(scrShowScreen gScreen "Main")
							</Action>
						</Actions>
					</DeconDone>
				</Panes>
			</Decon>
		</DockScreens>

		<DockingPorts>
			<Port x="0"		y="90" />
			<Port x="0"		y="-90" />
			<Port x="60"	y="60" />
			<Port x="60"	y="-60" />
			<Port x="90"	y="0" />
			<Port x="-90"	y="0" />
			<Port x="-60"	y="60" />
			<Port x="-60"	y="-60" />
		</DockingPorts>
	</StationType>
	
	<!-- ICS spawner -->
	
		<!-- Star Cannon 

	<ItemType UNID="&itStarCannon;"
			name=				"Katana star cannon"
			level=				"7"
			value=				"40000"
			mass=				"5000"
			frequency=			"common"
			attributes=			"EnergyWeapon; MajorItem; Military; Specialty; Bushido"

			description=		"The star cannon fires a stream of high-energy ions. Star cannons are military weapons that cannot be used on civilian ships without a special ID."
			>

		<Image imageID="&rsItemsBushido2;" imageX="192" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"beam"

				damage=				"ion:4d6-1"
				fireRate=			"12"
				lifetime=			"60"
				passthrough=		"50"
				powerUse=			"750"

				sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"starblaster"
						primaryColor=		"0x00, 0x80, 0xff"
						secondaryColor=		"0x80, 0xc0, 0xff"
						/>
			</Effect>
		</Weapon>
		<Invoke>
			(block (TheShip)
				;spawn an ICS ~75 ls away
				(Setq TheShip (sysCreateShip &scIocrymCommandShip; (sysVectorPolarOffset gplayership (random 0 360) 70) &svIocrym; [controller]))
				)
		</Invoke>

	</ItemType>
-->
		<!-- PK25 Morning Star Cannon -->

	<ItemType UNID="&itMorningStarCannon;"
			name=				"PK25 Morning Star cannon"
			attributes=			"commonwealth, majorItem, NAMI"
			  
			level=				"4"
			frequency=			"uncommon"

			value=				"5200"
			mass=				"4000"
			  
			description=		"NAMI's Morning Star cannon shoots a high-velocity cloud of dense particles that can severely damage light to medium armor."
			>

		<Image imageID="&rsItemsNAMI3;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"particles"

				damage=				"kinetic:25; WMD:1"
				fireRate=			"16"
				missileSpeed=		"40"
				lifetime=			"60"
				powerUse=			"150"

				particleCount=		"1d11+44"
				particleSpreadAngle="15"
				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Particle
						style=			"line"
						primaryColor=	"#ccf7ff"
						secondaryColor=	"#2e3233"
						/>
			</Effect>
		</Weapon>

	</ItemType>
	
	<!-- Solar Armor -->

	<ItemType UNID="&itSolarArmor;"
			name=				"[segment(s) of ]solar armor"
			attributes=			"commonwealth, minorItem, solon"
			  
			level=				"4"
			frequency=			"rare"
			numberAppearing=	"1d4"

			value=				"700"
			mass=				"3000"
			  
			description=		"This armor combines honeycombed solar panels with a plasteel armor substrate. The armor will recharge the ship's reactor when near a sun."
			>

		<Image imageID="&rsItems4;" imageX="0" imageY="0" imageWidth="96" imageHeight="96"/>

		<Armor
				hitPoints=	"75"
				hpBonus=	"+100, -50, +25, -25, +25"

				repairTech=	"5"
				repairCostAdj=	"200"
				installCostAdj=	"200"

				photoRecharge="true"
				/>

	</ItemType>
	<!-- Solar Panel Array -->

	<ItemType UNID="&itSolarPanelArray;"
			name=				"solar panel array"
			attributes=			"commonwealth, majorItem"
			  
			level=				"3"
			frequency=			"rare"

			value=				"650"
			mass=				"1000"
			  
			description=		"A solar panel array converts sunlight into energy usable by a ship's reactor."
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="192" imageWidth="96" imageHeight="96"/>

		<SolarDevice
				refuel=			"60"
				/>

	</ItemType>
	
	<!-- Commonwealth Turret -->

	<StationType UNID="&stCommonwealthTurret;"
			name=				"Commonwealth defense turret"
			sovereign=			"&svCommonwealth;"
			abandonedScreen=	"&dsAbandonedStation;"
			dockScreen=			"Main"
			noMapLabel=			"true"
			noFriendlyFire=		"true"
			canAttack=			"true"

			mass=				"2000"
			armorID=			"&itP120HexphaseArmor;"
			hitPoints=			"100"
			structuralHitPoints="20"
			fireRateAdj=		"40"
			ejectaType=			"&vtWreckEjecta;"
			>

		<ImageVariants>
			<Image			imageID="&rsStations4;" imageX="96" imageY="320" imageWidth="32" imageHeight="32"/>
			<Image			imageID="&rsStations4;" imageX="96" imageY="352" imageWidth="32" imageHeight="32"/>
			<Image			imageID="&rsStations4;" imageX="96" imageY="384" imageWidth="32" imageHeight="32"/>
			<Image			imageID="&rsStations4;" imageX="96" imageY="416" imageWidth="32" imageHeight="32"/>
		</ImageVariants>

		<Devices>
			<Device deviceID="&itTeV9Blaster;"	omnidirectional="true"/>
			<Device deviceID="&itNM900MissilePod;"	omnidirectional="true"/>
			<Device deviceID="&itMammoth25Deflector;"	/>
		</Devices>

		<DockScreens>
			<Main>

				<Panes>
					<Default
							desc=	"You are docked at a Commonwealth Defense Turret. These armed and armored turrets are used to defend Commonwealth stations and settlements in the Ungoverned Territories beyond St. Katharine's Star.">

						<Actions>
							<Action name="Undock" cancel="1" key="U">
								<Exit/>
							</Action>

						</Actions>

					</Default>
				</Panes>
			</Main>
		</DockScreens>

		<DockingPorts
				portCount=		"2"
				portRadius=		"24"
				maxDist=		"3"
				/>

	</StationType>
	
	<!-- CorporateCruiser -->

	<ShipClass UNID="&scCorporateCruiser;"
			manufacturer=		"Rasiermesser"
			class=				"Corporate cruiser"
			type=				""
			defaultSovereign=	"&svCorporate;"

			attributes=			"capitalShip, corporate, genericClass, majorShip"
			   
			size=				"275"
			mass=				"25000"
			thrustRatio=		"2"
			maxSpeed=			"20"
			cargoSpace=			"1000"

			cyberDefenseLevel=	"8"

			explosionType=		"&vtThermoExplosion3;"
			>

		<!-- Configuration -->
		
		<Armor
			armorID=			"&itHexaCarbideArmor;"
			count=				"16"
			/>
		
		<Devices>
			<Device deviceID="&itRasiermesserLauncher;" secondaryWeapon="true" minFireArc="340" maxFireArc="200"	posAngle="110" posRadius="60" posZ="0"/>
			<Device deviceID="&itRasiermesserLauncher;" secondaryWeapon="true" minFireArc="160" maxFireArc="20"		posAngle="250" posRadius="60" posZ="0"/>
			<Device deviceID="&itCorporateRailgun;" secondaryWeapon="true" omnidirectional="true" posZ="0"/>
			<Device deviceID="&itRasiermesserLauncher;" omnidirectional="true" posAngle="0" posRadius="0" posZ="0"/>
			<Device deviceID="&itPlasmaShieldGenerator;"/>
		</Devices>

		<Maneuver
			maxRotationRate=	"3.0"
			rotationAccel=		"0.5"
			/>

		<Interior>
			<Compartment name="interior"
					hitPoints=	"300"
					/>
			
			<Compartment name="main drive"
					type=		"mainDrive"
					hitPoints=	"100"

					posX=		"-25"
					posY=		"0"
					sizeX=		"50"
					sizeY=		"40"
					/>
		</Interior>

		<Items>
			<Item count="40d20" item="&itGotha10Missile;"/>
			<Item count="2d12" item="&itPteracniumFuelRod;"/>
		</Items>

		<!-- Image and Effects -->

		<Image imageID="&rsCorporateCruiser;" imageWidth="230" imageHeight="230"/>

		<Effects>
			<Effect type="thrustMain"		posAngle="180"	posRadius="0"	posZ="-10"	rotation="180"	sendToBack="*"/>
		</Effects>
		
		<!-- AI and Behavior -->
		
		<AISettings
			fireRateAdj=		"40"
			fireAccuracy=		"95"
			perception=			"4"
			/>

	</ShipClass>

<!-- Corporate Cruiser 
;I didn't like how the Corp Cruiser kept dying when the Ranx killed a Taikon.
;So I upped its damage too.
	<ShipClass UNID="&scCorporateCruiser;"
			manufacturer=		"Corporate"
			class=				""
			type=				"cruiser"
			score=				"2160"

			mass=				"8000"
			cargoSpace=			"1000"
			thrust=				"5000"
			maneuver=			"12"
			maxSpeed=			"20"

			cyberDefenseLevel=	"8"

			explosionType=		"&vtThermoExplosion2;"
			leavesWreck=		"100"

			attributes=			"corporate,genericClass"
			>
		<Armor>
			<ArmorSection start="345" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="330" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="315" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="300" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="285" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="270" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="255" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="240" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="225" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="210" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="195" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="180" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="165" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="150" span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="135" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="120" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="105" span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="90"  span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="75"  span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="60"  span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="45"  span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="30"  span="15" armorID="&itQuadroCarbideArmor;" nonCritical="general"/>
			<ArmorSection start="15"  span="15" armorID="&itQuadroCarbideArmor;" />
			<ArmorSection start="0"   span="15" armorID="&itQuadroCarbideArmor;" />
		</Armor>
		<Devices>
			<Device deviceID="&itRasiermesserLauncher;" secondaryWeapon="true" minFireArc="340" maxFireArc="200" posAngle="120" posRadius="60"/>
			<Device deviceID="&itRasiermesserLauncher;" secondaryWeapon="true"minFireArc="160" maxFireArc="20" posAngle="240" posRadius="60"/>
			<Device deviceID="&itCorporateRailgun;" secondaryWeapon="true" omnidirectional="true"/>
			<Device deviceID="&itRasiermesserLauncher;" omnidirectional="true" posAngle="0" posRadius="0"/>
			<Device deviceID="&itPlasmaShieldGenerator;"/>
		</Devices>
		<Image imageID="&rsLargeShips1;" imageX="576" imageY="0" imageWidth="192" imageHeight="192" imageFrameCount="0" imageTicksPerFrame="0"/>

		<Items>
			<Item count="40d20" item="&itGotha10Missile;"/>
			<Item count="40d20" item="&itGotha400Seeker;"/>
			<Item count="2d12" item="&itPteracniumFuelRod;"/>
		</Items>

		<Events>
			<OnCreate>
				(block Nil
					(for RPC 0 2 (block (Escort)
						; Create the Brit
						(setq Escort (sysCreateShip &scBritannia; gSource &svCorporate;))
						;Order EscortA to escort the cruiser
						(shpOrder Escort "escort" gSource)
						))
					)
			</OnCreate>
		</Events>
		
		<AISettings
			fireRateAdj=		"25"
			fireAccuracy=		"95"
			perception=			"4"
			/>
	</ShipClass>
	-->
<!-- Corporate Railgun -->
	<ItemType UNID="&itCorporateRailgun;"
			name=				"Corporate Railgun"
			level=				"8"
			value=				"50000"
			mass=				"4000"
			frequency=			"uncommon"
			modifiers=			"MajorItem; Military; Rasiermesser; NotRandom; NotForSale"
			
			description=		"Decievingly pathetic-looking as it is, it gets the job done."
			>
		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>	
		<!--
				type=				"beam"
				
				beamType=			"laser"
				primaryColor=	"0x80, 0xff, 0xff"
				secondaryColor=	"0x00, 0xff, 0xff"
		-->		
		<Weapon
				type=			"missile"
				hitPoints=		"20"
				
				omnidirectional=	"true"
				configuration=		"dual"
				damage=				"ion:20d1+3"
				fireRate=			"16"
				lifetime=			"200"
				powerUse=			"1200"

				sound=				"&snLaserCannon;"
				>
			<Effect>
				<ParticleJet
					emitRate=			"20"
					emitSpeed=			"2-10"
					particleLifetime=	"5-15"
					spreadAngle=		"45"
					>
				<Events>
					<GetParameters>
						(block (damageHP lifetimeAdj)
							(setq damageHP (@ gData 'damageHP))
							(setq lifetimeAdj (mathScale damageHP 10 140 1 5 50))

							{
								particleLifetime: (cat lifetimeAdj "-" (multiply lifetimeAdj 3))
								}
							)
					</GetParameters>
				</Events>
				
				<ParticleEffect>
					<Particle
							style=			"plain"
							minWidth=		"1"
							maxWidth=		"2"
							primaryColor=	"0x80, 0xff, 0xff"
							secondaryColor=	"0x00, 0xff, 0xff"
							/>
				</ParticleEffect>
			</ParticleJet>
			</Effect>
		</Weapon>
</ItemType>	
</TranscendenceExtension>